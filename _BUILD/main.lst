GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 1


   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.global __do_copy_data
   8               		.global __do_clear_bss
   9               		.stabs	"/Users/meh/_avrProjects/LCDdirectLVDS/65-reGittifying/",100,0,2,.Ltext0
  10               		.stabs	"main.c",100,0,2,.Ltext0
  11               		.text
  12               	.Ltext0:
  13               		.stabs	"gcc2_compiled.",60,0,0,0
  14               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,1,0
  15               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,1,0
  16               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,1,0
  17               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,1,0
  18               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,1,0
  19               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,1,
  20               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,1,0
  21               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,1,0
  22               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,1,0
  23               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,1,0
  24               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,1,0
  25               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,1,0
  26               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,1,0
  27               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,1,0
  28               		.stabs	"void:t(0,15)=(0,15)",128,0,1,0
  29               		.stabs	"projInfo.h",130,0,0,0
  30               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/inttypes.h",130,0,0,0
  31               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/stdint.h",130,0,0,0
  32               		.stabs	"int8_t:t(3,1)=(0,10)",128,0,121,0
  33               		.stabs	"uint8_t:t(3,2)=(0,11)",128,0,122,0
  34               		.stabs	"int16_t:t(3,3)=(0,1)",128,0,123,0
  35               		.stabs	"uint16_t:t(3,4)=(0,4)",128,0,124,0
  36               		.stabs	"int32_t:t(3,5)=(0,3)",128,0,125,0
  37               		.stabs	"uint32_t:t(3,6)=(0,5)",128,0,126,0
  38               		.stabs	"int64_t:t(3,7)=(0,6)",128,0,128,0
  39               		.stabs	"uint64_t:t(3,8)=(0,7)",128,0,129,0
  40               		.stabs	"intptr_t:t(3,9)=(3,3)",128,0,142,0
  41               		.stabs	"uintptr_t:t(3,10)=(3,4)",128,0,147,0
  42               		.stabs	"int_least8_t:t(3,11)=(3,1)",128,0,159,0
  43               		.stabs	"uint_least8_t:t(3,12)=(3,2)",128,0,164,0
  44               		.stabs	"int_least16_t:t(3,13)=(3,3)",128,0,169,0
  45               		.stabs	"uint_least16_t:t(3,14)=(3,4)",128,0,174,0
  46               		.stabs	"int_least32_t:t(3,15)=(3,5)",128,0,179,0
  47               		.stabs	"uint_least32_t:t(3,16)=(3,6)",128,0,184,0
  48               		.stabs	"int_least64_t:t(3,17)=(3,7)",128,0,192,0
  49               		.stabs	"uint_least64_t:t(3,18)=(3,8)",128,0,199,0
  50               		.stabs	"int_fast8_t:t(3,19)=(3,1)",128,0,213,0
  51               		.stabs	"uint_fast8_t:t(3,20)=(3,2)",128,0,218,0
  52               		.stabs	"int_fast16_t:t(3,21)=(3,3)",128,0,223,0
  53               		.stabs	"uint_fast16_t:t(3,22)=(3,4)",128,0,228,0
  54               		.stabs	"int_fast32_t:t(3,23)=(3,5)",128,0,233,0
  55               		.stabs	"uint_fast32_t:t(3,24)=(3,6)",128,0,238,0
  56               		.stabs	"int_fast64_t:t(3,25)=(3,7)",128,0,246,0
  57               		.stabs	"uint_fast64_t:t(3,26)=(3,8)",128,0,253,0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 2


  58               		.stabs	"intmax_t:t(3,27)=(3,7)",128,0,273,0
  59               		.stabs	"uintmax_t:t(3,28)=(3,8)",128,0,278,0
  60               		.stabn	162,0,0,0
  61               		.stabs	"int_farptr_t:t(2,1)=(3,5)",128,0,77,0
  62               		.stabs	"uint_farptr_t:t(2,2)=(3,6)",128,0,81,0
  63               		.stabn	162,0,0,0
  64               		.stabn	162,0,0,0
  65               		.stabs	"main.h",130,0,0,0
  66               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/avr/io.h",130,0,0,0
  67               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/avr/fuse.h",130,0,0,0
  68               		.stabs	"__fuse_t:t(6,1)=(6,2)=s3low:(0,11),0,8;high:(0,11),8,8;extended:(0,11),16,8;;",128,0,244,0
  69               		.stabn	162,0,0,0
  70               		.stabn	162,0,0,0
  71               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/stdlib.h",130,0,0,0
  72               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/include/stddef.h",130,0,0,0
  73               		.stabs	"size_t:t(8,1)=(0,4)",128,0,211,0
  74               		.stabs	"wchar_t:t(8,2)=(0,1)",128,0,323,0
  75               		.stabn	162,0,0,0
  76               		.stabs	"div_t:t(7,1)=(7,2)=s4quot:(0,1),0,16;rem:(0,1),16,16;;",128,0,71,0
  77               		.stabs	"ldiv_t:t(7,3)=(7,4)=s8quot:(0,3),0,32;rem:(0,3),32,32;;",128,0,77,0
  78               		.stabs	"__compar_fn_t:t(7,5)=(7,6)=*(7,7)=f(0,1)",128,0,80,0
  79               		.stabn	162,0,0,0
  80               		.stabs	"_commonCode_localized/heartbeat/1.21/heartbeat.h",130,0,0,0
  81               		.stabs	"./_commonCode_localized/hfModulation/1.00/hfModulation.h",130,0,0,0
  82               		.stabs	"hfm_t:t(10,1)=(10,2)=B(10,3)=s4desiredSum:(3,3),0,16;maxPower:(3,2),16,8;power:(3,2),24,8;
  83               		.stabn	162,0,0,0
  84               		.stabn	162,0,0,0
  85               		.stabn	162,0,0,0
  86               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/avr/pgmspace.h",130,0,0,0
  87               		.stabs	"prog_void:t(11,1)=(11,2)=(11,2)",128,0,217,0
  88               		.stabs	"prog_char:t(11,3)=(11,4)=@s8;r(11,4);0;255;",128,0,218,0
  89               		.stabs	"prog_uchar:t(11,5)=(11,6)=@s8;r(11,6);0;255;",128,0,219,0
  90               		.stabs	"prog_int8_t:t(11,7)=(11,8)=(0,10)",128,0,221,0
  91               		.stabs	"prog_uint8_t:t(11,9)=(11,10)=(0,11)",128,0,222,0
  92               		.stabs	"prog_int16_t:t(11,11)=(11,12)=(0,1)",128,0,223,0
  93               		.stabs	"prog_uint16_t:t(11,13)=(11,14)=(0,4)",128,0,224,0
  94               		.stabs	"prog_int32_t:t(11,15)=(11,16)=(0,3)",128,0,225,0
  95               		.stabs	"prog_uint32_t:t(11,17)=(11,18)=(0,5)",128,0,226,0
  96               		.stabs	"prog_int64_t:t(11,19)=(11,20)=(0,6)",128,0,228,0
  97               		.stabs	"prog_uint64_t:t(11,21)=(11,22)=(0,7)",128,0,229,0
  98               		.stabn	162,0,0,0
  99               		.stabs	"_commonCode_localized/sineTable/0.99/sineTable.h",130,0,0,0
 100               		.stabs	"theta_t:t(12,1)=(3,3)",128,0,85,0
 101               		.stabs	"sine_t:t(12,2)=(3,3)",128,0,112,0
 102               		.stabs	"mult_t:t(12,3)=(3,5)",128,0,115,0
 103               		.stabs	"axis_t:t(12,4)=(3,5)",128,0,132,0
 104               		.stabn	162,0,0,0
 105               		.stabs	"fb_question.c",130,0,0,0
 106               		.stabs	"icons/Question.h",130,0,0,0
 107               		.stabs	"icons/iconPacking.h",130,0,0,0
 108               		.stabs	"_BLAH_SHROOM_:T(15,1)=s7p_image:(15,2)=*(3,2),0,16;p_mask:(15,2),16,16;p_palette:(15,2),32
 109               		.stabs	"sprite_t:t(15,3)=(15,1)",128,0,25,0
 110               		.stabn	162,0,0,0
 111               		.stabn	162,0,0,0
 112               		.stabn	162,0,0,0
 113               		.stabs	"pll_enable:F(0,15)",36,0,1,pll_enable
 114               	.global	pll_enable
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 3


 115               		.type	pll_enable, @function
 116               	pll_enable:
 117               		.stabd	46,0,0
 118               		.stabs	"pll.c",132,0,0,.Ltext1
 119               	.Ltext1:
   1:pll.c         **** void pll_enable(void)
   2:pll.c         **** {
 120               		.stabn	68,0,2,.LM0-.LFBB1
 121               	.LM0:
 122               	.LFBB1:
 123               	/* prologue: function */
 124               	/* frame size = 0 */
   3:pll.c         ****    //Stolen from threePinIDer109t:
   4:pll.c         **** 
   5:pll.c         ****    //Set Timer1 to use the "asynchronous clock source" (PLL at 64MHz)
   6:pll.c         ****    // With phase-correct PWM (256 steps up, then back down) and CLKDIV1
   7:pll.c         ****    // this is 64MHz/512=125kHz
   8:pll.c         ****    // The benefit of such high PWM frequency is the low RC values necessary
   9:pll.c         ****    //  for filtering to DC.
  10:pll.c         ****    // "To change Timer/Counter1 to the async mode follow this procedure"
  11:pll.c         ****    // 1: Enable the PLL
  12:pll.c         ****    setbit(PLLE, PLLCSR);
 125               		.stabn	68,0,12,.LM1-.LFBB1
 126               	.LM1:
 127 0000 89B5      		in r24,73-0x20
 128 0002 8260      		ori r24,lo8(2)
 129 0004 89BD      		out 73-0x20,r24
 130               	.LBB132:
 131               	.LBB133:
 132               	.LBB134:
 133               	.LBB135:
 134               	.LBB136:
 135               	.LBB137:
 136               		.stabs	"/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h",132,0,0,.Ltext2
 137               	.Ltext2:
   1:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** /* Copyright (c) 2002, Marek Michalkiewicz
   2:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    Copyright (c) 2007 Joerg Wunsch
   3:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    All rights reserved.
   4:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
   5:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    Redistribution and use in source and binary forms, with or without
   6:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    modification, are permitted provided that the following conditions are met:
   7:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
   8:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    * Redistributions of source code must retain the above copyright
   9:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****      notice, this list of conditions and the following disclaimer.
  10:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  11:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    * Redistributions in binary form must reproduce the above copyright
  12:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****      notice, this list of conditions and the following disclaimer in
  13:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****      the documentation and/or other materials provided with the
  14:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****      distribution.
  15:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  16:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****    * Neither the name of the copyright holders nor the names of
  17:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****      contributors may be used to endorse or promote products derived
  18:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****      from this software without specific prior written permission.
  19:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  20:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  21:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  22:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 4


  23:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  24:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  25:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  26:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  27:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  28:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  29:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  30:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****   POSSIBILITY OF SUCH DAMAGE. */
  31:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  32:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** /* $Id: delay_basic.h 2143 2010-06-08 21:19:51Z joerg_wunsch $ */
  33:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  34:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** #ifndef _UTIL_DELAY_BASIC_H_
  35:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** #define _UTIL_DELAY_BASIC_H_ 1
  36:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  37:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** #include <inttypes.h>
  38:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  39:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** #if !defined(__DOXYGEN__)
  40:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** static inline void _delay_loop_1(uint8_t __count) __attribute__((always_inline));
  41:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** static inline void _delay_loop_2(uint16_t __count) __attribute__((always_inline));
  42:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** #endif
  43:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  44:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** /** \file */
  45:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** /** \defgroup util_delay_basic <util/delay_basic.h>: Basic busy-wait delay loops
  46:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     \code
  47:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     #include <util/delay_basic.h>
  48:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     \endcode
  49:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  50:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     The functions in this header file implement simple delay loops
  51:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     that perform a busy-waiting.  They are typically used to
  52:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     facilitate short delays in the program execution.  They are
  53:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     implemented as count-down loops with a well-known CPU cycle
  54:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     count per loop iteration.  As such, no other processing can
  55:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     occur simultaneously.  It should be kept in mind that the
  56:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     functions described here do not disable interrupts.
  57:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  58:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     In general, for long delays, the use of hardware timers is
  59:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     much preferrable, as they free the CPU, and allow for
  60:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     concurrent processing of other events while the timer is
  61:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     running.  However, in particular for very short delays, the
  62:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     overhead of setting up a hardware timer is too much compared
  63:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     to the overall delay time.
  64:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  65:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     Two inline functions are provided for the actual delay algorithms.
  66:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  67:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** */
  68:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  69:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** /** \ingroup util_delay_basic
  70:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  71:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     Delay loop using an 8-bit counter \c __count, so up to 256
  72:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     iterations are possible.  (The value 256 would have to be passed
  73:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     as 0.)  The loop executes three CPU cycles per iteration, not
  74:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     including the overhead the compiler needs to setup the counter
  75:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     register.
  76:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  77:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     Thus, at a CPU speed of 1 MHz, delays of up to 768 microseconds
  78:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     can be achieved.
  79:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** */
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 5


  80:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** void
  81:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** _delay_loop_1(uint8_t __count)
  82:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** {
  83:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 	__asm__ volatile (
  84:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 		"1: dec %0" "\n\t"
  85:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 		"brne 1b"
  86:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 		: "=r" (__count)
  87:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 		: "0" (__count)
  88:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 	);
  89:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** }
  90:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  91:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** /** \ingroup util_delay_basic
  92:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  93:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     Delay loop using a 16-bit counter \c __count, so up to 65536
  94:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     iterations are possible.  (The value 65536 would have to be
  95:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     passed as 0.)  The loop executes four CPU cycles per iteration,
  96:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     not including the overhead the compiler requires to setup the
  97:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     counter register pair.
  98:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 
  99:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     Thus, at a CPU speed of 1 MHz, delays of up to about 262.1
 100:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****     milliseconds can be achieved.
 101:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h ****  */
 102:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** void
 103:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** _delay_loop_2(uint16_t __count)
 104:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** {
 105:/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h **** 	__asm__ volatile (
 138               		.stabn	68,0,105,.LM2-.LFBB1
 139               	.LM2:
 140 0006 80E9      		ldi r24,lo8(400)
 141 0008 91E0      		ldi r25,hi8(400)
 142               	/* #APP */
 143               	 ;  105 "/usr/local/lib/gcc/avr/4.4.5/../../../../avr/include/util/delay_basic.h" 1
 144 000a 0197      		1: sbiw r24,1
 145 000c 01F4      		brne 1b
 146               	 ;  0 "" 2
 147               	/* #NOAPP */
 148 000e 00C0      		rjmp .L2
 149               	.L3:
 150               	.LBE137:
 151               	.LBE136:
 152               	.LBE135:
 153               	.LBE134:
 154               	.LBE133:
 155               	.LBE132:
 156               		.stabs	"pll.c",132,0,0,.Ltext3
 157               	.Ltext3:
  13:pll.c         ****    // 2: Wait 100us for the PLL to stabilize
  14:pll.c         ****    // (can't use dmsWait since the timer updating the dmsCount hasn't yet been started!)
  15:pll.c         ****    _delay_us(100);
  16:pll.c         **** //   dmsWait(1);
  17:pll.c         ****    // 3: Poll PLOCK until it is set...
  18:pll.c         ****    while(!getbit(PLOCK, PLLCSR))
  19:pll.c         ****    {
  20:pll.c         ****       asm("nop");
 158               		.stabn	68,0,20,.LM3-.LFBB1
 159               	.LM3:
 160               	/* #APP */
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 6


 161               	 ;  20 "pll.c" 1
 162 0010 0000      		nop
 163               	 ;  0 "" 2
 164               	/* #NOAPP */
 165               	.L2:
  18:pll.c         ****    while(!getbit(PLOCK, PLLCSR))
 166               		.stabn	68,0,18,.LM4-.LFBB1
 167               	.LM4:
 168 0012 09B4      		in __tmp_reg__,73-0x20
 169 0014 00FE      		sbrs __tmp_reg__,0
 170 0016 00C0      		rjmp .L3
  21:pll.c         ****    }
  22:pll.c         ****    // 4: Set the PCKE bit to enable async mode
  23:pll.c         ****    setbit(PCKE, PLLCSR);
 171               		.stabn	68,0,23,.LM5-.LFBB1
 172               	.LM5:
 173 0018 89B5      		in r24,73-0x20
 174 001a 8460      		ori r24,lo8(4)
 175 001c 89BD      		out 73-0x20,r24
 176               	/* epilogue start */
  24:pll.c         **** 
  25:pll.c         **** }
 177               		.stabn	68,0,25,.LM6-.LFBB1
 178               	.LM6:
 179 001e 0895      		ret
 180               		.size	pll_enable, .-pll_enable
 181               		.stabs	"__count:r(3,4)",64,0,138,24
 182               		.stabn	192,0,0,.LBB136-.LFBB1
 183               		.stabn	224,0,0,.LBE136-.LFBB1
 184               	.Lscope1:
 185               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 186               		.stabd	78,0,0
 187               		.stabs	"lvds_timerInit:F(0,15)",36,0,994,lvds_timerInit
 188               	.global	lvds_timerInit
 189               		.type	lvds_timerInit, @function
 190               	lvds_timerInit:
 191               		.stabd	46,0,0
 192               		.stabs	"lvds.c",132,0,0,.Ltext4
 193               	.Ltext4:
   1:lvds.c        **** 
   2:lvds.c        **** /*
   3:lvds.c        **** This is an old note from main() upon init...
   4:lvds.c        **** And, actually, the Timer0 stuff may not be related to the comment.
   5:lvds.c        ****   I have no idea how it functioned, it seems the rest was deleted.
   6:lvds.c        ****    //For synchronizing timer1 settings (to avoid glitches)
   7:lvds.c        ****    // count the number of CPU cycles...
   8:lvds.c        ****    // depending on how many cycles it takes to start this and whatnot, 
   9:lvds.c        ****    // there may be an offset. But the jist is we know every 7 cycles
  10:lvds.c        ****    // the timer1 reset is synchronized with the CPU instructions...
  11:lvds.c        **** // OCR0A = 6;
  12:lvds.c        **** // timer_setWGM(0, WGM_CLR_ON_COMPARE);
  13:lvds.c        **** // timer_selectDivisor(0, CLKDIV1);
  14:lvds.c        **** */
  15:lvds.c        **** 
  16:lvds.c        **** 
  17:lvds.c        **** 
  18:lvds.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 7


  19:lvds.c        **** //a/o v62: Are these necessary if NOT using writeColor??? TODO
  20:lvds.c        **** 
  21:lvds.c        **** //#############
  22:lvds.c        **** //For Red and Green (NOT Blue) This enables four shades, instead of three
  23:lvds.c        **** // (including black)
  24:lvds.c        **** // Doing so increases pixel-processing time, thus the pixel-widths
  25:lvds.c        **** // (thus decreasing resolution)
  26:lvds.c        **** // each color takes 9 cycles to process in three-shade mode
  27:lvds.c        **** // or 12 cycles for red and green, plus 9 for blue in four-shade mode
  28:lvds.c        **** // a/o v59: I don't think this does anything in ROW_SEG_BUFFER
  29:lvds.c        **** #define FOUR_SHADES TRUE
  30:lvds.c        **** 
  31:lvds.c        **** 
  32:lvds.c        **** //a/o v60
  33:lvds.c        **** //I can't find this anywhere else... Might not be looking hard enough
  34:lvds.c        **** #define	NUM_COLORS	48
  35:lvds.c        **** //##############
  36:lvds.c        **** 
  37:lvds.c        **** 
  38:lvds.c        **** 
  39:lvds.c        **** //a/o v60: These are old notes, as well...
  40:lvds.c        **** // As I recall, there was some issue with DC signals on the LVDS lines.
  41:lvds.c        **** // I think this was when I was attempting to use AC-Coupling (long before
  42:lvds.c        **** // the 74LS86 was deemed functional)
  43:lvds.c        **** // and probably has no relevence now.
  44:lvds.c        **** //DC_DE is only used in drawPix...
  45:lvds.c        **** //#define DC_DE_DISABLE TRUE
  46:lvds.c        **** //This should remove DC from Vsync, etc...
  47:lvds.c        **** // Currently only implemented with FULL_INIT_TESTS below...
  48:lvds.c        **** //#define REMOVE_DC TRUE
  49:lvds.c        **** 
  50:lvds.c        **** //There are two methods for configuring the PWM channels to output
  51:lvds.c        **** // pseudo-serial data for changes between timing modes... 
  52:lvds.c        **** // (e.g. Horizontal Front Porch -> Hsync -> Back Porch -> Data Enabled)
  53:lvds.c        **** // * Write all the necessary/related registers upon each transition
  54:lvds.c        **** //		Leads to redundancy, as many of the registers are already properly
  55:lvds.c        **** //    configured from the last transition.
  56:lvds.c        **** // * Write only the changed registers
  57:lvds.c        **** //    (As I recall, it was possible to have only a single register-change
  58:lvds.c        **** //     on most, if not all, transitions...)
  59:lvds.c        **** //
  60:lvds.c        **** // The benefit of the latter being: Since the pixel-clock is generally
  61:lvds.c        **** // faster than the processor-clock, or at least not-aligned, reducing the
  62:lvds.c        **** // number of instructions to *one* would allow for glitchless transitions
  63:lvds.c        **** // in the actual PWM signal... guaranteeing that at least the data being
  64:lvds.c        **** // transmitted would conform to FPD-Link compatible signals...
  65:lvds.c        **** //  (no glitches that might, e.g. cause a couple serial-frames to send both
  66:lvds.c        **** //   Data Enable *and* VSync active at the same time. Or, e.g. to send a
  67:lvds.c        **** //   serial-frame which indicates an H-sync while transitioning between
  68:lvds.c        **** //   the H-Back-Porch and Data-Enable)
  69:lvds.c        **** //   Since the only display I've gotten working via LVDS, so far, is 
  70:lvds.c        **** //    DE-Only, these tests and the importance of these glitches will
  71:lvds.c        **** //    probably have to be revisited when working with a display that pays
  72:lvds.c        **** //    attention to the Hsync and Vsync signals.
  73:lvds.c        **** // FULL_INIT_TESTS uses the first option, which guarantees that if I missed
  74:lvds.c        **** // some register-transition (while coding), that at least it *should* send
  75:lvds.c        **** //  the proper signals (after the transition).
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 8


  76:lvds.c        **** //  (The transition-time may, of course, lead to incompatible signals)
  77:lvds.c        **** // So, it's mostly for testing, and should be removed if possible.
  78:lvds.c        **** //#define FULL_INIT_TESTS TRUE
  79:lvds.c        **** 
  80:lvds.c        **** //This should just reduce the number of instructions which actually get
  81:lvds.c        **** // executed, since Hsync doesn't need to be sent, etc.
  82:lvds.c        **** // Actually, I'm working with a DE-Only display right now, and this is NOT
  83:lvds.c        **** // set to TRUE... I haven't tested it with this TRUE
  84:lvds.c        **** //#define DE_ONLY_DISPLAY  TRUE
  85:lvds.c        **** 
  86:lvds.c        **** 
  87:lvds.c        **** 
  88:lvds.c        **** //PWM Timing:
  89:lvds.c        **** // (ATTiny861, Timer1, FastPWM, PWM1X;
  90:lvds.c        **** //  a/o LCDdirectLVDS1_5_PWMtimingTests):
  91:lvds.c        **** //
  92:lvds.c        **** //  PWM output on OC1A
  93:lvds.c        **** //    if OCR1A = 0, OC1A remains constant High
  94:lvds.c        **** //       OCR1A = 1, OC1A is low for 2 counts
  95:lvds.c        **** //       OCR1A = 2, OC1A is low for 3 counts
  96:lvds.c        **** //       OCR1A = 3, OC1A is low for 4 counts
  97:lvds.c        **** //       OCR1A = OCR1C, OC1A remains constant Low
  98:lvds.c        **** //
  99:lvds.c        **** //    THUS:
 100:lvds.c        **** //       compare-match occurs when TCNT changes AWAY from match
 101:lvds.c        **** //         (assuming TCNT starts at 0 for one pulse, 1 for one pulse...)
 102:lvds.c        **** //       TOP (OCR1C) is included in the count...
 103:lvds.c        **** //       There is no single-count pulse-width
 104:lvds.c        **** //         (Though, it seems dead-time could simulate it...)
 105:lvds.c        **** //         (set a deadtime of 1 on the BOTTOM edge and OCR1A)
 106:lvds.c        **** //         (but then there's no high for only one clock)
 107:lvds.c        **** 
 108:lvds.c        **** 
 109:lvds.c        **** 
 110:lvds.c        **** // Rather than *possibly* mess with timing (on other displays?)
 111:lvds.c        **** // Also for testing...
 112:lvds.c        **** //#define DT0_BLUES_ONLY   TRUE
 113:lvds.c        **** 
 114:lvds.c        **** //A/O v13: Using the Samsung LTN display, instead of the IDTech IAXG
 115:lvds.c        **** // LTN appears to be content with my pseudo-LVDS scheme.
 116:lvds.c        **** // IAXG has never unblanked
 117:lvds.c        **** //      Even though suitable timings were found with SwitchResX
 118:lvds.c        **** //      Maybe due to psuedo-LVDS
 119:lvds.c        **** //            slight timing issues // It probably doesn't work with all cases...
 120:lvds.c        **** // Definitely with drawPix/Images...(RC oscillator variances?)
 121:lvds.c        **** //            glitches when switching LVDS states 
 122:lvds.c        **** //                 (thought I had that figured out, originally)
 123:lvds.c        **** //      The fact the LTN appears to recognize the signalling suggests the
 124:lvds.c        **** //      IAXG would be worth further exploration...
 125:lvds.c        **** //         Unfortunately, the CCFT blew out my inverter
 126:lvds.c        **** //                        And I must have put it back together incorrectly
 127:lvds.c        **** //                        (backlight filters out of order or flipped?)
 128:lvds.c        **** //                        (which actually makes for some very interesting
 129:lvds.c        **** //                         visuals, but hard to develop with)
 130:lvds.c        **** //      IAXG: uses DE, V, and H
 131:lvds.c        **** //             At low pixel-clock DE is active for fewer pixels...
 132:lvds.c        **** //              Last Tested: 680 was full-screen
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 9


 133:lvds.c        **** //             Nice because it increases the frame-rate!
 134:lvds.c        **** //      LTN:  uses DE only
 135:lvds.c        **** 
 136:lvds.c        **** 
 137:lvds.c        **** // The idea is to use FastPWM with the PLL to implement 64-85Mbits/sec
 138:lvds.c        **** //  (the PLL on the Tiny861 supposedly maxes out at 85MHz)
 139:lvds.c        **** //  (Though I am currently running with OSCAL set to the highest frequency
 140:lvds.c        **** //   and the PLL seems to be syncing at about 128MHz)
 141:lvds.c        **** 
 142:lvds.c        **** 
 143:lvds.c        **** // Wiring:
 144:lvds.c        **** //   Many iterations of AVR->Differential "LVDS" circuitry resulted in the
 145:lvds.c        **** //   simplest of all:
 146:lvds.c        **** //
 147:lvds.c        **** //   Believe it or not, the XOR is a standard TTL LS-series XOR: 74LS86
 148:lvds.c        **** //     Specifically: TI SN74LS86N from 1980 (the only XOR in my collection)
 149:lvds.c        **** //   It's spec'd to run from 4.5-5.5V, and its propagatio delays and slew
 150:lvds.c        **** //     rates aren't really spec'd to be good enough for 128MHz pixel clock
 151:lvds.c        **** //     yet it's working...
 152:lvds.c        **** //   Further, the output voltages are right in the LVDS range,
 153:lvds.c        **** //     IIRC (last I 'scoped) around 1.5V High and 1.0V Low
 154:lvds.c        **** //      (Don't forget the LCD has a 100ohm resistor between
 155:lvds.c        **** //         RXinN/clk+ and RXinN/clk-)
 156:lvds.c        **** //   Most signals are connected as shown (RXin0, RXin2, RXclk)
 157:lvds.c        **** //   Green is the only one which has RXin1- and RXin1+ swapped
 158:lvds.c        **** //     since it is on the /OC1B (inverted) output
 159:lvds.c        **** //   Green may benefit from a pull-up resistor on /OC1B
 160:lvds.c        **** //     there was some weird noise appearing like a floating-input
 161:lvds.c        **** //     when the full frame was not filled with pixels
 162:lvds.c        **** //     (but it should've waited to disable /OC1B until *after* the delays,
 163:lvds.c        **** //      etc. So I'm not sure what it was)
 164:lvds.c        **** //
 165:lvds.c        **** //   It's probably best to use two XORs from the same chip for a single
 166:lvds.c        **** //    LVDS channel, since different chips may have slightly different
 167:lvds.c        **** //    characteristics. 
 168:lvds.c        **** //
 169:lvds.c        **** //   The entire circuit, thus, requires TWO 74LS86's 
 170:lvds.c        **** //    (four XORs apiece, two per LVDS channel, 8-total)
 171:lvds.c        **** //
 172:lvds.c        **** //
 173:lvds.c        **** //              VCC3V3   VCC3V3
 174:lvds.c        **** //                |        |
 175:lvds.c        **** //                +---\ \¯¯¯-_
 176:lvds.c        **** //                     | |    ¯-
 177:lvds.c        **** //                     | | XOR   >------> RXinN/clk-
 178:lvds.c        **** //   AVR               | |    _-
 179:lvds.c        **** //   OC1x >----+------/ /___-¯
 180:lvds.c        **** //   output    |
 181:lvds.c        **** //             |   
 182:lvds.c        **** //             |      
 183:lvds.c        **** //             `------\ \¯¯¯-_
 184:lvds.c        **** //                     | |    ¯-
 185:lvds.c        **** //                     | | XOR   >------> RXinN/clk+
 186:lvds.c        **** //                     | |    _-
 187:lvds.c        **** //                +---/ /___-¯
 188:lvds.c        **** //                |        |
 189:lvds.c        **** //               GND      GND
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 10


 190:lvds.c        **** //
 191:lvds.c        **** //  
 192:lvds.c        **** //  Also used: The TTL 74AHC series...
 193:lvds.c        **** //    I found some one-gang 74AHC1G32 and 74AHC1G86's on an old iBook
 194:lvds.c        **** //     motherboard. (An OR and an XOR, respectively). These are spec'd for
 195:lvds.c        **** //     3.3V operation, and faster. The output voltages appear OK for LVDS
 196:lvds.c        **** //     (with a 100ohm load in the LCD)
 197:lvds.c        **** //
 198:lvds.c        **** //  NOTE: Since I only had enough of these 1-gang devices for two LVDS
 199:lvds.c        **** //     channels, I had to implement Red and Green with the LS 
 200:lvds.c        **** //     before switching all channels to the LS... Using different chips
 201:lvds.c        **** //     (specifically, different TYPES of chips) for different channels
 202:lvds.c        **** //     caused timing issues: Since the AHC is faster, the clock and Blue
 203:lvds.c        **** //     signals are synchronized, but the red and green signals were shifted
 204:lvds.c        **** //     a bit or two (resulting in "Black" appearing green, of course
 205:lvds.c        **** //     true black isn't really possible with my timing scheme... see below)
 206:lvds.c        **** //
 207:lvds.c        **** //  For other circuits attempted, see oldNotes.txt
 208:lvds.c        **** //     (and boy there were many, involving voltage dividers, AC coupling,
 209:lvds.c        **** //      reference voltages, BJT differential amplifiers... I doubt I 
 210:lvds.c        **** //      documented them all, or even most. Whoda thunk the simplest, 
 211:lvds.c        **** //      especially under- AND over-spec'd--timing, supply voltage, and
 212:lvds.c        **** //      output voltage--would be the one...?)
 213:lvds.c        **** //
 214:lvds.c        **** // LVDS/FPD-Link timing:
 215:lvds.c        **** 
 216:lvds.c        **** //            |<--- (LCDdirectLVDS: "pixel") --->|
 217:lvds.c        **** //  Timer1:   |<-- One Timer1 Cycle (OCR1C=6) -->|
 218:lvds.c        **** //  TCNT:     |  0   1    2    3    4    5    6  |  0   1    2    3    
 219:lvds.c        **** //            |____.____.____.____               |____.____.____.____
 220:lvds.c        **** //  RXclk+:   /         |         \    .    .    /         |         \ //
 221:lvds.c        **** //            |         |          ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|         |
 222:lvds.c        **** // One Pixel: |         |<--- One FPD-Link Pixel Cycle --->|
 223:lvds.c        **** //            |                                  |
 224:lvds.c        **** // "Blue/DVH" |____ ____v____ ____ ____v____ ____|____ ____
 225:lvds.c        **** //  RXin2:    X B3 X B2 X DE X /V X /H X B5 X B4 X B3 X B2 X ...
 226:lvds.c        **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯|¯¯¯¯ ¯¯¯¯
 227:lvds.c        **** //            |         |<--Not Blue-->|         |
 228:lvds.c        **** //            |                                  |
 229:lvds.c        **** // "Green"    |____ ____v____ ____v____ ____ ____|____ ____
 230:lvds.c        **** //  RXin1:    X G2 X G1 X B1 X B0 X G5 X G4 X G3 X G2 X G1 X ...
 231:lvds.c        **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ ¯¯¯¯ 
 232:lvds.c        **** //            |         |<------->|-Not Green    |
 233:lvds.c        **** //
 234:lvds.c        **** // "Red"      |____ ____v____v____ ____ ____ ____|____ ____
 235:lvds.c        **** //  RXin0:    X R1 X R0 X G0 X R5 X R4 X R3 X R2 X R1 X R0 X ...
 236:lvds.c        **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
 237:lvds.c        **** //            |         |<-->|-Not Red
 238:lvds.c        **** //
 239:lvds.c        **** //   Of course: The Not Green/Red bits above are low-bits and
 240:lvds.c        **** //              basically have little/no visible effect
 241:lvds.c        **** //
 242:lvds.c        **** //
 243:lvds.c        **** // Ponderings on using /OC1x's and OC1D for other colors...
 244:lvds.c        **** //    /OC1D could easily be used for another color, unaffected by others
 245:lvds.c        **** //          since DT1(L) and OCR1D are unused
 246:lvds.c        **** //
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 11


 247:lvds.c        **** // DE:   Blue Values
 248:lvds.c        **** //       -----------
 249:lvds.c        **** //       OCR1A=4,5,6   (OCR1A=6, Full-Blue would force /OC1A low,
 250:lvds.c        **** //       DT1(H)=0,1,2                      e.g. Green=Full-Green or Off)
 251:lvds.c        **** //                      Also: OCR1A=4,5 would affect Green
 252:lvds.c        **** //                            (DT1(L) is from this edge...)
 253:lvds.c        **** //                            DT1(H) also affects complementary OC1D
 254:lvds.c        **** //
 255:lvds.c        **** // CLK:  OCR1B=3       CLOCK can NOT be complementary-output mode
 256:lvds.c        **** //                                   (/OC1B unusuable)
 257:lvds.c        **** //                                   otherwise, DT1 would affect clock
 258:lvds.c        **** //
 259:lvds.c        **** //
 260:lvds.c        **** // CLOCK_INSENSITIVITY_TESTING:
 261:lvds.c        **** //   (a/o 56-36-3ish, no longer testable)
 262:lvds.c        **** //    Testing of DE/Blue's DeadTime values on Clocking...
 263:lvds.c        **** //       Image-shift (not sure why, more calculations? Not *that* many!)
 264:lvds.c        **** //       Blue now has only two shades besides black
 265:lvds.c        **** //         ~66% and 100%
 266:lvds.c        **** //       Now each blue pixel (the ones appearing black)
 267:lvds.c        **** //         is bordered by a blue line...
 268:lvds.c        **** //    All doable. Would have preferred 3 shades besides black,
 269:lvds.c        **** //       but two isn't bad.
 270:lvds.c        **** //
 271:lvds.c        **** //  New Idea: Since CLOCK can be used with DT1H (during DE)
 272:lvds.c        **** //    DE/Blue DT values are 0, 1, or 2 (D0, D1, D2)
 273:lvds.c        **** //     Dn corresponds to the low-to-high dead-timer value
 274:lvds.c        **** //                   (aka counter-reset delay, on OCR1x)
 275:lvds.c        **** //     dn corresponds to the high-to-low dead-timer value
 276:lvds.c        **** //                   (aka OCR match delay, on /OCR1x)
 277:lvds.c        **** //     Cn corresponds to OCR1x=n
 278:lvds.c        **** //
 279:lvds.c        **** // This was easier to comprehend in v<26... now it's more informative
 280:lvds.c        **** //   but harder to view...
 281:lvds.c        **** //                          OCR1B = 3
 282:lvds.c        **** //  TCNT:     |  0   1    2    3  | 4    5    6
 283:lvds.c        **** //
 284:lvds.c        **** //  CLKideal: /¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯\______________/
 285:lvds.c        **** //
 286:lvds.c        **** //            |____ ____ ____.____v              |
 287:lvds.c        **** //  CLK:   D0>/ D1>/ D2>/         \    .    .    /
 288:lvds.c        **** //  OC1B      |¯¯¯¯ ¯¯¯¯          |¯¯¯¯ ¯¯¯¯ ¯¯¯¯|
 289:lvds.c        **** //            |                   |
 290:lvds.c        **** //            | G2   G1   B1   B0 | G5   G4   G3
 291:lvds.c        **** //  Green:    |                   |____ ____ ____
 292:lvds.c        **** //  /OC1B     \    .    .    . d0>/ d1>/ d2>/ d3?\  //
 293:lvds.c        **** //            |¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
 294:lvds.c        **** //            |
 295:lvds.c        **** //            | R1   R0   G0   R5   R4   R3   R2
 296:lvds.c        **** //  Red:      |____ ____ ____ ____ ____ ____ ____
 297:lvds.c        **** //  OC1D   D0>/ D1>/ D2>/ C2>\ C3>\ C4>\ C5>\ C6...
 298:lvds.c        **** //             ¯¯¯¯ ¯¯¯¯      ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
 299:lvds.c        **** //             ____ ____ ____ ____ ____ ____ ____
 300:lvds.c        **** //  /OC1D     \ ^OCR1D>=6^ L>/  M>/  N>/  O>/ P?>...
 301:lvds.c        **** //             ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
 302:lvds.c        **** //
 303:lvds.c        **** //              B3   B2   DE   /V   /H   B5   B4
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 12


 304:lvds.c        **** // "Blue/DVH" |____ ____ ____.____.____ ____ ____
 305:lvds.c        **** //  OC1A:  D0>/ D1>/ D2>/           C4>\ C5>\ C6...
 306:lvds.c        **** //            |¯¯¯¯ ¯¯¯¯                ¯¯¯¯ ¯¯¯¯
 307:lvds.c        **** //             ____ ____ ____ ____ ____ ____ ____
 308:lvds.c        **** //  /OC1A:    \  ^^^--OCR1A>=6--^^^  X>/  Y>/ Z?>\  //
 309:lvds.c        **** //  (usable?)  ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
 310:lvds.c        **** //                 X: OCR1A=4, DTL=0
 311:lvds.c        **** //                 Y: OCR1A=4, DTL=1; OCR1A=5, DTL=0
 312:lvds.c        **** //                 Z: OCR1A=4, DTL=2; OCR1A=5, DTL=1; OCR1A>=6
 313:lvds.c        **** 
 314:lvds.c        **** //I've looked it over extensively, albiet exhaustedly, and it seems
 315:lvds.c        **** // there's only one way to do this. Unfortunately, DTH=1,2 *does* affect
 316:lvds.c        **** // the clocking. Everything displays properly, but the lighter shades of 
 317:lvds.c        **** // blue enabled by DTH=1,2 don't display at all (or dang-near black)
 318:lvds.c        **** // So there's really no benefit to using DTH=1,2 during DE for blues...
 319:lvds.c        **** // That gives two (similar) shades of bright blue 63/63 and 47/63
 320:lvds.c        **** // *'d are arbitrarily chosen for implementation
 321:lvds.c        **** // F'd are selected when FOUR_SHADES is TRUE
 322:lvds.c        **** //   (experimentation might show other choices are better)
 323:lvds.c        **** //
 324:lvds.c        **** // Red is connected to OC1D, Complementary output is not necessary
 325:lvds.c        **** //  OCR1D determines its brightness:
 326:lvds.c        **** //   (+OC1D => RX0+)
 327:lvds.c        **** //   *Off (0/63): OCR1D = 0  \      //
 328:lvds.c        **** //    3/63:         OCR1D = 1   > These three appear identical in glColorTest
 329:lvds.c        **** //    3/63:         OCR1D = 2  /  (G0 Active, from here down)
 330:lvds.c        **** //   *35/63:      OCR1D = 3
 331:lvds.c        **** //   F51/63:      OCR1D = 4
 332:lvds.c        **** //    59/63:      OCR1D = 5  \  These two appear identical in glColorTest
 333:lvds.c        **** //   *63/63:      OCR1D >= 6 /
 334:lvds.c        **** //    (+OC1D => RX0-)
 335:lvds.c        **** //    Not really worth pursuing, next step from 60/63 is 28/63 then 12
 336:lvds.c        **** //
 337:lvds.c        **** // Green is connected to /OC1B (the complementary channel to CLK)
 338:lvds.c        **** //  Its polarity is reversed (but that's easy since we have a single-ended
 339:lvds.c        **** //  to differential converter, and its outputs can just be swapped)
 340:lvds.c        **** //  DTL1 determines its brightness (G0 affected by Red):
 341:lvds.c        **** //   (/OC1B => RX1+)
 342:lvds.c        **** //    Off (0/63):   DTL1 = 3 (is this possible?)
 343:lvds.c        **** //    8-9/63:         DTL1 = 2
 344:lvds.c        **** //    24-25/63:      DTL1 = 1
 345:lvds.c        **** //    56-57/63:      DTL1 = 0
 346:lvds.c        **** //   (/OC1B => RX1-)            (B1,0 Active, as well as G2,1)
 347:lvds.c        **** //     *Off (6/63):   DTL1 = 0
 348:lvds.c        **** //   *38-39/63:      DTL1 = 1
 349:lvds.c        **** //   F54-55/63:      DTL1 = 2
 350:lvds.c        **** //   *62-63/63:      DTL1 = 3
 351:lvds.c        **** //
 352:lvds.c        **** // Blue, as in previous versions, is connected to OC1A, DTH=0 during DE 
 353:lvds.c        **** //  so as not to interfere with the clock
 354:lvds.c        **** //  OCR1A determines the brightness (B1,0 active, per Green->RX1-):
 355:lvds.c        **** //    (+OC1A => RX2+)               (B3,2 Active from here down)
 356:lvds.c        **** //    *Off (15/63):   OCR1A=4
 357:lvds.c        **** //    *47/63:          OCR1A=5
 358:lvds.c        **** //      *63/63:         OCR1A=6
 359:lvds.c        **** //
 360:lvds.c        **** // The clock is single-ended (complementary-mode disabled) during NON-DE
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 13


 361:lvds.c        **** //  because the DE/V/H signals (except in DE mode) require DT1H to vary.
 362:lvds.c        **** //  When DE is active the clock channel (OC1B) is switched to 
 363:lvds.c        **** //  complementary-output-mode to enable the Green PWM output
 364:lvds.c        **** //
 365:lvds.c        **** // For easier viewing:
 366:lvds.c        **** //   Red: (+OC1D => RX0+)
 367:lvds.c        **** //    Off (0/63): OCR1D = 0
 368:lvds.c        **** //    35/63:      OCR1D = 3
 369:lvds.c        **** //    51/63:      OCR1D = 4   (FOUR_SHADES only)
 370:lvds.c        **** //    63/63:      OCR1D >= 6
 371:lvds.c        **** //   Green: (/OC1B => RX1-)          (B1,0 Active, as well as G2,1)
 372:lvds.c        **** //    Off (6/63): DTL1 = 0
 373:lvds.c        **** //    38-39/63:      DTL1 = 1
 374:lvds.c        **** //    54-55/63:      DTL1 = 2   (FOUR_SHADES only)
 375:lvds.c        **** //    62-63/63:      DTL1 = 3
 376:lvds.c        **** //   Blue: (+OC1A => RX2+)               (B3,2 Active from here down)
 377:lvds.c        **** //    Off (15/63):  OCR1A=4
 378:lvds.c        **** //    47/63:        OCR1A=5
 379:lvds.c        **** //    63/63:        OCR1A=6
 380:lvds.c        **** //
 381:lvds.c        **** 
 382:lvds.c        **** // Toward creating a GIMP palette... v54.5
 383:lvds.c        **** // Probably absurd, but this was brown/orange on GIMP and it's yellow here
 384:lvds.c        **** //
 385:lvds.c        **** //   Red: (+OC1D => RX0+)
 386:lvds.c        **** //    Off (0/63): OCR1D = 0   r=0
 387:lvds.c        **** //    35/63:      OCR1D = 3   r=142
 388:lvds.c        **** //    51/63:      OCR1D = 4   r=206
 389:lvds.c        **** //    63/63:      OCR1D >= 6   r=255
 390:lvds.c        **** //   Green: (/OC1B => RX1-)          (B1,0 Active, as well as G2,1)
 391:lvds.c        **** //    Off (6/63): DTL1 = 0      g=24
 392:lvds.c        **** //    38-39/63:      DTL1 = 1 g=154
 393:lvds.c        **** //    54-55/63:      DTL1 = 2   g=218
 394:lvds.c        **** //    62-63/63:      DTL1 = 3 g=251
 395:lvds.c        **** //   Blue: (+OC1A => RX2+)               (B3,2 Active from here down)
 396:lvds.c        **** //    Off (15/63):  OCR1A=4   b=61
 397:lvds.c        **** //    47/63:        OCR1A=5   b=190
 398:lvds.c        **** //    63/63:        OCR1A=6   b=255
 399:lvds.c        **** //
 400:lvds.c        **** //  These numbers don't look entirely accurate...
 401:lvds.c        **** //    they vary depending on the other colors... and why is blue so high
 402:lvds.c        **** //    even when it's off?
 403:lvds.c        **** //  Maybe I'm looking at old notes...?
 404:lvds.c        **** //   SEE lvdsColorExperiments.c Now Here.
 405:lvds.c        **** 
 406:lvds.c        **** //  Implementations/prospects:
 407:lvds.c        **** //  * rowBuffer.c (more like row-settings-buffer)
 408:lvds.c        **** //     calculate a row's worth of pixels before drawing that row
 409:lvds.c        **** //     (uses packed color settings in a single byte per drawable pixel)
 410:lvds.c        **** //     64 drawable pixels across, regardless of LVDS speed
 411:lvds.c        **** //  * For faster pixels: these settings values could be stored 
 412:lvds.c        **** //     in individual bytes. Gives about 1/3 more pixels at 3x the memory
 413:lvds.c        **** //     (not implemented)
 414:lvds.c        **** //  * rowSegBuffer.c
 415:lvds.c        **** //     also calculates an entire row before drawing it
 416:lvds.c        **** //     instead of storing pixels, store "segments"
 417:lvds.c        **** //     i.e. each segment is defined by a color value and a length
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 14


 418:lvds.c        **** //      the color-value is stored as DT/OCR values (not RGB values)
 419:lvds.c        **** //     Number of segments is limited only by memory...
 420:lvds.c        **** //      e.g. 64 segments per row (max) is 64*3Bytes
 421:lvds.c        **** //       Three bytes for color, and *really simple* packing for seg-length
 422:lvds.c        **** //      BUT: at slow LVDS speeds, the resolution of these segments could be
 423:lvds.c        **** //       as high as one LCD pixel.
 424:lvds.c        **** //      possibly: at *really* low LVDS speeds we could be 64*2Bytes
 425:lvds.c        **** //      (with packing)
 426:lvds.c        **** //      Actually: Using GB_COMBINED gives 2Bytes per segment
 427:lvds.c        **** //      only adds two clock cycles to each "pixel", so probably worth it
 428:lvds.c        **** 
 429:lvds.c        **** //   In Any Case: There's not enough RAM for a full frame
 430:lvds.c        **** //          64 pixels across * 64 pixels down is 4096 bytes
 431:lvds.c        **** //          So whatever method, we need to precalculate each row before
 432:lvds.c        **** //          displaying it
 433:lvds.c        **** //          Could be as simple as loading direct from program memory
 434:lvds.c        **** //
 435:lvds.c        **** 
 436:lvds.c        **** // Since low-bits are barely visible, their effect is neglected.
 437:lvds.c        **** //   Thus: Green is affected only by the Compare-Match deadTimer (DT1L)
 438:lvds.c        **** //         Red is affected only by OCR1D, and could be single-ended
 439:lvds.c        **** //   OTOH:
 440:lvds.c        **** //         The Visible blue values (with DT affecting clock)
 441:lvds.c        **** //         are only the high-two values, which are affected only by OCR1A
 442:lvds.c        **** //         So counter-reset dead-time (DT1H) needn't be varied
 443:lvds.c        **** //         And, then, the clock won't be affected at all
 444:lvds.c        **** //         (assuming we set it to single-ended during DE disabled, for V/H)
 445:lvds.c        **** //
 446:lvds.c        **** // NEW CONSIDERATION: "The dead timer delays the waveform by a minimum of
 447:lvds.c        **** //    "of one count, when DT=0..."
 448:lvds.c        **** // So changing the clock from single-ended to complementary
 449:lvds.c        **** //   might actually cause the clock output to be shifted!
 450:lvds.c        **** 
 451:lvds.c        **** 
 452:lvds.c        **** // DE/V/H Timing (LCDdirectLVDS):
 453:lvds.c        **** //  
 454:lvds.c        **** //
 455:lvds.c        **** //            |  0   1    2    3    4    5    6       All: set @ 0
 456:lvds.c        **** //            |____.____.____.____                         OCR1C = 6 
 457:lvds.c        **** //  Clock:    /                   \    .    .    /         Complementary-
 458:lvds.c        **** //                                 ¯¯¯¯ ¯¯¯¯ ¯¯¯¯          Output Mode
 459:lvds.c        **** //                                                          required for DT
 460:lvds.c        **** //   Signal:    B3   B2   DE   /V   /H   B5   B4 | B3
 461:lvds.c        **** //             ____ ____ ____ ____ ____ ____ ____|____    
 462:lvds.c        **** //   DE:      X B3 X B2 /    .    .    \ B5 X B4 X B3 X    
 463:lvds.c        **** //   state2    ¯¯¯¯ ¯¯¯¯                ¯¯¯¯ ¯¯¯¯|¯¯¯¯    
 464:lvds.c        **** //   DE_BLUE: >¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|    DT=X, OCR=0
 465:lvds.c        **** //                         Watch the transition!! -------^
 466:lvds.c        **** //   DE_NORM: >_________/¯¯¯¯¯¯¯¯¯¯¯¯¯¯\_________|    DT=2, OCR=4
 467:lvds.c        **** //   DC_DISABLED:
 468:lvds.c        **** //   maxBlue: >¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯\____|      DT=0, OCR=5
 469:lvds.c        **** //             See below for more blue settings...
 470:lvds.c        **** //
 471:lvds.c        **** //             ____ ____      ____      ____ ____|____ 
 472:lvds.c        **** //  H (only): X xx X xx \    /    \    / xx X xx X xx X    
 473:lvds.c        **** //   state1    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯      ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ 
 474:lvds.c        **** //            >______________/¯¯¯¯\______________|    DT=3, OCR=3
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 15


 475:lvds.c        **** //  DC_DISABLED:
 476:lvds.c        **** //   Not much can be done...
 477:lvds.c        **** //
 478:lvds.c        **** //             ____ ____           ____ ____ ____|____ 
 479:lvds.c        **** //  V w/o H:  X xx X xx \    .    /    \ xx X xx X xx X
 480:lvds.c        **** //   state3    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯      ¯¯¯¯ ¯¯¯¯|¯¯¯¯
 481:lvds.c        **** //            >___________________/¯¯¯¯\_________|    DT=4, OCR=4 (+?)
 482:lvds.c        **** // DC_DISABLED:
 483:lvds.c        **** //            >___________________/¯¯¯¯¯¯¯¯¯\____|      DT=4, OCR=5
 484:lvds.c        **** 
 485:lvds.c        **** //             ____ ____                ____ ____|____ 
 486:lvds.c        **** //  V w/ H:   X xx X xx \    .    .    / xx X xx X xx X
 487:lvds.c        **** //   state4    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ 
 488:lvds.c        **** //            >__________________________________|    DT=X, OCR=0
 489:lvds.c        **** //                             TransitionWatch!!! -------^
 490:lvds.c        **** //                             Shouldn't matter... DT from no-edge
 491:lvds.c        **** // DC_DISABLED:
 492:lvds.c        **** //            >¯¯¯¯¯¯¯¯¯\________________________|      DT=0, OCR=1
 493:lvds.c        **** 
 494:lvds.c        **** //             ____ ____      ____ ____ ____ ____|____ 
 495:lvds.c        **** //  Nada:     X xx X xx \    /    .    \ xx X xx X xx X    
 496:lvds.c        **** //   state0    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯           ¯¯¯¯ ¯¯¯¯|¯¯¯¯     
 497:lvds.c        **** //            >______________/¯¯¯¯¯¯¯¯¯\_________|    DT=3, OCR=4 (+?)
 498:lvds.c        **** // DC_DISABLED:
 499:lvds.c        **** //            >______________/¯¯¯¯¯¯¯¯¯¯¯¯¯¯\____|      DT=3, OCR=5
 500:lvds.c        **** 
 501:lvds.c        **** // Transitions: OLD!!!!! WRONG!!!!
 502:lvds.c        **** //   (are they? There're several additional transitions, now, for one.)
 503:lvds.c        **** //  The idea is to reduce the number of instructions between each
 504:lvds.c        **** //  LVDS "state."
 505:lvds.c        **** //  These are implemented below in the case:
 506:lvds.c        **** //    "#else //NOT FULL_INIT_TESTS"
 507:lvds.c        **** //  Since each instruction takes *longer than* a single pixel
 508:lvds.c        **** //    two instructions would *at best* occur on two consecutive pixels
 509:lvds.c        **** //    Thus, there's likely to be a transition-glitch
 510:lvds.c        **** //    (e.g. old OCR value with new DT value)
 511:lvds.c        **** //  Note that the new DT values are implemented at the next corresponding
 512:lvds.c        **** //    edge after the DT-write instruction completes
 513:lvds.c        **** //    (for +OC1A/DT1H, when TCNT is reset to 0)
 514:lvds.c        **** //    (for -OC1A/DT1L, when TCNT passes OCR1A)
 515:lvds.c        **** //    New OCR values are delayed until the next TCNT reset to 0
 516:lvds.c        **** //
 517:lvds.c        **** //  Initial:
 518:lvds.c        **** //  Nada               DT=2  NADA_OCR = (3<=OCR<(=?)6)
 519:lvds.c        **** 
 520:lvds.c        **** //  Nada   ->   H         OCR=2
 521:lvds.c        **** //  H      ->   Nada      OCR=NADA_OCR
 522:lvds.c        **** //  
 523:lvds.c        **** //  Nada   ->   V         DT=3
 524:lvds.c        **** //  V      ->   V+H      OCR=0
 525:lvds.c        **** //  V+H   ->   V         OCR=NADA_OCR
 526:lvds.c        **** //  V      ->   Nada      DT=2
 527:lvds.c        **** //
 528:lvds.c        **** //  Nada   ->   DE         DT=1
 529:lvds.c        **** //  DE   ->   Nada      DT=2
 530:lvds.c        **** 
 531:lvds.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 16


 532:lvds.c        **** #if (defined(REMOVE_DC) && REMOVE_DC)
 533:lvds.c        **** #error "REMOVE_DC hasn't been tested since lcdStuff, or long prior"
 534:lvds.c        ****  #define Nada_init()         { DT1=(3<<4); OCR1A=5; }
 535:lvds.c        **** 
 536:lvds.c        ****  //Unused, normally...
 537:lvds.c        ****  #define Vsync_init()       { DT1=(4<<4);  OCR1A=5; }
 538:lvds.c        ****  #define VplusH_init()      { DT1=0;       OCR1A=1; }
 539:lvds.c        ****  #define Hsync_init()       { DT1=(3<<4);  OCR1A=3; }
 540:lvds.c        ****  #define DEonly_init()      { DT1=(2<<4);  OCR1A=4; }
 541:lvds.c        ****  #define DEblue_init()       { DT1=0;       OCR1A=5; }
 542:lvds.c        **** 
 543:lvds.c        **** #else //!REMOVE_DC
 544:lvds.c        **** //Nada init
 545:lvds.c        ****  #define Nada_init()         { DT1=(3<<4); OCR1A=4; }
 546:lvds.c        **** 
 547:lvds.c        **** //Unused, normally...
 548:lvds.c        ****  #define Vsync_init()         { DT1=(4<<4);   OCR1A=4; }
 549:lvds.c        ****  #define VplusH_init()      { DT1=0;         OCR1A=0; }
 550:lvds.c        ****  #define Hsync_init()         { DT1=(3<<4);   OCR1A=3; }
 551:lvds.c        **** // #define DE_init()            { DT1=(2<<4);   OCR1A=4; } //...SHOULD BE
 552:lvds.c        ****  #define DEonly_init()         { DT1=(2<<4);  OCR1A=4; }
 553:lvds.c        ****  #define DEblue_init()         { DT1=0;       OCR1A=6; }
 554:lvds.c        **** //#define DE_init()            { DT1=(1<<4);   OCR1A=2; } //Works with DE_ONLY
 555:lvds.c        ****  //#define DE_init()            { DT1=0;         OCR1A=0xff; }   //DE_BLUE
 556:lvds.c        **** #endif //REMOVE_DC
 557:lvds.c        **** 
 558:lvds.c        **** 
 559:lvds.c        **** 
 560:lvds.c        **** //Display is DE-Only (doesn't use H/Vsync)
 561:lvds.c        **** // Shouldn't be necessary to select this if it is,
 562:lvds.c        **** // since DE timing is the same either way
 563:lvds.c        **** // but I want to test whether a single-bit is being detected
 564:lvds.c        **** // (e.g. maybe the rise/fall-times of the output aren't fast enough for a
 565:lvds.c        **** //  single bit, which might explain why the other display didn't work)
 566:lvds.c        **** #if (defined(DE_ONLY_DISPLAY) && DE_ONLY_DISPLAY)
 567:lvds.c        **** #define Vsync_fromNada()      Nada_init()
 568:lvds.c        **** #define VplusH_fromVsync()    Nada_init()
 569:lvds.c        **** #define Vsync_fromVplusH()    Nada_init()
 570:lvds.c        **** #define Nada_fromVsync()      Nada_init()
 571:lvds.c        **** #define Hsync_fromNada()      Nada_init()
 572:lvds.c        **** #define Nada_fromHsync()      Nada_init()
 573:lvds.c        **** #define DEonly_fromNada()     DE_init()
 574:lvds.c        **** #define DEblue_fromDEonly()   DE_init()
 575:lvds.c        **** #define Nada_fromDEblue()      Nada_init()
 576:lvds.c        **** #define DEonly_fromDEblue()	DE_init()
 577:lvds.c        ****  #if(DE_BLUE)
 578:lvds.c        ****   #warning "DE_BLUE is true, but not implemented with DE_ONLY_DISPLAY"
 579:lvds.c        ****   #warning "...The display should be blank"
 580:lvds.c        ****  #endif
 581:lvds.c        **** //Use full initialization of each LVDS state
 582:lvds.c        **** // (might not be good during transitions, but should guarantee
 583:lvds.c        **** //  steady-state, in case my transitions aren't correct...)
 584:lvds.c        **** #elif (defined(FULL_INIT_TESTS) && FULL_INIT_TESTS)
 585:lvds.c        **** #define Vsync_fromNada()      Vsync_init()
 586:lvds.c        **** #define VplusH_fromVsync()      VplusH_init()
 587:lvds.c        **** #define Vsync_fromVplusH()      Vsync_init()
 588:lvds.c        **** #define Nada_fromVsync()      Nada_init()
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 17


 589:lvds.c        **** #define Hsync_fromNada()      Hsync_init()
 590:lvds.c        **** #define Nada_fromHsync()      Nada_init()
 591:lvds.c        **** #define DEonly_fromNada()      DEonly_init()
 592:lvds.c        **** #define DEblue_fromDEonly()   DEblue_init()
 593:lvds.c        **** #define Nada_fromDEonly()      Nada_init()
 594:lvds.c        **** #define Nada_fromDEblue()      Nada_init()
 595:lvds.c        **** #define DEonly_fromDEblue()	DEonly_init()
 596:lvds.c        **** 
 597:lvds.c        **** #else   //NOT FULL_INIT_TESTS
 598:lvds.c        **** //#define Vsync_fromNada()   { DT1=(4<<4); }
 599:lvds.c        **** #define Vsync_fromNada()   { DT1=(4<<4); OCR1A=5; } //Leave two bits high
 600:lvds.c        ****                                                     //for easy-scoping
 601:lvds.c        ****                   //Three would be nicer, but I'm pretty sure OCR=TOP=ON
 602:lvds.c        **** #define VplusH_fromVsync() { OCR1A=0; }
 603:lvds.c        **** //#define Vsync_fromVplusH() { OCR1A=4; }
 604:lvds.c        **** #define Vsync_fromVplusH() { OCR1A=5; }            //Extra bits for scoping
 605:lvds.c        **** //#define Nada_fromVsync()   { DT1=(3<<4); }
 606:lvds.c        **** #define Nada_fromVsync()   { DT1=(3<<4); OCR1A=4; } //scoping...
 607:lvds.c        **** #define Hsync_fromNada()   { OCR1A=3; }
 608:lvds.c        **** #define Nada_fromHsync()   { OCR1A=4; }
 609:lvds.c        **** 
 610:lvds.c        **** #define Nada_fromDEblue()   { DT1=(3<<4); OCR1A=4; }
 611:lvds.c        **** #define Nada_fromDEonly()   { DT1=(3<<4); }
 612:lvds.c        **** #define DEonly_fromNada()   { DT1=(2<<4); }
 613:lvds.c        **** #define DEblue_fromNada()   { OCR1A=0xff; }
 614:lvds.c        **** #define DEblue_fromDEonly() { OCR1A=0xff; }
 615:lvds.c        **** 
 616:lvds.c        **** //a/o v62: This hadn't existed previously, necessary for
 617:lvds.c        **** //BLUE_VERT_BAR_REVERSED
 618:lvds.c        **** #warning "This is just a guess, piecing together Nada_fromDEblue and whatnot"
 619:lvds.c        **** //But it seems to work... 
 620:lvds.c        **** #define DEonly_fromDEblue() { OCR1A=4; }
 621:lvds.c        **** 
 622:lvds.c        **** /*
 623:lvds.c        **** #if (!defined(DE_BLUE) || !DE_BLUE)
 624:lvds.c        ****  //Nada -> DE
 625:lvds.c        ****  //#define DE_fromNada()      { DT1=(1<<4); }   //DT1 = (1<<4);
 626:lvds.c        ****  #define DE_fromNada()      { DT1=(2<<4); }
 627:lvds.c        ****  //DE -> Nada
 628:lvds.c        ****  //#define Nada_fromDE()      { DT1=(2<<4); }   //DT1 = (2<<4);
 629:lvds.c        ****  #define Nada_fromDE()      { DT1=(3<<4); }
 630:lvds.c        **** #else
 631:lvds.c        ****  //Nada -> DE
 632:lvds.c        ****  //#define DE_fromNada()      { OCR1A=0xff; }   //DT1 = (1<<4);
 633:lvds.c        ****  #define DE_fromNada()      { OCR1A=0xff; }
 634:lvds.c        ****  //DE -> Nada
 635:lvds.c        ****  //#define Nada_fromDE()      { OCR1A=3; }   //DT1 = (2<<4);
 636:lvds.c        ****  #define Nada_fromDE()      { OCR1A=4; }
 637:lvds.c        **** #endif
 638:lvds.c        **** */
 639:lvds.c        **** #endif //End Of FULL_INIT_TESTS
 640:lvds.c        **** 
 641:lvds.c        **** 
 642:lvds.c        **** 
 643:lvds.c        **** // NOTES:
 644:lvds.c        **** //    DeadTimer requires
 645:lvds.c        **** //        COM1x1:0 = 01 ("Complementary Compare Output Mode" ?)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 18


 646:lvds.c        **** //      Complementary Compare Output Mode:
 647:lvds.c        **** //        OCW1A: cleared on match, set at BOTTOM
 648:lvds.c        **** //    If PWM1X (pwm inversion) is used, OC1A = !OCW1A
 649:lvds.c        **** //        (Does not affect DT)
 650:lvds.c        **** //
 651:lvds.c        **** // CLOCK:
 652:lvds.c        **** //    Can NOT use differential mode with:
 653:lvds.c        **** //       OC1B pin is -differential input (through a resistor)
 654:lvds.c        **** //    /OC1B pin is +differential input (through a resistor)
 655:lvds.c        **** //    BECAUSE: DeadTimer affects ALL PWM channels
 656:lvds.c        **** //
 657:lvds.c        **** 
 658:lvds.c        **** //
 659:lvds.c        **** //
 660:lvds.c        **** // ISSUES:
 661:lvds.c        **** //    Using Dead-Timer does not allow for use of complementary outputs
 662:lvds.c        **** //      as complementary LVDS inputs... 
 663:lvds.c        **** //      DeadTimer affects ALL PWM channels in complementary mode
 664:lvds.c        **** //    (e.g. RXclkin+ on OC1B and RXclkin- on /OC1B is not an option)
 665:lvds.c        **** //
 666:lvds.c        **** 
 667:lvds.c        **** 
 668:lvds.c        **** // The typical patterns look like this (not at all to scale):
 669:lvds.c        **** //   ----______------------------------------------------___----- V
 670:lvds.c        **** //      --_--_--_--_--_--_--_--_--_--_--_--_--_--_ H
 671:lvds.c        **** //      __________-__-__-__-__-__-__-__-__-__-  DE
 672:lvds.c        **** //                 
 673:lvds.c        **** //             ^^^^\                                          //blah
 674:lvds.c        **** //             1234 5?
 675:lvds.c        **** // Pixels are sent during DE High (basically all the CPU will be used here)
 676:lvds.c        **** //Ideally, 
 677:lvds.c        **** //  there won't be any glitches when changing from one state to another
 678:lvds.c        **** //
 679:lvds.c        **** //  NOTES: PWM1X inversion affects all PWM channels!
 680:lvds.c        **** //
 681:lvds.c        **** //  Unchangeables:
 682:lvds.c        **** //    FastPWM
 683:lvds.c        **** //      inverted with PWM1X
 684:lvds.c        **** //
 685:lvds.c        **** //  Init (pre 1):
 686:lvds.c        **** //    DeadTimerRising=1
 687:lvds.c        **** //
 688:lvds.c        **** //  The states are:
 689:lvds.c        **** //   (Not necessarily accurate, just looking into necessary changes)
 690:lvds.c        **** //   (from Vsync L->H)
 691:lvds.c        **** //
 692:lvds.c        **** //   1  NothingActive (long, No DE, VporchFrontTimes)
 693:lvds.c        **** //      *  1<=DeadTimerRising<=5
 694:lvds.c        **** //        (OCW1A: set @ BOTTOM, cleared @ OCR1A
 695:lvds.c        **** //      *  OCR1A == 6
 696:lvds.c        **** //
 697:lvds.c        **** //   2  Hsync
 698:lvds.c        **** //      *  DeadTimer _OFF_ -> Horiz
 699:lvds.c        **** //        (OCW1A: set @ BOTTOM, cleared @ OCR1A
 700:lvds.c        **** //        (OCR1A == 6
 701:lvds.c        **** //   3  NothingActive (short)
 702:lvds.c        **** //      *  1<=DeadTimerRising<=5
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 19


 703:lvds.c        **** //        (OCW1A: set @ BOTTOM, cleared @ OCR1A
 704:lvds.c        **** //        (OCR1A == 6
 705:lvds.c        **** //   4  DE
 706:lvds.c        **** //        (1<=DeadTimerRising<(=?)5 (>1 for blue pixels?) 
 707:lvds.c        **** //            (==5 cancelled by OCR1A match?)
 708:lvds.c        **** //        (OCW1A: set @ BOTTOM, cleared @ OCR1A
 709:lvds.c        **** //      *  OCR1A = 5 (or 1<=OCR1A<5 for blue pixels?)
 710:lvds.c        **** //   5  NothingActive(?)
 711:lvds.c        **** //        (1<=DeadTimerRising<=5
 712:lvds.c        **** //        (OCW1A: set @ BOTTOM, cleared @ OCR1A
 713:lvds.c        **** //      *  OCR1A == 6
 714:lvds.c        **** //
 715:lvds.c        **** //   7  Repeat 2-5 for each row
 716:lvds.c        **** //
 717:lvds.c        **** //   8  NothingActive (long, No DE, VporchBackTimes)
 718:lvds.c        **** //      ?  1<=DeadTimerRising<=5
 719:lvds.c        **** //        (OCW1A: set @ BOTTOM, cleared @ OCR1A
 720:lvds.c        **** //        (OCR1A == 6
 721:lvds.c        **** //
 722:lvds.c        **** //   9  V w/o H
 723:lvds.c        **** //      ?  OFF <= DeadTimer <= (5 - OCR1A)
 724:lvds.c        **** //     **  OCW1A: cleared at BOTTOM, set at OCR1A
 725:lvds.c        **** //            ??? What is the effect of changing this while running?
 726:lvds.c        **** //      *  1 <= OCR1A <= 5
 727:lvds.c        **** //   10 V w/  H
 728:lvds.c        **** //      ?   DeadTimer OFF (H -> Low)
 729:lvds.c        **** //      *   OCW1A: set @ BOTTOM, cleared @ OCR1A
 730:lvds.c        **** //      *   OCR1A > (=?) OCR1C
 731:lvds.c        **** //
 732:lvds.c        **** //   11 Repeat 9-10 for Vsync time...
 733:lvds.c        **** //
 734:lvds.c        **** 
 735:lvds.c        **** // Here's how it worked pre-lvds:
 736:lvds.c        **** // HSYNC, VSYNC, and DE refer to the actual pins
 737:lvds.c        **** // In the LVDS setup, there're modes corresponding to each pin-combination
 738:lvds.c        **** //
 739:lvds.c        **** // Timer Interrupt:
 740:lvds.c        **** //  loadData:
 741:lvds.c        **** //   HSYNC active
 742:lvds.c        **** //   HSYNC Low delay
 743:lvds.c        **** //   HSYNC inactive
 744:lvds.c        **** //   if(dataEnable)
 745:lvds.c        **** //    DE active
 746:lvds.c        **** //     Send row data
 747:lvds.c        **** //    DE inactive
 748:lvds.c        **** //  //Prep for next interrupt
 749:lvds.c        **** //  switch(hsyncCount++)
 750:lvds.c        **** //    //Vsync H->L (active)
 751:lvds.c        **** //    1:
 752:lvds.c        **** //          dataEnable=FALSE
 753:lvds.c        **** //          VSYNC active
 754:lvds.c        **** //    //Vsync L->H (inactive)
 755:lvds.c        **** //    T_Vlow:
 756:lvds.c        **** //          VSYNC inactive
 757:lvds.c        **** //    //Start of frame
 758:lvds.c        **** //    T_VD +(T_Vlow):
 759:lvds.c        **** //          dataEnable=TRUE
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 20


 760:lvds.c        **** //    //All rows have been displayed
 761:lvds.c        **** //    V_COUNT +(T_VD+T_Vlow):
 762:lvds.c        **** //          dataEnable=FALSE
 763:lvds.c        **** //    //Frame Complete
 764:lvds.c        **** //    T_DV +(V_COUNT+T_VD+T_Vlow): 
 765:lvds.c        **** //          hsyncCount=0
 766:lvds.c        **** //  if(dataEnable)
 767:lvds.c        **** //    Use the remaining time to load the next row to memory
 768:lvds.c        **** 
 769:lvds.c        **** //  So:
 770:lvds.c        **** //Interrupt0       End
 771:lvds.c        **** //    |             |  Interrupt1
 772:lvds.c        **** //    v             v  v
 773:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 774:lvds.c        **** // DE ___________________________________________________ ...
 775:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯|_____________________________________ ...
 776:lvds.c        **** //       |        ||
 777:lvds.c        **** // DETIME^--------^|
 778:lvds.c        **** //                 |
 779:lvds.c        **** //                 VSYNC active
 780:lvds.c        **** //                 dataEnable=FALSE (not necessary?)
 781:lvds.c        **** //
 782:lvds.c        **** //InterruptT_Vlow   End
 783:lvds.c        **** //    |             |
 784:lvds.c        **** //    v             v
 785:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 786:lvds.c        **** // DE ___________________________________________________ ...
 787:lvds.c        **** //  V _____________|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ...
 788:lvds.c        **** //       |        ||
 789:lvds.c        **** // DETIME^--------^|
 790:lvds.c        **** //                 |
 791:lvds.c        **** //                 VSYNC inactive
 792:lvds.c        **** //
 793:lvds.c        **** //
 794:lvds.c        **** //InterruptT_VD   End  InterruptT_VD+1
 795:lvds.c        **** //    |             |  |            End
 796:lvds.c        **** //    v             v  v            v
 797:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 798:lvds.c        **** // DE ____________________|¯¯¯¯¯¯¯¯|_______|¯¯¯¯¯¯¯¯|____ ...
 799:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 800:lvds.c        **** //       |        ||      |        |
 801:lvds.c        **** // DETIME^--------^|      ^--------^
 802:lvds.c        **** //                 |
 803:lvds.c        **** //                 dataEnable=TRUE
 804:lvds.c        **** //
 805:lvds.c        **** //InterruptV_COUNT  End
 806:lvds.c        **** //    |             |
 807:lvds.c        **** //    v             v
 808:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 809:lvds.c        **** // DE ___|¯¯¯¯¯¯¯¯|______________________________________ ...
 810:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 811:lvds.c        **** //       |        ||      |        |
 812:lvds.c        **** // DETIME^--------^|      ^--------^
 813:lvds.c        **** //                 |
 814:lvds.c        **** //                 dataEnable=FALSE
 815:lvds.c        **** //
 816:lvds.c        **** //
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 21


 817:lvds.c        **** // This isn't really a state, it's basically just:
 818:lvds.c        **** // if(hsyncCount == NUM_HYSYNCS_PER_FRAME)
 819:lvds.c        **** //    hsyncCount = 0;
 820:lvds.c        **** //                    .....................................
 821:lvds.c        **** //                    .                                   .
 822:lvds.c        **** //InterruptT_DV   End .Interrupt0                         .
 823:lvds.c        **** //    |             | .|                                  .
 824:lvds.c        **** //    v             v .v                                  .
 825:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 826:lvds.c        **** // DE ___________________________________________________ .
 827:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|____________________ .
 828:lvds.c        **** //       |        ||  .   |        |                      .
 829:lvds.c        **** // DETIME^--------^|  .   ^--------^                      .
 830:lvds.c        **** //                 |  .                                   .
 831:lvds.c        **** //                 hsyncCount=0 (repeat from Interrupt0)  .
 832:lvds.c        **** //                    .                                   .
 833:lvds.c        **** //                    .....................................
 834:lvds.c        **** //
 835:lvds.c        **** 
 836:lvds.c        **** 
 837:lvds.c        **** // NOW to compare with LVDS states:
 838:lvds.c        **** //
 839:lvds.c        **** //Interrupt0       End
 840:lvds.c        **** //    |             |  Interrupt1
 841:lvds.c        **** //    v             v  v
 842:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 843:lvds.c        **** // DE ___________________________________________________ ...
 844:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯|_____________________________________ ...
 845:lvds.c        **** //    ^ ^          ^   ^ ^
 846:lvds.c        **** //    | |          |   | |
 847:lvds.c        **** //    | |          |   | +--- V w/o H  \ These two toggle until
 848:lvds.c        **** //    | |          |   +----- V w/ H   / next LCD state...
 849:lvds.c        **** //    | |          |
 850:lvds.c        **** //    | |          +--------- V w/o H > Intermediate change of state
 851:lvds.c        **** //    | |
 852:lvds.c        **** //    | +----- NothingActive  \ From Previous State (?)
 853:lvds.c        **** //    +------- H_Only         /
 854:lvds.c        **** 
 855:lvds.c        **** 
 856:lvds.c        **** //InterruptT_Vlow   End
 857:lvds.c        **** //    |             |
 858:lvds.c        **** //    v             v
 859:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 860:lvds.c        **** // DE ___________________________________________________ ...
 861:lvds.c        **** //  V _____________|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ...
 862:lvds.c        **** //    ^ ^          ^   ^ ^
 863:lvds.c        **** //    | |          |   | |
 864:lvds.c        **** //    | |          |   | +--- NothingActive  \ These two toggle until
 865:lvds.c        **** //    | |          |   +----- H_Only         / next LCD state...
 866:lvds.c        **** //    | |          |
 867:lvds.c        **** //    | |          +--------- NothingActive > Intermediate change of state
 868:lvds.c        **** //    | |
 869:lvds.c        **** //    | +----- V w/o H   \ From previous state
 870:lvds.c        **** //    +------- V w/ H    /
 871:lvds.c        **** 
 872:lvds.c        **** 
 873:lvds.c        **** //InterruptT_VD   End  InterruptT_VD+1
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 22


 874:lvds.c        **** //    |             |  |            End
 875:lvds.c        **** //    v             v  v            v
 876:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 877:lvds.c        **** // DE ____________________|¯¯¯¯¯¯¯¯|_______|¯¯¯¯¯¯¯¯|____ ...
 878:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 879:lvds.c        **** //    ^ ^              ^ ^^        ^ 
 880:lvds.c        **** //    | |              | ||        |
 881:lvds.c        **** //    | |              | ||        +--- NothingActive  \  These four
 882:lvds.c        **** //    | |              | |+------------ DE              | cycle until
 883:lvds.c        **** //    | |              | +------------- NothingActive   | next LCD state...
 884:lvds.c        **** //    | |              +--------------- H_Only  ^      /
 885:lvds.c        **** //    | |                                       |
 886:lvds.c        **** //    | +----- NothingActive  \ From previous   |
 887:lvds.c        **** //    +------- H_Only         / state           +-This intermediate state
 888:lvds.c        **** //                                                may not be necessary
 889:lvds.c        **** //                                                (IAXG01 shows 160 dots!)
 890:lvds.c        **** 
 891:lvds.c        **** 
 892:lvds.c        **** 
 893:lvds.c        **** //InterruptV_COUNT  End
 894:lvds.c        **** //    |             |
 895:lvds.c        **** //    v             v
 896:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 897:lvds.c        **** // DE ___|¯¯¯¯¯¯¯¯|______________________________________ ...
 898:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 899:lvds.c        **** //    ^ ^^        ^    ^ ^
 900:lvds.c        **** //    | ||        |    | |
 901:lvds.c        **** //    | ||        |    | +--- NothingActive \  These two toggle
 902:lvds.c        **** //    | ||        |    +----- H_Only        /  until next LCD state
 903:lvds.c        **** //    | ||        |
 904:lvds.c        **** //    | ||        +---- NothingActive \                         //blah
 905:lvds.c        **** //    | |+------------- DE             |  From previous state
 906:lvds.c        **** //    | +-------------- NothingActive  |
 907:lvds.c        **** //    +---------------- H_Only        /
 908:lvds.c        **** 
 909:lvds.c        **** // This isn't really a state, it's essentially just:
 910:lvds.c        **** //  if(hsyncCount == NUM_HSYNCS_PER_FRAME)
 911:lvds.c        **** //    hsyncCount = 0;
 912:lvds.c        **** //                    .....................................
 913:lvds.c        **** //                    .                                   .
 914:lvds.c        **** //InterruptT_DV   End .Interrupt0                         .
 915:lvds.c        **** //    |             | .|                                  .
 916:lvds.c        **** //    v             v .v                                  .
 917:lvds.c        **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 918:lvds.c        **** // DE ___________________________________________________ .
 919:lvds.c        **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|____________________ .
 920:lvds.c        **** //    ^ ^             .                                   .
 921:lvds.c        **** //    | |             .....................................
 922:lvds.c        **** //    | +--- NothingActive \                                 //blah
 923:lvds.c        **** //    +----- H_Only        / From previous state...
 924:lvds.c        **** 
 925:lvds.c        **** 
 926:lvds.c        **** 
 927:lvds.c        **** //  LVDS State transitions:
 928:lvds.c        **** //   1 H_Only
 929:lvds.c        **** //   2 NothingActive
 930:lvds.c        **** //
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 23


 931:lvds.c        **** //   3 V w/o H
 932:lvds.c        **** //   4 V w/ H
 933:lvds.c        **** //    
 934:lvds.c        **** //   (repeat 3,4)
 935:lvds.c        **** //
 936:lvds.c        **** //   5 V w/o H
 937:lvds.c        **** //
 938:lvds.c        **** //   6 NothingActive
 939:lvds.c        **** //   7 H_Only
 940:lvds.c        **** //
 941:lvds.c        **** //   (repeat 6,7)
 942:lvds.c        **** //
 943:lvds.c        **** //   8 NothingActive
 944:lvds.c        **** //
 945:lvds.c        **** //   9 H_Only
 946:lvds.c        **** //  10 NothingActive
 947:lvds.c        **** //  11 DE
 948:lvds.c        **** //  12 NothingActive
 949:lvds.c        **** //
 950:lvds.c        **** //  (repeat 9-12)
 951:lvds.c        **** //
 952:lvds.c        **** //  13 H_Only
 953:lvds.c        **** //  14 NothingActive
 954:lvds.c        **** //
 955:lvds.c        **** //  (repeat 13-14)
 956:lvds.c        **** //
 957:lvds.c        **** //   These should be reviewed to determine which changes are necessary
 958:lvds.c        **** //   between each state...
 959:lvds.c        **** //   (the fewer changes, the less likely we'll glitch...?)
 960:lvds.c        **** 
 961:lvds.c        **** 
 962:lvds.c        **** 
 963:lvds.c        **** 
 964:lvds.c        **** 
 965:lvds.c        **** 
 966:lvds.c        **** // This'll probably be better rearranged...
 967:lvds.c        **** //  For now, though, OC1A is in all the notes above, for the D/V/H signal
 968:lvds.c        **** //  so OC1B is for the clock...
 969:lvds.c        **** // CHANGING THESE does NOT change channel association.
 970:lvds.c        **** #define DVH_OCR   OCR1A
 971:lvds.c        **** #define CLOCK_OCR   OCR1B
 972:lvds.c        **** 
 973:lvds.c        **** 
 974:lvds.c        **** 
 975:lvds.c        **** 
 976:lvds.c        **** // a/o v62-17:
 977:lvds.c        **** // See notes in lvds_timerInit()...
 978:lvds.c        **** // Basically, Green should be enabled at the beginning of a drawPix
 979:lvds.c        **** // function, and disabled at the end.
 980:lvds.c        **** // I can't remember the *exact* details, but I think V/H signals might
 981:lvds.c        **** // require dead-time values which would affect the clock if it is in
 982:lvds.c        **** // complementary-output-mode (but *don't* when it's not)
 983:lvds.c        **** #define lvds_disableGreen_MakeClockInsensitiveToDT() \
 984:lvds.c        **** 	TCCR1A = ( (0<<COM1A1) | (1<<COM1A0) \
 985:lvds.c        **** 			   | (1<<COM1B1) | (0<<COM1B0) \
 986:lvds.c        **** 				| (1<<PWM1A) | (1<<PWM1B) )
 987:lvds.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 24


 988:lvds.c        **** #define lvds_enableGreen_MakeClockSensitiveToDT() \
 989:lvds.c        **** 	TCCR1A = ( (0<<COM1A1) | (1<<COM1A0) \
 990:lvds.c        **** 				| (0<<COM1B1) | (1<<COM1B0) \
 991:lvds.c        **** 				| (1<<PWM1A) | (1<<PWM1B) )
 992:lvds.c        **** 
 993:lvds.c        **** 
 994:lvds.c        **** void lvds_timerInit(void)
 995:lvds.c        **** {
 194               		.stabn	68,0,995,.LM7-.LFBB2
 195               	.LM7:
 196               	.LFBB2:
 197               	/* prologue: function */
 198               	/* frame size = 0 */
 996:lvds.c        ****    //Timer1 is used for LVDS (in PLL clocking mode)
 997:lvds.c        ****   
 998:lvds.c        ****      //pll_enable();   
 999:lvds.c        ****    
1000:lvds.c        ****    //We want it to count 7 bits, 0-6 and reset at 7
1001:lvds.c        ****    OCR1C = 6;
 199               		.stabn	68,0,1001,.LM8-.LFBB2
 200               	.LM8:
 201 0020 86E0      		ldi r24,lo8(6)
 202 0022 8BBD      		out 75-0x20,r24
1002:lvds.c        **** 
1003:lvds.c        ****    //We want the clock to go low at TCNT=0 and high at TCNT=4
1004:lvds.c        ****    CLOCK_OCR = 3; //2; //3;
 203               		.stabn	68,0,1004,.LM9-.LFBB2
 204               	.LM9:
 205 0024 83E0      		ldi r24,lo8(3)
 206 0026 8CBD      		out 76-0x20,r24
1005:lvds.c        ****    
1006:lvds.c        **** 
1007:lvds.c        **** // My 'scope is only 20MHz, and I'd rather be able to use the digital mode
1008:lvds.c        **** // which is even slower...
1009:lvds.c        **** 
1010:lvds.c        **** 
1011:lvds.c        **** //Overridden when SLOW_EVERYTHING_TEST is true...
1012:lvds.c        **** //#define TOOFAST_TEST TRUE
1013:lvds.c        **** #warning "HERE AND BELOW, doesn't OSCCAL have special write requirements?"
1014:lvds.c        **** //OSCCAL = 0x00;
1015:lvds.c        **** #if (defined(SLOW_EVERYTHING_TEST) && SLOW_EVERYTHING_TEST)
1016:lvds.c        **** //FOR TESTING. This should slow the clock...
1017:lvds.c        ****    // Gives roughly 4MHz...
1018:lvds.c        ****    OSCCAL = 0x00; //0x80; 
1019:lvds.c        **** 
1020:lvds.c        ****    // This should divide the system clock by 256
1021:lvds.c        ****    // does this affect the PLL? NO.
1022:lvds.c        ****    // The PLL is clocked only by the RC Oscillator
1023:lvds.c        ****    //   OSCCAL does affect it.
1024:lvds.c        ****    // OPTIONS FOR SIMULATING FULL FUNCTIONALITY AT LOW SPEED:
1025:lvds.c        ****    // Run PLL as normal
1026:lvds.c        ****    //  Prescale Timer1 and DeadTimer equally
1027:lvds.c        ****    //  Prescale System clock equally
1028:lvds.c        ****    CLKPR = (1<<CLKPCE);
1029:lvds.c        ****    CLKPR = (1<<CLKPS1) | (1<<CLKPS0);   //CLKDIV8
1030:lvds.c        ****    //4MHz / 8 = .5Mhz...
1031:lvds.c        ****    //PLL is 4MHz*8 = 32MHz
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 25


1032:lvds.c        ****    // then TimerClockDivisor=8 gives 4MHz
1033:lvds.c        ****    pll_enable();
1034:lvds.c        ****    #define SLOW_LVDS_TEST TRUE
1035:lvds.c        **** #elif (defined(OSCCAL_VAL))
1036:lvds.c        ****    OSCCAL = OSCCAL_VAL;
 207               		.stabn	68,0,1036,.LM10-.LFBB2
 208               	.LM10:
 209 0028 8FEF      		ldi r24,lo8(-1)
 210 002a 81BF      		out 81-0x20,r24
1037:lvds.c        **** #endif
1038:lvds.c        **** 
1039:lvds.c        **** 
1040:lvds.c        **** 
1041:lvds.c        **** #if (defined(SLOW_LVDS_TEST) && SLOW_LVDS_TEST)
1042:lvds.c        ****    //This case doesn't really make sense without SLOW_EVERYTHING...
1043:lvds.c        ****    //8x prescaler for Timer1
1044:lvds.c        ****    #define CSBITS (1<<CS12)
1045:lvds.c        ****    //8x prescaler for the dead-timer
1046:lvds.c        ****    #define DTPSBITS ((1<<DTPS11) | (1<<DTPS10))
1047:lvds.c        **** #elif (defined(LVDS_PRESCALER))
1048:lvds.c        ****    //Timer1 on the Tiny861 uses a strange CLKDIV scheme...
1049:lvds.c        ****    // (but it's nicer!)
1050:lvds.c        ****    // The divisor is (1<<(csbits-1))
1051:lvds.c        ****    // so a divisor of 1 = (1<<0) = (1<<(1-1)), (csbits = 0x1)
1052:lvds.c        ****    // 256 = (1<<8) = (1<<(9-1)), (csbits = 0x9)
1053:lvds.c        ****    // 512 = (1<<9) = (1<<(10-1)), (csbits = 0xA)
1054:lvds.c        ****    // ...
1055:lvds.c        ****    // (0x0 stops the timer)
1056:lvds.c        ****    /*
1057:lvds.c        ****       uint16_t divisor;
1058:lvds.c        ****       uint8_t csbits = 0;
1059:lvds.c        ****       for(divisor=CLKDIV; divisor != 0; divisor>>=1)
1060:lvds.c        ****          csbits++;
1061:lvds.c        ****          writeMasked(csbits, 0x0f, TCCR1B);
1062:lvds.c        ****    */
1063:lvds.c        **** 
1064:lvds.c        **** //#if ((LVDS_PRESCALER != 64) && (LVDS_PRESCALER != 32) && \
1065:lvds.c        **** //     (LVDS_PRESCALER != 16) && 
1066:lvds.c        **** #if ((LVDS_PRESCALER != 8) && \
1067:lvds.c        ****      (LVDS_PRESCALER != 4)  && (LVDS_PRESCALER != 2) && \
1068:lvds.c        ****      (LVDS_PRESCALER != 1))
1069:lvds.c        **** #error "LVDS_PRESCALER must be a power of 2, from 1 to 8"
1070:lvds.c        **** #endif
1071:lvds.c        **** 
1072:lvds.c        ****    //Figured this out in cTools/dePower.c...
1073:lvds.c        ****    //64 is overkill here, since the deadTimer prescaler only goes to 8...
1074:lvds.c        **** #define divToCS(div) \
1075:lvds.c        ****    ( (div == 64) ? 7 : (div == 32) ? 6 : (div == 16) ? 5 : (div == 8) ? 4 \
1076:lvds.c        ****      : (div == 4) ? 3 : (div == 2) ? 2 : (div == 1) ? 1 : 0)
1077:lvds.c        **** 
1078:lvds.c        **** 
1079:lvds.c        ****    //CSBITS (through PLL/8) (CS10 is bit 0)
1080:lvds.c        ****    //CS12:10   CS12   CS11   CS10      PLL division
1081:lvds.c        ****    //1         0      0      1         1
1082:lvds.c        ****    //2         0      1      0         2
1083:lvds.c        ****    //3         0      1      1         4
1084:lvds.c        ****    //4         1      0      0         8
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 26


1085:lvds.c        ****    #define CSBITS divToCS(LVDS_PRESCALER) //<<CS10 should be redundant
1086:lvds.c        ****    //DTPSBITS (DTPS10 is bit 4)
1087:lvds.c        ****    //DTPS11:10   DTPS11 DTPS10   PLL division
1088:lvds.c        ****    //0         0      0         1
1089:lvds.c        ****    //1         0      1         2
1090:lvds.c        ****    //2         1      0         4
1091:lvds.c        ****    //3         1      1         8
1092:lvds.c        ****    #define DTPSBITS ((CSBITS-1)<<DTPS10)
1093:lvds.c        **** 
1094:lvds.c        ****    //Whoops! Forgot this (a/o 42-som'n WTF1pix)
1095:lvds.c        ****    // so, it's promising to get single-pixel control...
1096:lvds.c        ****    //  the result was kinda ugly, though... scroll was quite slow
1097:lvds.c        ****    // Further, it was only drawing a certain number of pixels...
1098:lvds.c        ****    //  (horizontally... pre LVDS_PRESCALER affecting DOTS_TO_CYC)
1099:lvds.c        ****    //  so accessing *all* pixels in a row would make it even slower...
1100:lvds.c        ****    // Further, it didn't seem to be paying attention to the fact that
1101:lvds.c        ****    // the same pixels are drawn on multiple rows...
1102:lvds.c        ****    // WTF? (the image was scaled, proportionately! 1pix x 1pix)
1103:lvds.c        ****    pll_enable();
 211               		.stabn	68,0,1103,.LM11-.LFBB2
 212               	.LM11:
 213 002c 00D0      		rcall pll_enable
1104:lvds.c        **** 
1105:lvds.c        **** #else
1106:lvds.c        ****    //No clock divisor
1107:lvds.c        ****    #define CSBITS (1<<CS10)
1108:lvds.c        ****    //No dead-timer divisor
1109:lvds.c        ****    #define DTPSBITS 0
1110:lvds.c        ****    pll_enable();
1111:lvds.c        ****    //#warning "The PLL configuration code is not in here yet!"
1112:lvds.c        **** #endif
1113:lvds.c        **** 
1114:lvds.c        ****    //Set the Timer1 clock prescaler...
1115:lvds.c        ****    writeMasked(CSBITS, 
 214               		.stabn	68,0,1115,.LM12-.LFBB2
 215               	.LM12:
 216 002e 8FB5      		in r24,79-0x20
 217 0030 807F      		andi r24,lo8(-16)
 218 0032 8160      		ori r24,lo8(1)
 219 0034 8FBD      		out 79-0x20,r24
1116:lvds.c        ****                ((1<<CS13) | (1<<CS12) | (1<<CS11) | (1<<CS10)),
1117:lvds.c        ****                TCCR1B);
1118:lvds.c        **** 
1119:lvds.c        ****    //Set the DeadTime prescaler (no prescaling, same speed as TCNT1)...
1120:lvds.c        ****    // Allegedly this is prescaled from the PCK (or CK)
1121:lvds.c        ****    //    NOT from the Timer1 prescaler...
1122:lvds.c        ****    writeMasked(DTPSBITS,
 220               		.stabn	68,0,1122,.LM13-.LFBB2
 221               	.LM13:
 222 0036 8FB5      		in r24,79-0x20
 223 0038 8F7C      		andi r24,lo8(-49)
 224 003a 8FBD      		out 79-0x20,r24
1123:lvds.c        ****                ((1<<DTPS11) | (1<<DTPS10)),
1124:lvds.c        ****                TCCR1B);
1125:lvds.c        **** 
1126:lvds.c        **** 
1127:lvds.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 27


1128:lvds.c        ****    //All LVDS modes (and signals) use FastPWM.. 
1129:lvds.c        ****  
1130:lvds.c        ****    //FastPWM
1131:lvds.c        **** //Now Handled in lvds_xxxOnCompare():
1132:lvds.c        **** 
1133:lvds.c        ****    //These are also written below (excluding PWM1D)
1134:lvds.c        ****    setbit(PWM1A, TCCR1A);  //Enable PWM on OC1A for DVH
 225               		.stabn	68,0,1134,.LM14-.LFBB2
 226               	.LM14:
 227 003c 80B7      		in r24,80-0x20
 228 003e 8260      		ori r24,lo8(2)
 229 0040 80BF      		out 80-0x20,r24
1135:lvds.c        ****                            //Need to do the same for other channels
1136:lvds.c        ****   
1137:lvds.c        ****    setbit(PWM1B, TCCR1A);  //Enable PWM on OC1B for CLOCK 
 230               		.stabn	68,0,1137,.LM15-.LFBB2
 231               	.LM15:
 232 0042 80B7      		in r24,80-0x20
 233 0044 8160      		ori r24,lo8(1)
 234 0046 80BF      		out 80-0x20,r24
1138:lvds.c        **** 
1139:lvds.c        ****    setbit(PWM1D, TCCR1C);
 235               		.stabn	68,0,1139,.LM16-.LFBB2
 236               	.LM16:
 237 0048 87B5      		in r24,71-0x20
 238 004a 8160      		ori r24,lo8(1)
 239 004c 87BD      		out 71-0x20,r24
1140:lvds.c        **** 
1141:lvds.c        ****    //PWM1D is not in TCCR1A...
1142:lvds.c        **** 
1143:lvds.c        ****    setoutPORT(PB1, PORTB);   //+OC1A, DVH/BLUE, MISO (usually heart)
 240               		.stabn	68,0,1143,.LM17-.LFBB2
 241               	.LM17:
 242 004e B99A      		sbi 55-0x20,1
1144:lvds.c        **** //   setoutPORT(PB0, PORTB);   //-OC1A    MOSI unused
1145:lvds.c        ****    setoutPORT(PB2, PORTB); //-OC1B, -GREEN    (INVERTED) SCK
 243               		.stabn	68,0,1145,.LM18-.LFBB2
 244               	.LM18:
 245 0050 BA9A      		sbi 55-0x20,2
1146:lvds.c        ****    setoutPORT(PB3, PORTB); //+OC1B Clock (OC1B, not inverted)
 246               		.stabn	68,0,1146,.LM19-.LFBB2
 247               	.LM19:
 248 0052 BB9A      		sbi 55-0x20,3
1147:lvds.c        ****    setoutPORT(PB5, PORTB); //+OC1D, RED
 249               		.stabn	68,0,1147,.LM20-.LFBB2
 250               	.LM20:
 251 0054 BD9A      		sbi 55-0x20,5
1148:lvds.c        **** 
1149:lvds.c        **** 
1150:lvds.c        ****    writeMasked(((0<<WGM11) | (0<<WGM10)), //FastPWM (combined with above)
 252               		.stabn	68,0,1150,.LM21-.LFBB2
 253               	.LM21:
 254 0056 86B5      		in r24,70-0x20
 255 0058 8C7F      		andi r24,lo8(-4)
 256 005a 86BD      		out 70-0x20,r24
1151:lvds.c        ****                ((1<<WGM11) | (1<<WGM10)), // (affects all PWM channels)
1152:lvds.c        ****                TCCR1D);
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 28


1153:lvds.c        **** 
1154:lvds.c        ****    //OC1A is used, but /OC1A isn't
1155:lvds.c        **** // Not Valid (deadTime only functions if in complementary-mode):
1156:lvds.c        ****    // OTOH: dead-time is not necessary in the only case we need to switch
1157:lvds.c        ****    // Most lvds states use clear on compare-match, set at 0
1158:lvds.c        ****    // But there is one that uses the opposite
1159:lvds.c        ****    // This can be toggled by a single bit-change
1160:lvds.c        ****    //  COM1A1 = 1
1161:lvds.c        ****    //  COM1A0 value indicates what happens on Compare-Match
1162:lvds.c        ****    //                 or ! at BOTTOM
1163:lvds.c        **** //#define lvds_clrOnCompare() clrbit(COM1A0, TCCR1A)
1164:lvds.c        **** //#define lvds_setOnCompare() setbit(COM1A0, TCCR1A)
1165:lvds.c        ****    //HOWEVER: the alternative is possible:
1166:lvds.c        ****    // Use complementary (clear-on-compare)
1167:lvds.c        ****    // and single-ended with set-on-compare
1168:lvds.c        ****    // COM1A0 = 1
1169:lvds.c        ****    // COM1A1 value indicates what happens on Compare-Match
1170:lvds.c        **** 
1171:lvds.c        **** /* These are three instructions apiece!
1172:lvds.c        **** #define lvds_ComplementaryClrOnCompare() clrbit(COM1A1, TCCR1A)
1173:lvds.c        **** 
1174:lvds.c        **** #define lvds_setOnCompare() setbit(COM1A1, TCCR1A)
1175:lvds.c        **** #define lvds_clrOnCompare() lvds_ComplementaryClrOnCompare()
1176:lvds.c        **** */
1177:lvds.c        **** 
1178:lvds.c        **** //Page 99:
1179:lvds.c        **** // "In Fast PWM Mode ... when the COM1x1:0 bits are set to “01” ...
1180:lvds.c        **** //  an user programmable Dead Time delay is inserted for 
1181:lvds.c        **** //  these complementary output pairs (OC1x and OC1x)."
1182:lvds.c        **** 
1183:lvds.c        **** //Page 98:
1184:lvds.c        **** // "The counter is loaded with a 4-bit DT1H or DT1L value from DT1 
1185:lvds.c        **** //  I/O register, depending on the edge of the Waveform 
1186:lvds.c        **** //  Output (OCW1x) when the dead time insertion is started."
1187:lvds.c        **** // In other words, (as it appears from the diagram)
1188:lvds.c        **** //  the dead-time value is loaded into the counter when the corresponding
1189:lvds.c        **** //  edge in OCW1x is detected
1190:lvds.c        **** //  So changing the value of DT1 affects the *next* corresponding edge 
1191:lvds.c        **** //   (NOT if the dead timer is already running)
1192:lvds.c        **** 
1193:lvds.c        **** //Page 96:
1194:lvds.c        **** // "The OCR1x Registers are double buffered when using any of the 
1195:lvds.c        **** // Pulse Width Modulation (PWM) modes."
1196:lvds.c        **** // "The double buffering synchronizes the update of the OCR1x 
1197:lvds.c        **** // Compare Registers to either top or bottom of the counting sequence.
1198:lvds.c        **** // The synchronization prevents the occurrence of odd-length, non-sym- 
1199:lvds.c        **** // metrical PWM pulses, thereby making the output glitch-free."
1200:lvds.c        **** 
1201:lvds.c        **** //Page 100:
1202:lvds.c        **** //"A change of the COM1x1:0 bits state will have effect 
1203:lvds.c        **** // at the first Compare Match after the bits are written."
1204:lvds.c        **** //Page 97: HAH!
1205:lvds.c        **** //"Be aware that the COM1x1:0 bits are not double buffered 
1206:lvds.c        **** // together with the compare value. 
1207:lvds.c        **** // Changing the COM1x1:0 bits will take effect immediately."
1208:lvds.c        **** 
1209:lvds.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 29


1210:lvds.c        **** //#define lvds_setOnCompare()   
1211:lvds.c        **** //   TCCR1A = ( (1<<COM1A1) | (1<<COM1A0) 
1212:lvds.c        **** //            | (0<<COM1B1) | (1<<COM1B0) 
1213:lvds.c        **** //            | (1<<PWM1A) | (1<<PWM1B) )
1214:lvds.c        **** //#define lvds_ComplementaryClrOnCompare() \ //
1215:lvds.c        ****    //Do TCCR1C first, because it contains shadow-bits of TCCR1A that I
1216:lvds.c        ****    // don't want to have to rewrite...
1217:lvds.c        ****    TCCR1C = ( (1<<COM1D1) | (0<<COM1D0)
 257               		.stabn	68,0,1217,.LM22-.LFBB2
 258               	.LM22:
 259 005c 89E0      		ldi r24,lo8(9)
 260 005e 87BD      		out 71-0x20,r24
1218:lvds.c        ****             | (1<<PWM1D) );
1219:lvds.c        **** /* a/o v62-17: The notes are sparse as to why I disabled the Green signal
1220:lvds.c        ****  * at all times, except during DE... As I recall, it was an experiment with
1221:lvds.c        ****  * whether it was possible to get greater control over BLUE, by hacking the
1222:lvds.c        ****  * clock signal during the DE period... e.g. since none of the V/H timings
1223:lvds.c        ****  * are necessary during DE, maybe it was possible to have a clock that
1224:lvds.c        ****  * wasn't perfectly as-spec'd... it didn't work. So, why not remove the
1225:lvds.c        ****  * necessity for enabling/disabling the green signal...
1226:lvds.c        ****  (Yes, it's that tightly-knit that affecting the clock affects green,
1227:lvds.c        ****  affects blue... but there's some confusion in my mind as to why green
1228:lvds.c        ****  couldn't've remained active anyhow...)
1229:lvds.c        ****  Ahh, wait, something about when Complementary mode is enabled, then the
1230:lvds.c        ****  clock is affected by Dead-Times... Still a bit vague.
1231:lvds.c        **** */
1232:lvds.c        **** //	TCCR1A = ( (0<<COM1A1) | (1<<COM1A0) 
1233:lvds.c        **** //            | (1<<COM1B1) | (0<<COM1B0) //Don't use complementary for CLK
1234:lvds.c        **** //            | (1<<PWM1A) | (1<<PWM1B) );
1235:lvds.c        **** 	lvds_disableGreen_MakeClockInsensitiveToDT();
 261               		.stabn	68,0,1235,.LM23-.LFBB2
 262               	.LM23:
 263 0060 83E6      		ldi r24,lo8(99)
 264 0062 80BF      		out 80-0x20,r24
1236:lvds.c        **** 
1237:lvds.c        **** /* ... but this didn't work... nothing's showing up at all.
1238:lvds.c        **** 	TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
1239:lvds.c        **** 	         | (0<<COM1B1) | (1<<COM1B0)
1240:lvds.c        **** 	         | (1<<PWM1A) | (1<<PWM1B) );
1241:lvds.c        **** */
1242:lvds.c        **** 
1243:lvds.c        **** //#define lvds_clrOnCompare() lvds_ComplementaryClrOnCompare()
1244:lvds.c        **** 
1245:lvds.c        ****    // Enable Complementary-Mode (and thus the dead-timer)
1246:lvds.c        ****    // This'll be changed as needed, but we need COM1A0 set prior to that
1247:lvds.c        **** 
1248:lvds.c        ****    //   lvds_clrOnCompare();
1249:lvds.c        **** //   writeMasked(((0<<COM1A1) | (1<<COM1A0)), 
1250:lvds.c        **** //               ((1<<COM1A1) | (1<<COM1A0)), 
1251:lvds.c        **** //               TCCR1A);
1252:lvds.c        **** 
1253:lvds.c        **** 
1254:lvds.c        **** 
1255:lvds.c        ****    //THIS IS NOT THOROUGHLY THOUGHT-OUT...
1256:lvds.c        ****    // as I recall, we need to use /OC1B for the clock output
1257:lvds.c        ****    //  because it won't be affected by the deadtime...
1258:lvds.c        **** //Now Handled in lvds_xxxOnCompare():
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 30


1259:lvds.c        **** //   writeMasked(((0<<COM1B1) | (1<<COM1B0)),
1260:lvds.c        **** //               ((1<<COM1B1) | (1<<COM1B0)),
1261:lvds.c        **** //               TCCR1A);
1262:lvds.c        **** 
1263:lvds.c        ****    //Since PWM inversion affects all channels, great-pains were taken
1264:lvds.c        ****    // to assure that it needn't be changed in any lvds state...
1265:lvds.c        ****    // PWM inversion must be enabled:
1266:lvds.c        **** 
1267:lvds.c        ****    //inverted with PWM1X
1268:lvds.c        **** //   setbit(PWM1X, TCCR1B);
1269:lvds.c        ****  
1270:lvds.c        ****     Nada_init();
 265               		.stabn	68,0,1270,.LM24-.LFBB2
 266               	.LM24:
 267 0064 80E3      		ldi r24,lo8(48)
 268 0066 84BD      		out 68-0x20,r24
 269 0068 84E0      		ldi r24,lo8(4)
 270 006a 8DBD      		out 77-0x20,r24
 271               	/* epilogue start */
1271:lvds.c        **** }
 272               		.stabn	68,0,1271,.LM25-.LFBB2
 273               	.LM25:
 274 006c 0895      		ret
 275               		.size	lvds_timerInit, .-lvds_timerInit
 276               	.Lscope2:
 277               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 278               		.stabd	78,0,0
 279               		.stabs	"setColor:F(0,15)",36,0,16,setColor
 280               		.stabs	"red:P(3,2)",64,0,16,24
 281               		.stabs	"green:P(3,2)",64,0,16,22
 282               		.stabs	"blue:P(3,2)",64,0,16,20
 283               		.stabs	"row:P(3,2)",64,0,17,18
 284               		.stabs	"col:P(3,2)",64,0,17,16
 285               	.global	setColor
 286               		.type	setColor, @function
 287               	setColor:
 288               		.stabd	46,0,0
 289               		.stabs	"./_options/frameBuffer.c",132,0,0,.Ltext5
 290               	.Ltext5:
   1:./_options/frameBuffer.c **** //drawPix from program memory
   2:./_options/frameBuffer.c **** //a/0 v60: Again, unused for its original purpose, but tightly intertwined
   3:./_options/frameBuffer.c **** // in old code that's still being (mis)used...
   4:./_options/frameBuffer.c **** #define FB_WIDTH 16
   5:./_options/frameBuffer.c **** #define FB_HEIGHT 16
   6:./_options/frameBuffer.c **** uint8_t frameBuffer[FB_HEIGHT][FB_WIDTH];
   7:./_options/frameBuffer.c **** 
   8:./_options/frameBuffer.c **** 
   9:./_options/frameBuffer.c **** 
  10:./_options/frameBuffer.c **** //AHHH it wasn't IMAGE_BUFFER that's entangled, but IMAGE_CHANGE
  11:./_options/frameBuffer.c **** // which is even weirder.
  12:./_options/frameBuffer.c **** 
  13:./_options/frameBuffer.c **** //This was #if'd into existence with IMAGE_BUFFER, but since it's only been
  14:./_options/frameBuffer.c **** // used with frameBuffer, and since IMAGE_BUFFER is somewhat entangled with
  15:./_options/frameBuffer.c **** // newer stuff, I'm putting it here and NOT including this file, (yet)
  16:./_options/frameBuffer.c **** void setColor(uint8_t red, uint8_t green, uint8_t blue, 
  17:./_options/frameBuffer.c ****                uint8_t row, uint8_t col)
  18:./_options/frameBuffer.c **** {
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 31


 291               		.stabn	68,0,18,.LM26-.LFBB3
 292               	.LM26:
 293               	.LFBB3:
 294 006e 0F93      		push r16
 295               	/* prologue: function */
 296               	/* frame size = 0 */
  19:./_options/frameBuffer.c ****    red = (red > 3) ? 3 : red;
  20:./_options/frameBuffer.c ****    green = (green > 3) ? 3 : green;
  21:./_options/frameBuffer.c ****    blue = (blue > 3) ? 3 : blue;
  22:./_options/frameBuffer.c **** 
  23:./_options/frameBuffer.c ****    frameBuffer[row][col] = red | ((green)<<2) | ((blue)<<4);
 297               		.stabn	68,0,23,.LM27-.LFBB3
 298               	.LM27:
 299 0070 E22F      		mov r30,r18
 300 0072 F0E0      		ldi r31,lo8(0)
 301 0074 24E0      		ldi r18,4
 302 0076 EE0F      	1:	lsl r30
 303 0078 FF1F      		rol r31
 304 007a 2A95      		dec r18
 305 007c 01F4      		brne 1b
 306 007e E00F      		add r30,r16
 307 0080 F11D      		adc r31,__zero_reg__
 308 0082 E050      		subi r30,lo8(-(frameBuffer))
 309 0084 F040      		sbci r31,hi8(-(frameBuffer))
 310 0086 6430      		cpi r22,lo8(4)
 311 0088 00F0      		brlo .L9
 312 008a 63E0      		ldi r22,lo8(3)
 313               	.L9:
 314 008c 70E0      		ldi r23,lo8(0)
 315 008e 660F      		lsl r22
 316 0090 771F      		rol r23
 317 0092 660F      		lsl r22
 318 0094 771F      		rol r23
 319 0096 8430      		cpi r24,lo8(4)
 320 0098 00F0      		brlo .L10
 321 009a 83E0      		ldi r24,lo8(3)
 322               	.L10:
 323 009c 862B      		or r24,r22
 324 009e 4430      		cpi r20,lo8(4)
 325 00a0 00F0      		brlo .L11
 326 00a2 43E0      		ldi r20,lo8(3)
 327               	.L11:
 328 00a4 4295      		swap r20
 329 00a6 407F      		andi r20,lo8(-16)
 330 00a8 482B      		or r20,r24
 331 00aa 4083      		st Z,r20
 332               	/* epilogue start */
  24:./_options/frameBuffer.c **** }
 333               		.stabn	68,0,24,.LM28-.LFBB3
 334               	.LM28:
 335 00ac 0F91      		pop r16
 336 00ae 0895      		ret
 337               		.size	setColor, .-setColor
 338               	.Lscope3:
 339               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 340               		.stabd	78,0,0
 341               		.stabs	"frameBufferInit:F(0,15)",36,0,40,frameBufferInit
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 32


 342               	.global	frameBufferInit
 343               		.type	frameBufferInit, @function
 344               	frameBufferInit:
 345               		.stabd	46,0,0
  25:./_options/frameBuffer.c **** 
  26:./_options/frameBuffer.c **** 
  27:./_options/frameBuffer.c **** 
  28:./_options/frameBuffer.c **** 
  29:./_options/frameBuffer.c **** //Called as: pgm_readImageByte(pgm_image1, row, col)
  30:./_options/frameBuffer.c **** #define pgm_readImageByte(image, row, col)   \
  31:./_options/frameBuffer.c ****       pgm_read_byte((uint8_t *)(&((image)[(row)*FB_WIDTH+(col)])))
  32:./_options/frameBuffer.c **** 
  33:./_options/frameBuffer.c **** 
  34:./_options/frameBuffer.c **** 
  35:./_options/frameBuffer.c **** 
  36:./_options/frameBuffer.c **** // This stuff was located in main() before the while loop...
  37:./_options/frameBuffer.c **** // #if !COLOR_BAR_SCROLL... (which is *nearly every case* including 
  38:./_options/frameBuffer.c **** //  RowSegBuffer, etc)
  39:./_options/frameBuffer.c **** // it's long-since been commented-out...
  40:./_options/frameBuffer.c **** void frameBufferInit(void)
  41:./_options/frameBuffer.c **** {
 346               		.stabn	68,0,41,.LM29-.LFBB4
 347               	.LM29:
 348               	.LFBB4:
 349               	/* prologue: function */
 350               	/* frame size = 0 */
 351               	/* epilogue start */
  42:./_options/frameBuffer.c **** 	 //uint8_t frameBuffer[16][16];
  43:./_options/frameBuffer.c **** /*   for(r=0; r<FB_HEIGHT; r++)
  44:./_options/frameBuffer.c ****    {
  45:./_options/frameBuffer.c ****       for(c=0; c<FB_WIDTH; c++)
  46:./_options/frameBuffer.c ****       {
  47:./_options/frameBuffer.c ****          uint8_t imagePixel=pgm_readImageByte(pgm_image1, r, c);
  48:./_options/frameBuffer.c **** 
  49:./_options/frameBuffer.c ****          setColor(
  50:./_options/frameBuffer.c ****             (getbit(RED_IMAGEVAL_BIT, imagePixel) ? 0x03 : 0),
  51:./_options/frameBuffer.c ****             (getbit(GREEN_IMAGEVAL_BIT, imagePixel) ? 0x0C : 0),
  52:./_options/frameBuffer.c ****             (getbit(BLUE_IMAGEVAL_BIT, imagePixel) ? 0x30 : 0),
  53:./_options/frameBuffer.c ****             r, c);
  54:./_options/frameBuffer.c **** //         setBlue(
  55:./_options/frameBuffer.c **** //               (
  56:./_options/frameBuffer.c **** //   (getbit(BLUE_IMAGEVAL_BIT, imagePixel) ? (60<<2) : 0) |
  57:./_options/frameBuffer.c **** //   (getbit(GREEN_IMAGEVAL_BIT, imagePixel) ? (1<<GREEN_BLUEVAL_BIT) : 0) |
  58:./_options/frameBuffer.c **** //   (getbit(RED_IMAGEVAL_BIT, imagePixel) ? (1<<RED_BLUEVAL_BIT) : 0)
  59:./_options/frameBuffer.c **** //               ), r, c);
  60:./_options/frameBuffer.c ****       }
  61:./_options/frameBuffer.c ****    }
  62:./_options/frameBuffer.c **** */
  63:./_options/frameBuffer.c **** 
  64:./_options/frameBuffer.c **** }
 352               		.stabn	68,0,64,.LM30-.LFBB4
 353               	.LM30:
 354 00b0 0895      		ret
 355               		.size	frameBufferInit, .-frameBufferInit
 356               	.Lscope4:
 357               		.stabs	"",36,0,0,.Lscope4-.LFBB4
 358               		.stabd	78,0,0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 33


 359               		.stabs	"nonRSB_drawPix:F(0,15)",36,0,135,nonRSB_drawPix
 360               		.stabs	"rowNum:P(3,4)",64,0,135,24
 361               	.global	nonRSB_drawPix
 362               		.type	nonRSB_drawPix, @function
 363               	nonRSB_drawPix:
 364               		.stabd	46,0,0
 365               		.stabs	"_options/writeColor.c",132,0,0,.Ltext6
 366               	.Ltext6:
   1:_options/writeColor.c **** //writeColor() is a hokey method to draw individual pixels from a buffer,
   2:_options/writeColor.c **** //either a row-buffer or a frame-buffer.
   3:_options/writeColor.c **** // I say "hokey" because the associated drawPix() function has individual
   4:_options/writeColor.c **** // calls to writeColor(), rather than putting them in a for-loop... in
   5:_options/writeColor.c **** // order to save instruction-cycles, and increase resolution...
   6:_options/writeColor.c **** 
   7:_options/writeColor.c **** //As-Implemented
   8:_options/writeColor.c **** //Frame-Buffer:
   9:_options/writeColor.c **** // The pixels' color-data are stored in this buffer, two bits each R,G,B.
  10:_options/writeColor.c **** // Thus, it's easy to write a color-value, but all processing to convert
  11:_options/writeColor.c **** // that color-value into register-settings is done *during* the drawing...
  12:_options/writeColor.c **** // So, it's pretty slow to process each "pixel", and thus each pixel in the
  13:_options/writeColor.c **** // buffer is stretched horizontally across *several* physical LCD pixels
  14:_options/writeColor.c **** //Row-Buffer:
  15:_options/writeColor.c **** // This should be called "Row-Settings-Buffer" or something similar...
  16:_options/writeColor.c **** // The pixels' color-data is stored as packed register-values to be written
  17:_options/writeColor.c **** // at the time of drawing. The buffer itself does *not* consist of raw
  18:_options/writeColor.c **** // color-values, so it is a bit more difficult to explain.
  19:_options/writeColor.c **** // It still takes several instructions to load the registers for each
  20:_options/writeColor.c **** // color, so it still stretches each "pixel" across several LCD pixels.
  21:_options/writeColor.c **** // But it's significantly faster, so the horizontal resolution is higher.
  22:_options/writeColor.c **** 
  23:_options/writeColor.c **** 
  24:_options/writeColor.c **** //For Red and Green (NOT Blue) This enables four shades, instead of three
  25:_options/writeColor.c **** // (including black)
  26:_options/writeColor.c **** // Doing so increases pixel-processing time, thus the pixel-widths
  27:_options/writeColor.c **** // (thus decreasing resolution)
  28:_options/writeColor.c **** // each color takes 9 cycles to process in three-shade mode
  29:_options/writeColor.c **** // or 12 cycles for red and green, plus 9 for blue in four-shade mode
  30:_options/writeColor.c **** // a/o v59: I don't think this does anything in ROW_SEG_BUFFER
  31:_options/writeColor.c **** #define FOUR_SHADES TRUE
  32:_options/writeColor.c **** 
  33:_options/writeColor.c **** #if(defined(FOUR_SHADES) && FOUR_SHADES)
  34:_options/writeColor.c ****  //a/o v60
  35:_options/writeColor.c ****  //I can't find this anywhere else... Might not be looking hard enough
  36:_options/writeColor.c ****  #define	NUM_COLORS	(4*4*3) //48
  37:_options/writeColor.c **** #else
  38:_options/writeColor.c ****  #define NUM_COLORS (3*3*3) //27
  39:_options/writeColor.c **** #endif
  40:_options/writeColor.c **** 
  41:_options/writeColor.c **** 
  42:_options/writeColor.c **** 
  43:_options/writeColor.c **** #if(!defined(ROW_BUFFER) || !ROW_BUFFER)
  44:_options/writeColor.c **** #include "_options/frameBuffer.c"
  45:_options/writeColor.c **** #endif
  46:_options/writeColor.c **** 
  47:_options/writeColor.c **** 
  48:_options/writeColor.c **** 
  49:_options/writeColor.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 34


  50:_options/writeColor.c **** // LVDS/FPD-Link timing:
  51:_options/writeColor.c **** 
  52:_options/writeColor.c **** //            |<--- (LCDdirectLVDS: "pixel") --->|
  53:_options/writeColor.c **** //  Timer1:   |<-- One Timer1 Cycle (OCR1C=6) -->|
  54:_options/writeColor.c **** //  TCNT:     |  0   1    2    3    4    5    6  |  0   1    2    3    
  55:_options/writeColor.c **** //            |____.____.____.____               |____.____.____.____
  56:_options/writeColor.c **** //  RXclk+:   /         |         \    .    .    /         |         \ //
  57:_options/writeColor.c **** //            |         |          ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|         |
  58:_options/writeColor.c **** // One Pixel: |         |<--- One FPD-Link Pixel Cycle --->|
  59:_options/writeColor.c **** //            |                                  |
  60:_options/writeColor.c **** // "Blue/DVH" |____ ____v____ ____ ____v____ ____|____ ____
  61:_options/writeColor.c **** //  RXin2:    X B3 X B2 X DE X /V X /H X B5 X B4 X B3 X B2 X ...
  62:_options/writeColor.c **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯|¯¯¯¯ ¯¯¯¯
  63:_options/writeColor.c **** //            |         |<--Not Blue-->|         |
  64:_options/writeColor.c **** //            |                                  |
  65:_options/writeColor.c **** // "Green"    |____ ____v____ ____v____ ____ ____|____ ____
  66:_options/writeColor.c **** //  RXin1:    X G2 X G1 X B1 X B0 X G5 X G4 X G3 X G2 X G1 X ...
  67:_options/writeColor.c **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ ¯¯¯¯ 
  68:_options/writeColor.c **** //            |         |<------->|-Not Green    |
  69:_options/writeColor.c **** //
  70:_options/writeColor.c **** // "Red"      |____ ____v____v____ ____ ____ ____|____ ____
  71:_options/writeColor.c **** //  RXin0:    X R1 X R0 X G0 X R5 X R4 X R3 X R2 X R1 X R0 X ...
  72:_options/writeColor.c **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
  73:_options/writeColor.c **** //            |         |<-->|-Not Red
  74:_options/writeColor.c **** //
  75:_options/writeColor.c **** //   Of course: The Not Green/Red bits above are low-bits and
  76:_options/writeColor.c **** //              basically have little/no visible effect
  77:_options/writeColor.c **** //
  78:_options/writeColor.c **** //
  79:_options/writeColor.c **** 
  80:_options/writeColor.c **** 
  81:_options/writeColor.c **** 
  82:_options/writeColor.c **** 
  83:_options/writeColor.c **** //#if(!defined(ROW_SEG_BUFFER) || !ROW_SEG_BUFFER)
  84:_options/writeColor.c **** 
  85:_options/writeColor.c **** 
  86:_options/writeColor.c **** #if(defined(ROW_BUFFER) && ROW_BUFFER)
  87:_options/writeColor.c **** //THIS IS JUST AN ESTIMATE
  88:_options/writeColor.c ****  #define WRITE_COLOR_CYCS   (13)
  89:_options/writeColor.c **** #elif(defined(FOUR_SHADES) && FOUR_SHADES)
  90:_options/writeColor.c ****  // Roughly...
  91:_options/writeColor.c ****  #define WRITE_COLOR_CYCS   (12*2+9+3)
  92:_options/writeColor.c **** #else
  93:_options/writeColor.c ****  // Roughly...
  94:_options/writeColor.c ****  #define WRITE_COLOR_CYCS   (9*3+3)
  95:_options/writeColor.c **** #endif
  96:_options/writeColor.c **** 
  97:_options/writeColor.c **** // DE_CYC = FB_WIDTH * ( WRITE_COLOR_CYCS + WRITE_COLOR_DELAY )
  98:_options/writeColor.c **** // DE_CYC/FB_WIDTH = WRITE_COLOR_CYCS + WRITE_COLOR_DELAY
  99:_options/writeColor.c **** // WRITE_COLOR_DELAY = DE_CYC/FB_WIDTH - WRITE_COLOR_CYCS
 100:_options/writeColor.c **** // Not sure why -4 is necessary... overhead in delayCyc?
 101:_options/writeColor.c **** #define WRITE_COLOR_DELAY \
 102:_options/writeColor.c **** 	( DOTS_TO_CYC(DE_ACTIVE_DOTS) / FB_WIDTH - WRITE_COLOR_CYCS-4)
 103:_options/writeColor.c **** #if((WRITE_COLOR_DELAY < 0) || (WRITE_COLOR_DELAY >127))
 104:_options/writeColor.c ****  #error "problem here..."
 105:_options/writeColor.c **** #endif
 106:_options/writeColor.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 35


 107:_options/writeColor.c **** //load a color-value from the frame/row buffer and write the registers
 108:_options/writeColor.c **** static __inline__ \
 109:_options/writeColor.c **** void writeColor(uint8_t includeDelay, uint8_t colorVal) \
 110:_options/writeColor.c ****      __attribute__((__always_inline__));
 111:_options/writeColor.c **** 
 112:_options/writeColor.c **** 
 113:_options/writeColor.c **** 
 114:_options/writeColor.c **** 
 115:_options/writeColor.c **** //This drawPix was developed before RowSegBuffer
 116:_options/writeColor.c **** // there are two versions included: RowBuffer and FrameBuffer
 117:_options/writeColor.c **** // which function almost identically as far as this function's concerned
 118:_options/writeColor.c **** 
 119:_options/writeColor.c **** // After writeColor()s are called, the remaining is (a/o v60) identical
 120:_options/writeColor.c **** // to rsb_drawPix, as it was a result of an:
 121:_options/writeColor.c **** //#if(!ROW_SEG_BUFFER)
 122:_options/writeColor.c **** // void drawPix(uint8_t rowNum)
 123:_options/writeColor.c **** // {
 124:_options/writeColor.c **** //  	do writeColorStuff...
 125:_options/writeColor.c **** //#else
 126:_options/writeColor.c **** // void drawPix(uint8_t rowNum)
 127:_options/writeColor.c **** // {
 128:_options/writeColor.c **** //		do rowSegBufferStuff...
 129:_options/writeColor.c **** //#endif
 130:_options/writeColor.c **** //    do remaining Stuff...
 131:_options/writeColor.c **** // }
 132:_options/writeColor.c **** 
 133:_options/writeColor.c **** // But nonRSB stuff hasn't been tested in quite some time...
 134:_options/writeColor.c **** 
 135:_options/writeColor.c **** void nonRSB_drawPix(uint16_t rowNum)
 136:_options/writeColor.c **** {
 367               		.stabn	68,0,136,.LM31-.LFBB5
 368               	.LM31:
 369               	.LFBB5:
 370               	/* prologue: function */
 371               	/* frame size = 0 */
 137:_options/writeColor.c ****    //uint8_t *setting = &(settingBuffer[rowNum][0]);
 138:_options/writeColor.c **** #if(defined(ROW_BUFFER) && ROW_BUFFER)
 139:_options/writeColor.c ****    uint8_t *color = &(rowBuffer[0]);
 140:_options/writeColor.c **** #else
 141:_options/writeColor.c **** 	rowNum = rowNum*FB_HEIGHT / V_COUNT;
 372               		.stabn	68,0,141,.LM32-.LFBB5
 373               	.LM32:
 374 00b2 44E0      		ldi r20,4
 375 00b4 880F      	1:	lsl r24
 376 00b6 991F      		rol r25
 377 00b8 4A95      		dec r20
 378 00ba 01F4      		brne 1b
 379 00bc 60E0      		ldi r22,lo8(768)
 380 00be 73E0      		ldi r23,hi8(768)
 381 00c0 00D0      		rcall __udivmodhi4
 382 00c2 FB01      		movw r30,r22
 142:_options/writeColor.c **** //	rowNum &= 0x0f;
 143:_options/writeColor.c **** 	uint8_t *color = &(frameBuffer[rowNum][0]);
 383               		.stabn	68,0,143,.LM33-.LFBB5
 384               	.LM33:
 385 00c4 34E0      		ldi r19,4
 386 00c6 EE0F      	1:	lsl r30
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 36


 387 00c8 FF1F      		rol r31
 388 00ca 3A95      		dec r19
 389 00cc 01F4      		brne 1b
 390 00ce E050      		subi r30,lo8(-(frameBuffer))
 391 00d0 F040      		sbci r31,hi8(-(frameBuffer))
 144:_options/writeColor.c **** #endif
 145:_options/writeColor.c ****    /*
 146:_options/writeColor.c ****       DEonly_fromNada();
 147:_options/writeColor.c ****       //Enable complementary-output for Green (on /OC1B, where CLK is OC1B)
 148:_options/writeColor.c ****       TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
 149:_options/writeColor.c ****                | (0<<COM1B1) | (1<<COM1B0)
 150:_options/writeColor.c ****                | (1<<PWM1A) | (1<<PWM1B) );
 151:_options/writeColor.c ****    */
 152:_options/writeColor.c ****       //The Greenish-bar on the left is due to the time it takes to execute
 153:_options/writeColor.c ****       // the first writeColor (since its value is only written at the END)
 154:_options/writeColor.c ****       // Thus the greenish-bar is about one write-color wide...
 155:_options/writeColor.c **** 
 156:_options/writeColor.c ****    //Judging by some weird experiences re v21/22,
 157:_options/writeColor.c ****    // it's not entirely likely this will be predictable
 158:_options/writeColor.c ****    // it may try to recalculate the Z register between writeBlues...
 159:_options/writeColor.c ****    // hopefully not, for now. I should probably assemblify this
 160:_options/writeColor.c ****       writeColor(FALSE, *(color+0));
 392               		.stabn	68,0,160,.LM34-.LFBB5
 393               	.LM34:
 394 00d2 8081      		ld r24,Z
 395               	.LBB138:
 396               	.LBB139:
 161:_options/writeColor.c **** 
 162:_options/writeColor.c **** 		lvds_enableGreen_MakeClockSensitiveToDT();
 163:_options/writeColor.c **** 
 164:_options/writeColor.c **** 		//Because includeDelay is FALSE, above, do it here...
 165:_options/writeColor.c **** 		// The intention being to get enableGreen as soon after the
 166:_options/writeColor.c **** 		// register-settings as possible.
 167:_options/writeColor.c **** 		delay_cyc(WRITE_COLOR_DELAY);
 168:_options/writeColor.c **** 		
 169:_options/writeColor.c ****       //Moving this here not only removes (most of) the green bar
 170:_options/writeColor.c ****       // but also seems to make the pixel edges significantly sharper
 171:_options/writeColor.c ****       // (v29 has ~1/8in of noise, v30 has ~1pixel noise at the right edge)
 172:_options/writeColor.c **** //      TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
 173:_options/writeColor.c **** //               | (0<<COM1B1) | (1<<COM1B0)
 174:_options/writeColor.c **** //               | (1<<PWM1A) | (1<<PWM1B) );
 175:_options/writeColor.c **** 
 176:_options/writeColor.c ****       writeColor(TRUE, *(color+1));    
 177:_options/writeColor.c ****       writeColor(TRUE, *(color+2));    
 178:_options/writeColor.c ****       writeColor(TRUE, *(color+3)); 
 179:_options/writeColor.c ****       writeColor(TRUE, *(color+4));    
 180:_options/writeColor.c ****       writeColor(TRUE, *(color+5));                
 181:_options/writeColor.c ****       writeColor(TRUE, *(color+6));  
 182:_options/writeColor.c ****       writeColor(TRUE, *(color+7));                         
 183:_options/writeColor.c ****       writeColor(TRUE, *(color+8));                         
 184:_options/writeColor.c ****       writeColor(TRUE, *(color+9));                         
 185:_options/writeColor.c ****       writeColor(TRUE, *(color+10));                         
 186:_options/writeColor.c ****       writeColor(TRUE, *(color+11));                         
 187:_options/writeColor.c ****       writeColor(TRUE, *(color+12));                         
 188:_options/writeColor.c ****       writeColor(TRUE, *(color+13));                         
 189:_options/writeColor.c ****       writeColor(TRUE, *(color+14));                         
 190:_options/writeColor.c ****       writeColor(TRUE, *(color+15));   
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 37


 191:_options/writeColor.c **** #define COLORS_WRITTEN   16      
 192:_options/writeColor.c **** #if ( (defined(COLOR_BAR_SCROLL) && COLOR_BAR_SCROLL) \
 193:_options/writeColor.c ****    || (defined(ROW_BUFFER) && (ROW_BUFFER)) )
 194:_options/writeColor.c ****       writeColor(TRUE, *(color+16));
 195:_options/writeColor.c ****       writeColor(TRUE, *(color+17));
 196:_options/writeColor.c ****       writeColor(TRUE, *(color+18));
 197:_options/writeColor.c ****       writeColor(TRUE, *(color+19));
 198:_options/writeColor.c **** writeColor(TRUE, *(color+20));
 199:_options/writeColor.c **** writeColor(TRUE, *(color+21));
 200:_options/writeColor.c **** writeColor(TRUE, *(color+22));
 201:_options/writeColor.c **** writeColor(TRUE, *(color+23));
 202:_options/writeColor.c **** writeColor(TRUE, *(color+24));
 203:_options/writeColor.c **** writeColor(TRUE, *(color+25));
 204:_options/writeColor.c **** writeColor(TRUE, *(color+26));
 205:_options/writeColor.c **** writeColor(TRUE, *(color+27));
 206:_options/writeColor.c **** #define COLORS_WRITTEN   28
 207:_options/writeColor.c **** #if (defined(ROW_BUFFER) && (ROW_BUFFER))
 208:_options/writeColor.c **** writeColor(TRUE, *(color+28));
 209:_options/writeColor.c **** writeColor(TRUE, *(color+29));
 210:_options/writeColor.c **** writeColor(TRUE, *(color+30));
 211:_options/writeColor.c **** writeColor(TRUE, *(color+31));
 212:_options/writeColor.c **** //Some sort of syncing problem after 32... (?)
 213:_options/writeColor.c **** 
 214:_options/writeColor.c **** writeColor(TRUE, *(color+32));
 215:_options/writeColor.c **** writeColor(TRUE, *(color+33));
 216:_options/writeColor.c **** writeColor(TRUE, *(color+34));
 217:_options/writeColor.c **** writeColor(TRUE, *(color+35));
 218:_options/writeColor.c **** writeColor(TRUE, *(color+36));
 219:_options/writeColor.c **** writeColor(TRUE, *(color+37));
 220:_options/writeColor.c **** writeColor(TRUE, *(color+38));
 221:_options/writeColor.c **** writeColor(TRUE, *(color+39));
 222:_options/writeColor.c **** writeColor(TRUE, *(color+40));
 223:_options/writeColor.c **** writeColor(TRUE, *(color+41));
 224:_options/writeColor.c **** writeColor(TRUE, *(color+42));
 225:_options/writeColor.c **** writeColor(TRUE, *(color+43));
 226:_options/writeColor.c **** writeColor(TRUE, *(color+44));
 227:_options/writeColor.c **** writeColor(TRUE, *(color+45));
 228:_options/writeColor.c **** writeColor(TRUE, *(color+46));
 229:_options/writeColor.c **** writeColor(TRUE, *(color+47));
 230:_options/writeColor.c **** writeColor(TRUE, *(color+48));
 231:_options/writeColor.c **** writeColor(TRUE, *(color+49));
 232:_options/writeColor.c **** writeColor(TRUE, *(color+50));
 233:_options/writeColor.c **** writeColor(TRUE, *(color+51));
 234:_options/writeColor.c **** writeColor(TRUE, *(color+52));
 235:_options/writeColor.c **** writeColor(TRUE, *(color+53));
 236:_options/writeColor.c **** writeColor(TRUE, *(color+54));
 237:_options/writeColor.c **** writeColor(TRUE, *(color+55));
 238:_options/writeColor.c **** writeColor(TRUE, *(color+56));
 239:_options/writeColor.c **** writeColor(TRUE, *(color+57));
 240:_options/writeColor.c **** writeColor(TRUE, *(color+58));
 241:_options/writeColor.c **** writeColor(TRUE, *(color+59));
 242:_options/writeColor.c **** writeColor(TRUE, *(color+60));
 243:_options/writeColor.c **** writeColor(TRUE, *(color+61));
 244:_options/writeColor.c **** writeColor(TRUE, *(color+62));
 245:_options/writeColor.c **** writeColor(TRUE, *(color+63));
 246:_options/writeColor.c **** // WriteColor writes the pixel *after* the calculations...
 247:_options/writeColor.c **** // thus the pixel appears basically after writeColor completes
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 38


 248:_options/writeColor.c **** // These nops assure the 64th pixel is fully-displayed before exitting
 249:_options/writeColor.c **** // (Not sure how the other following instructions apply to this)
 250:_options/writeColor.c **** // The number of nops was found experimentally...
 251:_options/writeColor.c **** asm("nop");
 252:_options/writeColor.c **** asm("nop");
 253:_options/writeColor.c **** asm("nop");
 254:_options/writeColor.c **** asm("nop");
 255:_options/writeColor.c **** asm("nop");
 256:_options/writeColor.c **** asm("nop");
 257:_options/writeColor.c **** asm("nop");
 258:_options/writeColor.c **** asm("nop");
 259:_options/writeColor.c **** //count "0" below, as well..
 260:_options/writeColor.c **** #define COLORS_WRITTEN 65
 261:_options/writeColor.c **** #endif //ROW_BUFFER
 262:_options/writeColor.c **** #else
 263:_options/writeColor.c **** //   writeColor(0);
 264:_options/writeColor.c **** #endif //COLOR_BARS || ROW_BUFFER
 265:_options/writeColor.c **** 
 266:_options/writeColor.c **** /*      reg[17] = colorBuffer[rowNum][17];                         
 267:_options/writeColor.c ****       writeColor(reg[17]);                         
 268:_options/writeColor.c ****       ...
 269:_options/writeColor.c ****       reg[20] = colorBuffer[rowNum][20];                         
 270:_options/writeColor.c ****       writeColor(reg[20]);  
 271:_options/writeColor.c ****       
 272:_options/writeColor.c ****       //REPEATING to fill screen... (delayDots = 342 worked prior to this)
 273:_options/writeColor.c ****       reg[0] = colorBuffer[rowNum][0];
 274:_options/writeColor.c ****       writeColor(reg[0]);
 275:_options/writeColor.c ****       ...
 276:_options/writeColor.c ****       reg[10] = colorBuffer[rowNum][10];
 277:_options/writeColor.c ****       writeColor(reg[10]);
 278:_options/writeColor.c **** */
 279:_options/writeColor.c ****       //Display the rest as black...
 280:_options/writeColor.c ****       writeColor(FALSE, 0);
 281:_options/writeColor.c **** 		//Do it as quickly as possible.
 282:_options/writeColor.c **** 		// (No, this cuts off the last pixel...)
 283:_options/writeColor.c **** 		//OCR1D = 0;	//Red Off
 284:_options/writeColor.c **** 		//DT1 = 0;		//Green Off
 285:_options/writeColor.c **** 		//OCR1A = 4;  //Blue Off
 286:_options/writeColor.c **** 
 287:_options/writeColor.c **** 		//writeColor(0xff);
 288:_options/writeColor.c ****         //delay_Dots(500);//142); //Don't want to disable DE too early...   
 289:_options/writeColor.c ****       //900 leaves a buffer for various calculations while also showing
 290:_options/writeColor.c ****       // a blue bar at the right-side...
 291:_options/writeColor.c ****       //LTN Last Used 900
 292:_options/writeColor.c ****       // -68 is from 900's intent, IIRC
 293:_options/writeColor.c ****       //  seems arbitrary, but its value (especially if too small)
 294:_options/writeColor.c ****       // causes blank lines... (?!)
 295:_options/writeColor.c ****       // -60 makes more sense for a delay (was the original post-900)
 296:_options/writeColor.c ****       //  (outside DOTS_TO_CYC because it's for cycles used for calcs...
 297:_options/writeColor.c ****       // -68 worked for LVDS_PRE=2
 298:_options/writeColor.c ****       // -60 for 1
 299:_options/writeColor.c ****       // 4 doesn't work... blue-lines
 300:_options/writeColor.c **** 
 301:_options/writeColor.c **** //a/o v60
 302:_options/writeColor.c **** //From Here Down, everything has only been tested recently with rowSegBuf
 303:_options/writeColor.c **** // I did a nice #if-#else scheme which makes this redundant
 304:_options/writeColor.c **** // with what's in rsb_drawPix()...
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 39


 305:_options/writeColor.c **** 
 306:_options/writeColor.c **** // a/o v59-12ish... ROW_COMPLETION_DELAY uses were already commented-out
 307:_options/writeColor.c **** // BUT WHY WAS IT REMOVED?! Seems to help, now.
 308:_options/writeColor.c **** // 
 309:_options/writeColor.c **** //   Some Experimenting has led to the conclusion:
 310:_options/writeColor.c **** //   DE's active-duration needn't be exact. In fact, it can be *way* off
 311:_options/writeColor.c **** //     White is shown between the end of drawSegs, and cyan is shown after
 312:_options/writeColor.c **** //   ROW_COMPLETION_DELAY (which, for now, is constant, regardless of how
 313:_options/writeColor.c **** //    many pixels were drawn)
 314:_options/writeColor.c **** //   Almost immediately after the ROW_COMPLETION_DELAY (when it turns cyan)
 315:_options/writeColor.c **** //    DE is disabled
 316:_options/writeColor.c **** //    Yet the remainder of the screen still fills with cyan.
 317:_options/writeColor.c **** //   THUS: Disabling DE before the end of the screen appears to have the
 318:_options/writeColor.c **** //    effect of either not being acknowledged, or of repeating the last
 319:_options/writeColor.c **** //    color (untested)
 320:_options/writeColor.c **** //   Also, DE durations that are *longer* than the screen, seem to be 
 321:_options/writeColor.c **** //    absorbed by nonexistent pixels to the left...
 322:_options/writeColor.c **** //    (setting ROW_COMPLETION_DELAY==65535 unreasonably high,
 323:_options/writeColor.c **** //         just shows white at the right side, and still syncs)
 324:_options/writeColor.c **** //   Now, the original problem was that there seemed to be some carry-over
 325:_options/writeColor.c **** //   which maybe due to DEs that are EXTRAORDINARILY long?
 326:_options/writeColor.c **** //   NO!
 327:_options/writeColor.c **** //   Actually, it appears to be due to DEs that are TOO SHORT (?)
 328:_options/writeColor.c **** //      (setting ROW_COMPLETION_DELAY to 0 causes the problem again)
 329:_options/writeColor.c **** //   Doesn't appear to be *entirely* scientific, as using SEG_SINE
 330:_options/writeColor.c **** //    would suggest that these (now cyan) bars would appear at the troughs
 331:_options/writeColor.c **** //    in the diagonal-color-stripes at the top...
 332:_options/writeColor.c **** //    they seem, instead to be somewhat random, though maybe more common
 333:_options/writeColor.c **** //      at those locations.
 334:_options/writeColor.c **** //   But Wait! Setting ROW_COMPLETION_DELAY to 1 fixes it again.
 335:_options/writeColor.c **** //    realistically, that should be nothing more than a single nop; no?
 336:_options/writeColor.c **** //    (Maybe not, with a few cycles to entry, and minimum execution times)
 337:_options/writeColor.c **** //    a handful of nops does the trick, as well.
 338:_options/writeColor.c **** //    So is it a problem with too short a DE, or is it a matter of
 339:_options/writeColor.c **** //    e.g. the last segment drawn is setting new values that might only
 340:_options/writeColor.c **** //    be *completely transmitted* after a full PWM cycle...
 341:_options/writeColor.c **** //    So maybe somehow that last transaction is being interrupted
 342:_options/writeColor.c **** //     by the TCCR1A settings, or new values...
 343:_options/writeColor.c **** //    Plausible.
 344:_options/writeColor.c **** //
 345:_options/writeColor.c **** // FURTHER. Lest it be revisited. It was noted elsewhere that I thought
 346:_options/writeColor.c **** // this display was NOT DE-Only. In fact, the datasheet specifically says
 347:_options/writeColor.c **** // "DE-Only Mode"
 348:_options/writeColor.c **** 
 349:_options/writeColor.c **** 
 350:_options/writeColor.c **** 
 351:_options/writeColor.c **** 
 352:_options/writeColor.c **** /*#define ROW_COMPLETION_DELAY \
 353:_options/writeColor.c ****       (DOTS_TO_CYC(DE_ACTIVE_DOTS) -60  \
 354:_options/writeColor.c ****        - WRITE_COLOR_CYCS * COLORS_WRITTEN)
 355:_options/writeColor.c **** */
 356:_options/writeColor.c **** //I think -60 was an arbitrary value just chosen to compensate for
 357:_options/writeColor.c **** //calculations/instructions...
 358:_options/writeColor.c **** // -90 has been found to be right at the edge of the screen, now...
 359:_options/writeColor.c **** // ish. maybe it's not accurate since delay_loop_2 is four instructions per
 360:_options/writeColor.c **** // loop...?
 361:_options/writeColor.c **** #define ROW_COMPLETION_DELAY \
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 40


 362:_options/writeColor.c ****       (DOTS_TO_CYC(DE_ACTIVE_DOTS) - 90  \
 363:_options/writeColor.c ****        - (WRITE_COLOR_CYCS + WRITE_COLOR_DELAY) * COLORS_WRITTEN)
 364:_options/writeColor.c **** //#define ROW_COMPLETION_DELAY 512 //1 //65535//512
 365:_options/writeColor.c **** 
 366:_options/writeColor.c **** 
 367:_options/writeColor.c **** 
 368:_options/writeColor.c **** 
 369:_options/writeColor.c **** //#error "should add SEG_STRETCH here..."
 370:_options/writeColor.c **** #if (ROW_COMPLETION_DELAY > 0)
 371:_options/writeColor.c **** //      delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS) -60 // - 68)// - 60
 372:_options/writeColor.c **** //            - WRITE_COLOR_CYCS*COLORS_WRITTEN);
 373:_options/writeColor.c ****       delay_cyc(ROW_COMPLETION_DELAY);
 374:_options/writeColor.c **** //      asm("nop;");
 375:_options/writeColor.c **** //      asm("nop;");
 376:_options/writeColor.c **** //      asm("nop;");
 377:_options/writeColor.c **** //      asm("nop;");
 378:_options/writeColor.c **** //      asm("nop;");
 379:_options/writeColor.c **** //      asm("nop;");
 380:_options/writeColor.c **** //      asm("nop;");
 381:_options/writeColor.c **** //      asm("nop;");
 382:_options/writeColor.c ****       
 383:_options/writeColor.c **** #else
 384:_options/writeColor.c **** #warning "ROW_COMPLETION_DELAY <= 0"
 385:_options/writeColor.c **** #endif
 386:_options/writeColor.c **** 
 387:_options/writeColor.c **** 		//a/o v62: (Original notes removed)
 388:_options/writeColor.c **** 		//OCR1D controls RED... >=6 is full-red
 389:_options/writeColor.c **** 		// Setting this here indicates where the drawing has completed
 390:_options/writeColor.c **** 		// This is handy for determining timing, stretching, etc...
 391:_options/writeColor.c **** 		OCR1D = 6; //0;
 392:_options/writeColor.c **** 
 393:_options/writeColor.c ****       //DE->Nada transition expects fullBlue...
 394:_options/writeColor.c ****       //Also helps to show the edge of the DE timing...
 395:_options/writeColor.c **** 
 396:_options/writeColor.c ****       //!!! Not sure what the state is at this point...
 397:_options/writeColor.c ****       // could be any DE+Blue level, or could be NADA...
 398:_options/writeColor.c ****       // Nada: DT1=3, still leaves one bit for clocking, might be OK
 399:_options/writeColor.c ****          
 400:_options/writeColor.c ****       //Among the things that don't make sense...
 401:_options/writeColor.c ****       // This appears to go into affect BEFORE delay_cyc (?)
 402:_options/writeColor.c ****       // as, without a pull-up resistor on the /OC1B output, 
 403:_options/writeColor.c ****       // green seems to be floating between the last pixel and the
 404:_options/writeColor.c ****       // delay_cyc (!)
 405:_options/writeColor.c ****       //Disable complementary-output for Green 
 406:_options/writeColor.c ****       //  (on /OC1B, where CLK is OC1B)
 407:_options/writeColor.c ****       // Since Nada, V, and H DT's might be bad for clocking.
 408:_options/writeColor.c **** //		TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
 409:_options/writeColor.c **** //         | (1<<COM1B1) | (0<<COM1B0)
 410:_options/writeColor.c **** //         | (1<<PWM1A) | (1<<PWM1B) );
 411:_options/writeColor.c **** 
 412:_options/writeColor.c **** 		lvds_disableGreen_MakeClockInsensitiveToDT();
 413:_options/writeColor.c **** 
 414:_options/writeColor.c ****       //fullBlue();
 415:_options/writeColor.c ****       //Nada_fromDEonly();
 416:_options/writeColor.c **** 		Nada_init();
 417:_options/writeColor.c **** }
 418:_options/writeColor.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 41


 419:_options/writeColor.c **** 
 420:_options/writeColor.c **** 
 421:_options/writeColor.c **** 
 422:_options/writeColor.c **** 
 423:_options/writeColor.c **** void writeColor(uint8_t includeDelay, uint8_t colorVal)
 424:_options/writeColor.c **** {
 425:_options/writeColor.c **** //#warning "I'm absolutely certain this'll need to be revised, probably asm"
 426:_options/writeColor.c ****    //   Red: (+OC1D => RX0+)
 427:_options/writeColor.c ****    //    Off (0/63): OCR1D = 0
 428:_options/writeColor.c ****    //    35/63:      OCR1D = 3
 429:_options/writeColor.c ****    //    63/63:      OCR1D >= 6
 430:_options/writeColor.c **** 
 431:_options/writeColor.c **** /* No Shit: This compiles to a 16-bit test!
 432:_options/writeColor.c ****    switch((uint8_t)(colorVal & (uint8_t)0x03))
 433:_options/writeColor.c ****    {
 434:_options/writeColor.c ****       case (uint8_t)0:
 435:_options/writeColor.c ****          OCR1D = 0;
 436:_options/writeColor.c ****          break;
 437:_options/writeColor.c ****       case (uint8_t)1:
 438:_options/writeColor.c ****          OCR1D = 3;
 439:_options/writeColor.c ****          break;
 440:_options/writeColor.c ****       case (uint8_t)2:
 441:_options/writeColor.c ****       default:
 442:_options/writeColor.c ****          OCR1D = 6;
 443:_options/writeColor.c ****          break;
 444:_options/writeColor.c ****    }
 445:_options/writeColor.c **** */
 446:_options/writeColor.c **** 
 447:_options/writeColor.c **** #if(defined(ROW_BUFFER) && ROW_BUFFER)
 448:_options/writeColor.c ****    // In this case, colorVal is actually settingVal...
 449:_options/writeColor.c ****    // Between LDI, these instructions, and OCR/DT register writes
 450:_options/writeColor.c ****    // this is 14 cycles... or 16 pixels...
 451:_options/writeColor.c **** 
 452:_options/writeColor.c ****    //                              //ldi (colorVal) (2 cyc)
 453:_options/writeColor.c ****    //Red: (temp)
 454:_options/writeColor.c ****    uint8_t ocrd = colorVal >> 2;   //mov, shl, shl
 455:_options/writeColor.c ****    //Green:
 456:_options/writeColor.c ****    uint8_t dt = colorVal & 0x03; //andi
 457:_options/writeColor.c ****    //Blue:
 458:_options/writeColor.c ****    uint8_t ocra = ocrd >> 3;      //mov, shl, shl, shl
 459:_options/writeColor.c ****    //And red...
 460:_options/writeColor.c ****    ocrd &= 0x07;                  //andi
 461:_options/writeColor.c ****                                  //out OCRD, out DT, out OCRA
 462:_options/writeColor.c **** 
 463:_options/writeColor.c **** #else //NOT ROW_BUFFER (FRAMEBUFFER)
 464:_options/writeColor.c **** 
 465:_options/writeColor.c **** //   uint8_t redVal; // = colorVal & 0x03;
 466:_options/writeColor.c ****    uint8_t ocrd;
 467:_options/writeColor.c **** 
 468:_options/writeColor.c **** /*
 469:_options/writeColor.c ****    if(redVal == 0x00)
 470:_options/writeColor.c ****       ocrd = 0;
 471:_options/writeColor.c ****    else if(redVal == 0x01)
 472:_options/writeColor.c ****       ocrd = 3;
 473:_options/writeColor.c ****    else //2, 3
 474:_options/writeColor.c ****       ocrd = 6;
 475:_options/writeColor.c **** */
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 42


 476:_options/writeColor.c **** #if(defined(FOUR_SHADES) && FOUR_SHADES)
 477:_options/writeColor.c ****  // "nop; nop; nop;" compiles to just a single nop! 
 478:_options/writeColor.c ****  //"\n\t" or maybe the space is necessary
 479:_options/writeColor.c ****  #define FOUR_SHADES_NOPS "nop ; \n\t nop ; \n\t nop ; \n\t"
 480:_options/writeColor.c **** #else
 481:_options/writeColor.c ****  #define FOUR_SHADES_NOPS "\n\t"
 482:_options/writeColor.c **** #endif
 483:_options/writeColor.c **** 
 484:_options/writeColor.c ****    //Each branch is 9 cycles... (12 with FOUR_SHADES)
 485:_options/writeColor.c **** __asm__ __volatile__
 397               		.stabn	68,0,485,.LM35-.LFBB5
 398               	.LM35:
 399               	/* #APP */
 400               	 ;  485 "_options/writeColor.c" 1
 401 00d4 982F      		mov    r25, r24    ; 
 402 00d6 9370      		andi   r25, 0x03  ; 
 403 00d8 01F4      		brne   red1tst_161; 
 404 00da 90E0      		ldi   r25, 0x00   ; 
 405 00dc 0000      		nop            ; 
 406 00de 0000      		nop            ; 
 407 00e0 0000      		nop            ; 
 408 00e2 0000      		nop ; 
 409 00e4 0000      		 nop ; 
 410 00e6 0000      		 nop ; 
 411 00e8 00C0      		rjmp  end_161   ; 
 412 00ea 9130      		red1tst_161:cpi   r25, 0x01   ; 
 413 00ec 01F4      		brne   red23_161   ; 
 414 00ee 0000      		nop ; 
 415 00f0 0000      		 nop ; 
 416 00f2 0000      		 nop ; 
 417 00f4 93E0      		ldi   r25, 0x03   ; 
 418 00f6 00C0      		rjmp   end_161   ; 
 419 00f8 9230      		red23_161:cpi   r25, 0x02 ; 
 420 00fa 01F4      		brne  red3_161   ; 
 421 00fc 94E0      		ldi   r25, 0x04 ; 
 422 00fe 00C0      		rjmp  end_161   ; 
 423 0100 96E0      		red3_161:ldi   r25, 0x06   ; 
 424 0102 0000      		nop            ; 
 425               		end_161:
 426               	 ;  0 "" 2
 486:_options/writeColor.c ****    ( "mov    %0, %1    ; \n\t"  // ocrd (redVal) = colorVal           //1
 487:_options/writeColor.c ****      "andi   %0, 0x03  ; \n\t"  // ocrd = ocrd & 0x03                 //1
 488:_options/writeColor.c ****      "brne   red1tst_%=; \n\t"  // if(ocrd != 0x00) jump to red1test  //1`2
 489:_options/writeColor.c ****      "ldi   %0, 0x00   ; \n\t"  // (ocrd==0x00) add some delays       //1 .
 490:_options/writeColor.c ****      "nop            ; \n\t"    //                                    //1 .
 491:_options/writeColor.c ****      "nop            ; \n\t"    //                                    //1 .
 492:_options/writeColor.c ****      "nop            ; \n\t"    //                                    //1 .
 493:_options/writeColor.c ****      FOUR_SHADES_NOPS           //                                    //N .
 494:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"    //   jump to the end                  //2 .
 495:_options/writeColor.c ****                                 // (ocrd_reg = redVal_reg = 0)            .
 496:_options/writeColor.c ****    "red1tst_%=:"                //"%=" is a unique identifier for this asm.
 497:_options/writeColor.c ****                                 //  invocation, so the label won't be     .
 498:_options/writeColor.c ****                                 //  mistaken from another invocation      .
 499:_options/writeColor.c ****      "cpi   %0, 0x01   ; \n\t"  // if(ocrd-0x01 != 0)               //  1
 500:_options/writeColor.c ****      "brne   red23_%=   ; \n\t" //   jump to red=2,3                //  1`2
 501:_options/writeColor.c ****      FOUR_SHADES_NOPS           //                                  //  N .
 502:_options/writeColor.c ****      "ldi   %0, 0x03   ; \n\t"  // else ocrd = 0x03                 //  1 .
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 43


 503:_options/writeColor.c ****      "rjmp   end_%=   ; \n\t"   //      jump to the end             //  2 .
 504:_options/writeColor.c ****    "red23_%=:"                                                      //    .
 505:_options/writeColor.c **** #if (defined(FOUR_SHADES) && FOUR_SHADES)                           //   /.
 506:_options/writeColor.c ****      "cpi   %0, 0x02 ; \n\t"   // if(ocrd-0x02 !=0)               //( . 1
 507:_options/writeColor.c ****      "brne  red3_%=   ; \n\t"  //      jump to red=3              //( . 1`2
 508:_options/writeColor.c ****      "ldi   %0, 0x04 ; \n\t"   // else ocrd=4                     //( . 1 .
 509:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"   //      jump to the end            //( . 2 .
 510:_options/writeColor.c ****    "red3_%=:"                                                     //( .   /
 511:_options/writeColor.c **** #endif                                                            //(  \ /
 512:_options/writeColor.c ****      "ldi   %0, 0x06   ; \n\t"   // ocrd = 0x06                   //    1
 513:_options/writeColor.c ****      "nop            ; \n\t"  // one delay...                     //    1
 514:_options/writeColor.c ****   "end_%=:"
 515:_options/writeColor.c **** 
 516:_options/writeColor.c ****      : "=r" (ocrd)      //Output only "%0"
 517:_options/writeColor.c ****      : "r"  (colorVal)  //colorVal is "%1"
 518:_options/writeColor.c ****      //,  "d0"  (ocrd)     //ocrd is also used for andi, and is %2
 519:_options/writeColor.c ****    );
 520:_options/writeColor.c **** 
 521:_options/writeColor.c **** 
 522:_options/writeColor.c **** //   OCR1D = ocrd;
 523:_options/writeColor.c **** 
 524:_options/writeColor.c **** 
 525:_options/writeColor.c ****    //   Green: (/OC1B => RX1-)          (B1,0 Active, as well as G2,1)
 526:_options/writeColor.c ****    //    Off (6/63): DTL1 = 0
 527:_options/writeColor.c ****    //    38-39/63:      DTL1 = 1
 528:_options/writeColor.c ****    //    62-63/63:      DTL1 = 3
 529:_options/writeColor.c **** /*   switch(colorVal & 0x0C)
 530:_options/writeColor.c ****    {
 531:_options/writeColor.c ****       case 0x00:
 532:_options/writeColor.c ****          DT1 = 0;
 533:_options/writeColor.c ****          break;
 534:_options/writeColor.c ****       case 0x04:
 535:_options/writeColor.c ****          DT1 = 1;
 536:_options/writeColor.c ****          break;
 537:_options/writeColor.c ****       case 0x08:
 538:_options/writeColor.c ****       default:
 539:_options/writeColor.c ****          DT1 = 3;
 540:_options/writeColor.c ****          break;
 541:_options/writeColor.c ****    }
 542:_options/writeColor.c **** */
 543:_options/writeColor.c **** //   uint8_t greenVal = colorVal & 0x0C;
 544:_options/writeColor.c ****    uint8_t dt;
 545:_options/writeColor.c **** /*   if(greenVal == 0x00)
 546:_options/writeColor.c ****       dt=0;
 547:_options/writeColor.c ****    else if(greenVal == 0x04)
 548:_options/writeColor.c ****       dt=1;
 549:_options/writeColor.c ****    else //0x06, 0x0C
 550:_options/writeColor.c ****       dt=3;
 551:_options/writeColor.c **** */
 552:_options/writeColor.c ****    //Each branch is 9 cycles... (12 with FOUR_SHADES)
 553:_options/writeColor.c **** __asm__ __volatile__
 427               		.stabn	68,0,553,.LM36-.LFBB5
 428               	.LM36:
 429               	 ;  553 "_options/writeColor.c" 1
 430 0104 282F      		mov   r18, r24   ; 
 431 0106 2C70      		andi  r18, 0x0C ; 
 432 0108 01F4      		brne  grn4tst_162; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 44


 433 010a 20E0      		ldi   r18, 0x00 ; 
 434 010c 0000      		nop            ; 
 435 010e 0000      		nop            ; 
 436 0110 0000      		nop            ; 
 437 0112 0000      		nop ; 
 438 0114 0000      		 nop ; 
 439 0116 0000      		 nop ; 
 440 0118 00C0      		rjmp  end_162   ; 
 441 011a 2430      		grn4tst_162:cpi   r18, 0x04 ; 
 442 011c 01F4      		brne  grn8C_162 ; 
 443 011e 21E0      		ldi   r18, 0x01 ; 
 444 0120 0000      		nop ; 
 445 0122 0000      		 nop ; 
 446 0124 0000      		 nop ; 
 447 0126 00C0      		rjmp  end_162   ; 
 448 0128 2830      		grn8C_162:cpi   r18, 0x08 ; 
 449 012a 01F4      		brne  grn3_162  ; 
 450 012c 22E0      		ldi   r18, 0x02 ; 
 451 012e 00C0      		rjmp  end_162   ; 
 452 0130 23E0      		grn3_162:ldi   r18, 0x03 ; 
 453 0132 0000      		nop            ; 
 454               		end_162:
 455               	 ;  0 "" 2
 554:_options/writeColor.c ****    ( "mov   %0, %1   ; \n\t"  // dt (greenVal) = colorVal           //1
 555:_options/writeColor.c ****      "andi  %0, 0x0C ; \n\t"  // dt = dt & 0x0C                     //1
 556:_options/writeColor.c ****      "brne  grn4tst_%=; \n\t" // if(dt != 0x00) jump to grn4test    //1`2
 557:_options/writeColor.c ****      "ldi   %0, 0x00 ; \n\t"  // (dt==0x00) add some delays         //1 .
 558:_options/writeColor.c ****      "nop            ; \n\t"  //                                    //1 .
 559:_options/writeColor.c ****      "nop            ; \n\t"  //                                    //1 .
 560:_options/writeColor.c ****      "nop            ; \n\t"  //                                    //1 .
 561:_options/writeColor.c ****      FOUR_SHADES_NOPS         //                                    //N .
 562:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"  //   jump to the end                  //2 .
 563:_options/writeColor.c ****    "grn4tst_%=:"              //"%=" is a unique identifier for this asm.
 564:_options/writeColor.c ****                               //  invocation, so the label won't be     .
 565:_options/writeColor.c ****                               //  mistaken from another invocation      .
 566:_options/writeColor.c ****      "cpi   %0, 0x04 ; \n\t"  // if(dt-0x04 != 0)                   //  1
 567:_options/writeColor.c ****      "brne  grn8C_%= ; \n\t"  //   jump to green=8,C                //  1`2
 568:_options/writeColor.c ****      "ldi   %0, 0x01 ; \n\t"  // else dt = 0x01                     //  1 .
 569:_options/writeColor.c ****      FOUR_SHADES_NOPS         //                                    //  N .
 570:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"  //      jump to the end               //  2 .
 571:_options/writeColor.c ****    "grn8C_%=:"                                                      //    .
 572:_options/writeColor.c **** #if (defined(FOUR_SHADES) && FOUR_SHADES)                           //   /.
 573:_options/writeColor.c ****      "cpi   %0, 0x08 ; \n\t"  // if(dt-0x08 !=0)                  //( . 1
 574:_options/writeColor.c ****      "brne  grn3_%=  ; \n\t"  //    jump to green=3               //( . 1`2
 575:_options/writeColor.c ****      "ldi   %0, 0x02 ; \n\t"  // else dt=2                        //( . 1 .
 576:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"  //      jump to the end             //( . 2 .
 577:_options/writeColor.c ****    "grn3_%=:"                                                     //( .   /
 578:_options/writeColor.c **** #endif                                                            //(  \ /
 579:_options/writeColor.c ****      "ldi   %0, 0x03 ; \n\t"  // dt = 0x03                        //    1
 580:_options/writeColor.c ****      "nop            ; \n\t"  // one delay...                     //    1
 581:_options/writeColor.c ****    "end_%=:"
 582:_options/writeColor.c **** 
 583:_options/writeColor.c ****      : "=r" (dt)      //Output only "%0"
 584:_options/writeColor.c ****      : "r"  (colorVal)  //colorVal is "%1"
 585:_options/writeColor.c ****      //,  "d0"  (ocrd)     //ocrd is also used for andi, and is %2
 586:_options/writeColor.c ****    );
 587:_options/writeColor.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 45


 588:_options/writeColor.c **** 
 589:_options/writeColor.c **** 
 590:_options/writeColor.c **** //   DT1 = dt;
 591:_options/writeColor.c ****    //   Blue: (+OC1A => RX2+)               (B3,2 Active from here down)
 592:_options/writeColor.c ****    //    Off (15/63):  OCR1A=4
 593:_options/writeColor.c ****    //    47/63:        OCR1A=5
 594:_options/writeColor.c ****    //    63/63:        OCR1A=6
 595:_options/writeColor.c **** /*   switch(colorVal & 0x30)
 596:_options/writeColor.c ****    {
 597:_options/writeColor.c ****       case 0x00:
 598:_options/writeColor.c ****          OCR1A = 4;
 599:_options/writeColor.c ****          break;
 600:_options/writeColor.c ****       case 0x10:
 601:_options/writeColor.c ****          OCR1A = 5;
 602:_options/writeColor.c ****          break;
 603:_options/writeColor.c ****       case 0x20:
 604:_options/writeColor.c ****       default:
 605:_options/writeColor.c ****          OCR1A = 6;
 606:_options/writeColor.c ****          break;
 607:_options/writeColor.c ****    }
 608:_options/writeColor.c **** */
 609:_options/writeColor.c **** //   uint8_t blueVal = colorVal & 0x30;
 610:_options/writeColor.c ****    uint8_t ocra;
 611:_options/writeColor.c **** /*   if(blueVal == 0x00)
 612:_options/writeColor.c ****       ocra=4;
 613:_options/writeColor.c ****    else if(blueVal == 0x10)
 614:_options/writeColor.c ****       ocra=5;
 615:_options/writeColor.c ****    else //0x20, 0x30
 616:_options/writeColor.c ****       ocra=6;
 617:_options/writeColor.c **** */
 618:_options/writeColor.c **** 
 619:_options/writeColor.c ****    //Each branch is 9 cycles...
 620:_options/writeColor.c **** __asm__ __volatile__
 456               		.stabn	68,0,620,.LM37-.LFBB5
 457               	.LM37:
 458               	 ;  620 "_options/writeColor.c" 1
 459 0134 882F      		mov   r24, r24   ; 
 460 0136 8073      		andi  r24, 0x30 ; 
 461 0138 01F4      		brne  blu1tst_163; 
 462 013a 84E0      		ldi   r24, 0x04 ; 
 463 013c 0000      		nop            ; 
 464 013e 0000      		nop            ; 
 465 0140 0000      		nop            ; 
 466 0142 00C0      		rjmp  end_163   ; 
 467 0144 8031      		blu1tst_163:cpi   r24, 0x10 ; 
 468 0146 01F4      		brne  blu23_163 ; 
 469 0148 85E0      		ldi   r24, 0x05 ; 
 470 014a 00C0      		rjmp  end_163   ; 
 471 014c 86E0      		blu23_163:ldi   r24, 0x06 ; 
 472 014e 0000      		nop            ; 
 473               		end_163:
 474               	 ;  0 "" 2
 621:_options/writeColor.c ****    ( "mov   %0, %1   ; \n\t"  // ocra (blueVal) = colorVal          //1
 622:_options/writeColor.c ****      "andi  %0, 0x30 ; \n\t"  // ocra = ocra & 0x30                 //1
 623:_options/writeColor.c ****      "brne  blu1tst_%=; \n\t" // if(ocra != 0x00) jump to red1test  //1`2
 624:_options/writeColor.c ****      "ldi   %0, 0x04 ; \n\t"  // (ocra==0x00) add some delays       //1 .
 625:_options/writeColor.c ****      "nop            ; \n\t"  //                                    //1 .
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 46


 626:_options/writeColor.c ****      "nop            ; \n\t"  //                                    //1 .
 627:_options/writeColor.c ****      "nop            ; \n\t"  //                                    //1 .
 628:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"  //   jump to the end                  //2 .
 629:_options/writeColor.c ****                               // (ocra_reg = blueVal_reg = 0)            .
 630:_options/writeColor.c ****    "blu1tst_%=:"              //"%=" is a unique identifier for this asm.
 631:_options/writeColor.c ****                               //  invocation, so the label won't be     .
 632:_options/writeColor.c ****                               //  mistaken from another invocation      .
 633:_options/writeColor.c ****      "cpi   %0, 0x10 ; \n\t"  // if(ocra-0x10 != 0)                 //  1
 634:_options/writeColor.c ****      "brne  blu23_%= ; \n\t"  //   jump to red=2,3                  //  1`2
 635:_options/writeColor.c ****      "ldi   %0, 0x05 ; \n\t"  // else ocra = 0x05                   //  1 .
 636:_options/writeColor.c ****      "rjmp  end_%=   ; \n\t"  //      jump to the end               //  2 .
 637:_options/writeColor.c ****    "blu23_%=:"                                                      //    .
 638:_options/writeColor.c ****      "ldi   %0, 0x06 ; \n\t"  // ocra = 0x06                        //    1
 639:_options/writeColor.c ****      "nop            ; \n\t"  // one delay...                       //    1
 640:_options/writeColor.c ****    "end_%=:"
 641:_options/writeColor.c **** 
 642:_options/writeColor.c ****      : "=r" (ocra)      //Output only "%0"
 643:_options/writeColor.c ****      : "r"  (colorVal)  //colorVal is "%1"
 644:_options/writeColor.c ****      //,  "d0"  (ocra)     //ocra is also used for andi, and is %2
 645:_options/writeColor.c ****    );
 646:_options/writeColor.c **** 
 647:_options/writeColor.c **** #endif //SETTING vs. FRAMEBUFFER
 648:_options/writeColor.c **** 
 649:_options/writeColor.c ****    DT1 = dt;
 475               		.stabn	68,0,649,.LM38-.LFBB5
 476               	.LM38:
 477               	/* #NOAPP */
 478 0150 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 479               		.stabn	68,0,650,.LM39-.LFBB5
 480               	.LM39:
 481 0152 9ABD      		out 74-0x20,r25
 651:_options/writeColor.c ****    OCR1A = ocra;
 482               		.stabn	68,0,651,.LM40-.LFBB5
 483               	.LM40:
 484 0154 8DBD      		out 77-0x20,r24
 485               	.LBE139:
 486               	.LBE138:
 162:_options/writeColor.c **** 		lvds_enableGreen_MakeClockSensitiveToDT();
 487               		.stabn	68,0,162,.LM41-.LFBB5
 488               	.LM41:
 489 0156 83E5      		ldi r24,lo8(83)
 490 0158 80BF      		out 80-0x20,r24
 491 015a 80E0      		ldi r24,lo8(0)
 492 015c 90E0      		ldi r25,hi8(0)
 493               	.L16:
 494               	.LBB140:
 495               	.LBB141:
 496               		.stabs	"delayCyc.c",132,0,0,.Ltext7
 497               	.Ltext7:
   1:delayCyc.c    **** #include "delayCyc.h"
   2:delayCyc.c    **** 
   3:delayCyc.c    **** //This'll optimze-out in some cases.
   4:delayCyc.c    **** // The timings and instructions used are probably specific to the
   5:delayCyc.c    **** // instruction-set in the MCU, the GCC version, optimization-level, etc.
   6:delayCyc.c    **** // a/o LCDdirectLVDS11 HLow_delay() this is how it's compiling...
   7:delayCyc.c    **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 47


   8:delayCyc.c    **** // The actual number of cycs will probably be a few higher...
   9:delayCyc.c    **** // (or who knows, if things optimze-out, e.g. small ~0-8 numCycs)
  10:delayCyc.c    **** // Due to init, and division...
  11:delayCyc.c    **** // Using rounding-up as well...
  12:delayCyc.c    **** 
  13:delayCyc.c    **** // the argument is int32_t to allow for negative value testing
  14:delayCyc.c    **** // BUT: numCyc is only tested against a uint16_t...
  15:delayCyc.c    **** //  the greatest value (?) is (UINT16_MAX - 7)
  16:delayCyc.c    **** // (maybe it'd make more sense to do the math outside the delay_cyc call
  17:delayCyc.c    **** // and allow the preprocessor to change it to 0, instead of doing it here.
  18:delayCyc.c    **** 
  19:delayCyc.c    **** //This should probably be reimplemented using _delay_loop_1/2() from 
  20:delayCyc.c    **** // util/delay_basic.h
  21:delayCyc.c    **** //  1 uses three cycles per count, counts from 1-256, 
  22:delayCyc.c    **** //      256 counts: _delay_loop_1(0)
  23:delayCyc.c    **** //  2 uses four, counts from 1-65536, 65536 is passed as 0
  24:delayCyc.c    **** 
  25:delayCyc.c    **** //#define DELAY_CYC_DELAY_LOOP TRUE//FALSE
  26:delayCyc.c    **** 
  27:delayCyc.c    **** #if(defined(DELAY_CYC_DELAY_LOOP) && DELAY_CYC_DELAY_LOOP)
  28:delayCyc.c    **** #warning "This has only been tested with v54+... rowSegBuffer, etc."
  29:delayCyc.c    **** void delay_cyc(int32_t numCyc)
  30:delayCyc.c    **** {
  31:delayCyc.c    ****    if(numCyc <= 0)
  32:delayCyc.c    ****       return;
  33:delayCyc.c    **** 
  34:delayCyc.c    ****    uint16_t numLoops = (numCyc+3)/4;
  35:delayCyc.c    **** 
  36:delayCyc.c    ****    _delay_loop_2(numLoops);
  37:delayCyc.c    **** 
  38:delayCyc.c    **** /*   uint32_t delayLoops = (numCyc+3)/4;
  39:delayCyc.c    **** 
  40:delayCyc.c    ****    do
  41:delayCyc.c    ****    {
  42:delayCyc.c    ****       delayLoops--;
  43:delayCyc.c    **** //      _delay_loop_2(delayLoops&0xffff);
  44:delayCyc.c    **** 
  45:delayCyc.c    **** //      delayLoops -= (delayLoops&0xffff);
  46:delayCyc.c    ****    } while(delayLoops);
  47:delayCyc.c    **** */
  48:delayCyc.c    **** /*
  49:delayCyc.c    ****    //Since this is inline, AND it's only called with values computed
  50:delayCyc.c    ****    // at compile time, only one of these should be compiled in...
  51:delayCyc.c    ****    // as necessary...
  52:delayCyc.c    ****    // If called without precomputed value (i.e. a variable)????
  53:delayCyc.c    ****    // Maybe I should only use delay_loop_2...
  54:delayCyc.c    ****    if(numCyc < 256*3)
  55:delayCyc.c    ****       _delay_loop_1(numCyc/&0xff);
  56:delayCyc.c    **** 
  57:delayCyc.c    ****    else
  58:delayCyc.c    **** */
  59:delayCyc.c    **** }
  60:delayCyc.c    **** 
  61:delayCyc.c    **** #else
  62:delayCyc.c    **** void delay_cyc(int32_t numCyc)
  63:delayCyc.c    **** {
  64:delayCyc.c    **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 48


  65:delayCyc.c    ****    //This shouldn't happen often, but some delay_cyc() calls use math
  66:delayCyc.c    ****    // to calculate the number of cycles, and it could be negative
  67:delayCyc.c    ****    if(numCyc < 0)
  68:delayCyc.c    ****       return;
  69:delayCyc.c    ****                                  //#Clocks
  70:delayCyc.c    ****    //Two instructions:
  71:delayCyc.c    ****    // ldi r24, 0                  //1          i=0
  72:delayCyc.c    ****    // ldi r25, 0                  //1
  73:delayCyc.c    ****    uint16_t i;
  74:delayCyc.c    **** 
  75:delayCyc.c    **** 
  76:delayCyc.c    ****    //Loop instructions:
  77:delayCyc.c    ****    //nop                           //1
  78:delayCyc.c    ****    //adiw  r24, 0x01   ; 1         //2          i++
  79:delayCyc.c    ****    //cpi   r24, 0x77   ; 119      //1          i<numCyc (119 in this case)
  80:delayCyc.c    ****    //cpc   r25, r1               //1          Apparently it's also testing
  81:delayCyc.c    ****                                  //           the high byte is 0
  82:delayCyc.c    ****    //brne  .-10        ;         //"1/2"      return to nop
  83:delayCyc.c    ****                                  //            if I understand, this is two
  84:delayCyc.c    ****                                  //            cyc when branching
  85:delayCyc.c    ****                                  //            or one if not (when complete)
  86:delayCyc.c    **** 
  87:delayCyc.c    ****    //READ THIS:
  88:delayCyc.c    ****    // Current Compilation Settings: A/O v18:
  89:delayCyc.c    ****    //    THIS LOOP WILL BE UNROLLED if numLoops <= 5!!!
  90:delayCyc.c    ****    //    Which then turns into numLoops*2 cycles (instead of numLoops*8)
  91:delayCyc.c    ****    // 
  92:delayCyc.c    ****    // Here's an attempted hack...
  93:delayCyc.c    ****    //  it *should* optimize the test out in either case, so it's like a 
  94:delayCyc.c    ****    //  preprocessing directive...
  95:delayCyc.c    **** 	uint8_t loopRemainder = numCyc & 0x07;
  96:delayCyc.c    **** 	uint16_t numLoops = (((uint16_t)(numCyc)+7)>>3);
  97:delayCyc.c    **** 
  98:delayCyc.c    **** 
  99:delayCyc.c    ****    // HACK ATTEMPT 2: THATS A LOT OF CODE.
 100:delayCyc.c    ****       switch(numLoops)
 101:delayCyc.c    ****       {
 102:delayCyc.c    ****          case 5:
 103:delayCyc.c    ****             asm("nop");
 104:delayCyc.c    ****             asm("nop");
 105:delayCyc.c    ****             asm("nop");
 106:delayCyc.c    ****             asm("nop");
 107:delayCyc.c    ****             asm("nop");
 108:delayCyc.c    ****             asm("nop");
 109:delayCyc.c    ****             asm("nop");
 110:delayCyc.c    ****             asm("nop");
 111:delayCyc.c    ****          case 4:
 112:delayCyc.c    ****             asm("nop");
 113:delayCyc.c    ****             asm("nop");
 114:delayCyc.c    ****             asm("nop");
 115:delayCyc.c    ****             asm("nop");
 116:delayCyc.c    ****             asm("nop");
 117:delayCyc.c    ****             asm("nop");
 118:delayCyc.c    ****             asm("nop");
 119:delayCyc.c    ****             asm("nop");
 120:delayCyc.c    ****          case 3:
 121:delayCyc.c    ****             asm("nop");
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 49


 122:delayCyc.c    ****             asm("nop");
 123:delayCyc.c    ****             asm("nop");
 124:delayCyc.c    ****             asm("nop");
 125:delayCyc.c    ****             asm("nop");
 126:delayCyc.c    ****             asm("nop");
 127:delayCyc.c    ****             asm("nop");
 128:delayCyc.c    ****             asm("nop");
 129:delayCyc.c    ****          case 2:
 130:delayCyc.c    ****             asm("nop");
 131:delayCyc.c    ****             asm("nop");
 132:delayCyc.c    ****             asm("nop");
 133:delayCyc.c    ****             asm("nop");
 134:delayCyc.c    ****             asm("nop");
 135:delayCyc.c    ****             asm("nop");
 136:delayCyc.c    ****             asm("nop");
 137:delayCyc.c    ****             asm("nop");
 138:delayCyc.c    ****          case 1:
 139:delayCyc.c    ****             asm("nop");
 140:delayCyc.c    ****             asm("nop");
 141:delayCyc.c    ****             asm("nop");
 142:delayCyc.c    ****             asm("nop");
 143:delayCyc.c    ****             asm("nop");
 144:delayCyc.c    ****             asm("nop");
 145:delayCyc.c    ****             asm("nop");
 146:delayCyc.c    ****             asm("nop");
 147:delayCyc.c    ****             return;
 148:delayCyc.c    ****             break;
 149:delayCyc.c    ****          default:
 150:delayCyc.c    ****             break;
 151:delayCyc.c    ****       }
 152:delayCyc.c    ****    // THUS:
 153:delayCyc.c    ****    // Each loop is 7 cycles, make it 8 by adding an extra nop and we can
 154:delayCyc.c    ****    // use >> instead of / for calculations...
 155:delayCyc.c    ****    // +7 assures rounding-up...
 156:delayCyc.c    **** #warning "This loop seems to be optimizing out!"
 157:delayCyc.c    ****    //for(i=0; i<((numCyc+7)>>3); i++)
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 159:delayCyc.c    ****    {
 160:delayCyc.c    ****       //THIS IS A HACK DUE TO OPTIMIZATION, see above
 161:delayCyc.c    ****       // It will NOT likely be happy with different versions of gcc...
 162:delayCyc.c    ****    /*   // NOGO: Apparently it won't expand the loop if this is part of it
 163:delayCyc.c    ****       // so then we have 5 loops AND 8 instructions /within/ the loop
 164:delayCyc.c    ****       // AND the comparison overhead!`
 165:delayCyc.c    ****       if(numLoops <= 5)
 166:delayCyc.c    ****       {
 167:delayCyc.c    ****          asm("nop");
 168:delayCyc.c    ****          asm("nop");
 169:delayCyc.c    ****       //   asm("nop");
 170:delayCyc.c    ****       //   asm("nop");
 171:delayCyc.c    ****       //   asm("nop");
 172:delayCyc.c    ****       //   asm("nop");
 173:delayCyc.c    ****       }
 174:delayCyc.c    ****       else
 175:delayCyc.c    ****       {
 176:delayCyc.c    ****          asm("nop");
 177:delayCyc.c    ****          asm("nop");
 178:delayCyc.c    ****       }
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 50


 179:delayCyc.c    ****    */
 180:delayCyc.c    ****       //Apparently this loop will optimize-out without this:
 181:delayCyc.c    ****       // Obviously, one instruction each...
 182:delayCyc.c    ****       asm("nop");
 498               		.stabn	68,0,182,.LM42-.LFBB5
 499               	.LM42:
 500               	/* #APP */
 501               	 ;  182 "delayCyc.c" 1
 502 015e 0000      		nop
 503               	 ;  0 "" 2
 183:delayCyc.c    ****       asm("nop");
 504               		.stabn	68,0,183,.LM43-.LFBB5
 505               	.LM43:
 506               	 ;  183 "delayCyc.c" 1
 507 0160 0000      		nop
 508               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 509               		.stabn	68,0,158,.LM44-.LFBB5
 510               	.LM44:
 511               	/* #NOAPP */
 512 0162 0196      		adiw r24,1
 513 0164 8930      		cpi r24,9
 514 0166 9105      		cpc r25,__zero_reg__
 515 0168 01F4      		brne .L16
 516               	.LBE141:
 517               	.LBE140:
 518               		.stabs	"_options/writeColor.c",132,0,0,.Ltext8
 519               	.Ltext8:
 176:_options/writeColor.c ****       writeColor(TRUE, *(color+1));    
 520               		.stabn	68,0,176,.LM45-.LFBB5
 521               	.LM45:
 522 016a 8181      		ldd r24,Z+1
 523               	.LBB142:
 524               	.LBB143:
 485:_options/writeColor.c **** __asm__ __volatile__
 525               		.stabn	68,0,485,.LM46-.LFBB5
 526               	.LM46:
 527               	/* #APP */
 528               	 ;  485 "_options/writeColor.c" 1
 529 016c 982F      		mov    r25, r24    ; 
 530 016e 9370      		andi   r25, 0x03  ; 
 531 0170 01F4      		brne   red1tst_187; 
 532 0172 90E0      		ldi   r25, 0x00   ; 
 533 0174 0000      		nop            ; 
 534 0176 0000      		nop            ; 
 535 0178 0000      		nop            ; 
 536 017a 0000      		nop ; 
 537 017c 0000      		 nop ; 
 538 017e 0000      		 nop ; 
 539 0180 00C0      		rjmp  end_187   ; 
 540 0182 9130      		red1tst_187:cpi   r25, 0x01   ; 
 541 0184 01F4      		brne   red23_187   ; 
 542 0186 0000      		nop ; 
 543 0188 0000      		 nop ; 
 544 018a 0000      		 nop ; 
 545 018c 93E0      		ldi   r25, 0x03   ; 
 546 018e 00C0      		rjmp   end_187   ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 51


 547 0190 9230      		red23_187:cpi   r25, 0x02 ; 
 548 0192 01F4      		brne  red3_187   ; 
 549 0194 94E0      		ldi   r25, 0x04 ; 
 550 0196 00C0      		rjmp  end_187   ; 
 551 0198 96E0      		red3_187:ldi   r25, 0x06   ; 
 552 019a 0000      		nop            ; 
 553               		end_187:
 554               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 555               		.stabn	68,0,553,.LM47-.LFBB5
 556               	.LM47:
 557               	 ;  553 "_options/writeColor.c" 1
 558 019c 282F      		mov   r18, r24   ; 
 559 019e 2C70      		andi  r18, 0x0C ; 
 560 01a0 01F4      		brne  grn4tst_188; 
 561 01a2 20E0      		ldi   r18, 0x00 ; 
 562 01a4 0000      		nop            ; 
 563 01a6 0000      		nop            ; 
 564 01a8 0000      		nop            ; 
 565 01aa 0000      		nop ; 
 566 01ac 0000      		 nop ; 
 567 01ae 0000      		 nop ; 
 568 01b0 00C0      		rjmp  end_188   ; 
 569 01b2 2430      		grn4tst_188:cpi   r18, 0x04 ; 
 570 01b4 01F4      		brne  grn8C_188 ; 
 571 01b6 21E0      		ldi   r18, 0x01 ; 
 572 01b8 0000      		nop ; 
 573 01ba 0000      		 nop ; 
 574 01bc 0000      		 nop ; 
 575 01be 00C0      		rjmp  end_188   ; 
 576 01c0 2830      		grn8C_188:cpi   r18, 0x08 ; 
 577 01c2 01F4      		brne  grn3_188  ; 
 578 01c4 22E0      		ldi   r18, 0x02 ; 
 579 01c6 00C0      		rjmp  end_188   ; 
 580 01c8 23E0      		grn3_188:ldi   r18, 0x03 ; 
 581 01ca 0000      		nop            ; 
 582               		end_188:
 583               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 584               		.stabn	68,0,620,.LM48-.LFBB5
 585               	.LM48:
 586               	 ;  620 "_options/writeColor.c" 1
 587 01cc 882F      		mov   r24, r24   ; 
 588 01ce 8073      		andi  r24, 0x30 ; 
 589 01d0 01F4      		brne  blu1tst_189; 
 590 01d2 84E0      		ldi   r24, 0x04 ; 
 591 01d4 0000      		nop            ; 
 592 01d6 0000      		nop            ; 
 593 01d8 0000      		nop            ; 
 594 01da 00C0      		rjmp  end_189   ; 
 595 01dc 8031      		blu1tst_189:cpi   r24, 0x10 ; 
 596 01de 01F4      		brne  blu23_189 ; 
 597 01e0 85E0      		ldi   r24, 0x05 ; 
 598 01e2 00C0      		rjmp  end_189   ; 
 599 01e4 86E0      		blu23_189:ldi   r24, 0x06 ; 
 600 01e6 0000      		nop            ; 
 601               		end_189:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 52


 602               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 603               		.stabn	68,0,649,.LM49-.LFBB5
 604               	.LM49:
 605               	/* #NOAPP */
 606 01e8 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 607               		.stabn	68,0,650,.LM50-.LFBB5
 608               	.LM50:
 609 01ea 9ABD      		out 74-0x20,r25
 610               		.stabn	68,0,651,.LM51-.LFBB5
 611               	.LM51:
 612 01ec 8DBD      		out 77-0x20,r24
 613 01ee 80E0      		ldi r24,lo8(0)
 614 01f0 90E0      		ldi r25,hi8(0)
 615               	.L17:
 616               	.LBB144:
 617               	.LBB145:
 618               		.stabs	"delayCyc.c",132,0,0,.Ltext9
 619               	.Ltext9:
 182:delayCyc.c    ****       asm("nop");
 620               		.stabn	68,0,182,.LM52-.LFBB5
 621               	.LM52:
 622               	/* #APP */
 623               	 ;  182 "delayCyc.c" 1
 624 01f2 0000      		nop
 625               	 ;  0 "" 2
 626               		.stabn	68,0,183,.LM53-.LFBB5
 627               	.LM53:
 628               	 ;  183 "delayCyc.c" 1
 629 01f4 0000      		nop
 630               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 631               		.stabn	68,0,158,.LM54-.LFBB5
 632               	.LM54:
 633               	/* #NOAPP */
 634 01f6 0196      		adiw r24,1
 635 01f8 8930      		cpi r24,9
 636 01fa 9105      		cpc r25,__zero_reg__
 637 01fc 01F4      		brne .L17
 638               	.LBE145:
 639               	.LBE144:
 640               	.LBE143:
 641               	.LBE142:
 642               		.stabs	"_options/writeColor.c",132,0,0,.Ltext10
 643               	.Ltext10:
 177:_options/writeColor.c ****       writeColor(TRUE, *(color+2));    
 644               		.stabn	68,0,177,.LM55-.LFBB5
 645               	.LM55:
 646 01fe 8281      		ldd r24,Z+2
 647               	.LBB146:
 648               	.LBB147:
 485:_options/writeColor.c **** __asm__ __volatile__
 649               		.stabn	68,0,485,.LM56-.LFBB5
 650               	.LM56:
 651               	/* #APP */
 652               	 ;  485 "_options/writeColor.c" 1
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 53


 653 0200 982F      		mov    r25, r24    ; 
 654 0202 9370      		andi   r25, 0x03  ; 
 655 0204 01F4      		brne   red1tst_211; 
 656 0206 90E0      		ldi   r25, 0x00   ; 
 657 0208 0000      		nop            ; 
 658 020a 0000      		nop            ; 
 659 020c 0000      		nop            ; 
 660 020e 0000      		nop ; 
 661 0210 0000      		 nop ; 
 662 0212 0000      		 nop ; 
 663 0214 00C0      		rjmp  end_211   ; 
 664 0216 9130      		red1tst_211:cpi   r25, 0x01   ; 
 665 0218 01F4      		brne   red23_211   ; 
 666 021a 0000      		nop ; 
 667 021c 0000      		 nop ; 
 668 021e 0000      		 nop ; 
 669 0220 93E0      		ldi   r25, 0x03   ; 
 670 0222 00C0      		rjmp   end_211   ; 
 671 0224 9230      		red23_211:cpi   r25, 0x02 ; 
 672 0226 01F4      		brne  red3_211   ; 
 673 0228 94E0      		ldi   r25, 0x04 ; 
 674 022a 00C0      		rjmp  end_211   ; 
 675 022c 96E0      		red3_211:ldi   r25, 0x06   ; 
 676 022e 0000      		nop            ; 
 677               		end_211:
 678               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 679               		.stabn	68,0,553,.LM57-.LFBB5
 680               	.LM57:
 681               	 ;  553 "_options/writeColor.c" 1
 682 0230 282F      		mov   r18, r24   ; 
 683 0232 2C70      		andi  r18, 0x0C ; 
 684 0234 01F4      		brne  grn4tst_212; 
 685 0236 20E0      		ldi   r18, 0x00 ; 
 686 0238 0000      		nop            ; 
 687 023a 0000      		nop            ; 
 688 023c 0000      		nop            ; 
 689 023e 0000      		nop ; 
 690 0240 0000      		 nop ; 
 691 0242 0000      		 nop ; 
 692 0244 00C0      		rjmp  end_212   ; 
 693 0246 2430      		grn4tst_212:cpi   r18, 0x04 ; 
 694 0248 01F4      		brne  grn8C_212 ; 
 695 024a 21E0      		ldi   r18, 0x01 ; 
 696 024c 0000      		nop ; 
 697 024e 0000      		 nop ; 
 698 0250 0000      		 nop ; 
 699 0252 00C0      		rjmp  end_212   ; 
 700 0254 2830      		grn8C_212:cpi   r18, 0x08 ; 
 701 0256 01F4      		brne  grn3_212  ; 
 702 0258 22E0      		ldi   r18, 0x02 ; 
 703 025a 00C0      		rjmp  end_212   ; 
 704 025c 23E0      		grn3_212:ldi   r18, 0x03 ; 
 705 025e 0000      		nop            ; 
 706               		end_212:
 707               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 54


 708               		.stabn	68,0,620,.LM58-.LFBB5
 709               	.LM58:
 710               	 ;  620 "_options/writeColor.c" 1
 711 0260 882F      		mov   r24, r24   ; 
 712 0262 8073      		andi  r24, 0x30 ; 
 713 0264 01F4      		brne  blu1tst_213; 
 714 0266 84E0      		ldi   r24, 0x04 ; 
 715 0268 0000      		nop            ; 
 716 026a 0000      		nop            ; 
 717 026c 0000      		nop            ; 
 718 026e 00C0      		rjmp  end_213   ; 
 719 0270 8031      		blu1tst_213:cpi   r24, 0x10 ; 
 720 0272 01F4      		brne  blu23_213 ; 
 721 0274 85E0      		ldi   r24, 0x05 ; 
 722 0276 00C0      		rjmp  end_213   ; 
 723 0278 86E0      		blu23_213:ldi   r24, 0x06 ; 
 724 027a 0000      		nop            ; 
 725               		end_213:
 726               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 727               		.stabn	68,0,649,.LM59-.LFBB5
 728               	.LM59:
 729               	/* #NOAPP */
 730 027c 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 731               		.stabn	68,0,650,.LM60-.LFBB5
 732               	.LM60:
 733 027e 9ABD      		out 74-0x20,r25
 734               		.stabn	68,0,651,.LM61-.LFBB5
 735               	.LM61:
 736 0280 8DBD      		out 77-0x20,r24
 737 0282 80E0      		ldi r24,lo8(0)
 738 0284 90E0      		ldi r25,hi8(0)
 739               	.L18:
 740               	.LBB148:
 741               	.LBB149:
 742               		.stabs	"delayCyc.c",132,0,0,.Ltext11
 743               	.Ltext11:
 182:delayCyc.c    ****       asm("nop");
 744               		.stabn	68,0,182,.LM62-.LFBB5
 745               	.LM62:
 746               	/* #APP */
 747               	 ;  182 "delayCyc.c" 1
 748 0286 0000      		nop
 749               	 ;  0 "" 2
 750               		.stabn	68,0,183,.LM63-.LFBB5
 751               	.LM63:
 752               	 ;  183 "delayCyc.c" 1
 753 0288 0000      		nop
 754               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 755               		.stabn	68,0,158,.LM64-.LFBB5
 756               	.LM64:
 757               	/* #NOAPP */
 758 028a 0196      		adiw r24,1
 759 028c 8930      		cpi r24,9
 760 028e 9105      		cpc r25,__zero_reg__
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 55


 761 0290 01F4      		brne .L18
 762               	.LBE149:
 763               	.LBE148:
 764               	.LBE147:
 765               	.LBE146:
 766               		.stabs	"_options/writeColor.c",132,0,0,.Ltext12
 767               	.Ltext12:
 178:_options/writeColor.c ****       writeColor(TRUE, *(color+3)); 
 768               		.stabn	68,0,178,.LM65-.LFBB5
 769               	.LM65:
 770 0292 8381      		ldd r24,Z+3
 771               	.LBB150:
 772               	.LBB151:
 485:_options/writeColor.c **** __asm__ __volatile__
 773               		.stabn	68,0,485,.LM66-.LFBB5
 774               	.LM66:
 775               	/* #APP */
 776               	 ;  485 "_options/writeColor.c" 1
 777 0294 982F      		mov    r25, r24    ; 
 778 0296 9370      		andi   r25, 0x03  ; 
 779 0298 01F4      		brne   red1tst_235; 
 780 029a 90E0      		ldi   r25, 0x00   ; 
 781 029c 0000      		nop            ; 
 782 029e 0000      		nop            ; 
 783 02a0 0000      		nop            ; 
 784 02a2 0000      		nop ; 
 785 02a4 0000      		 nop ; 
 786 02a6 0000      		 nop ; 
 787 02a8 00C0      		rjmp  end_235   ; 
 788 02aa 9130      		red1tst_235:cpi   r25, 0x01   ; 
 789 02ac 01F4      		brne   red23_235   ; 
 790 02ae 0000      		nop ; 
 791 02b0 0000      		 nop ; 
 792 02b2 0000      		 nop ; 
 793 02b4 93E0      		ldi   r25, 0x03   ; 
 794 02b6 00C0      		rjmp   end_235   ; 
 795 02b8 9230      		red23_235:cpi   r25, 0x02 ; 
 796 02ba 01F4      		brne  red3_235   ; 
 797 02bc 94E0      		ldi   r25, 0x04 ; 
 798 02be 00C0      		rjmp  end_235   ; 
 799 02c0 96E0      		red3_235:ldi   r25, 0x06   ; 
 800 02c2 0000      		nop            ; 
 801               		end_235:
 802               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 803               		.stabn	68,0,553,.LM67-.LFBB5
 804               	.LM67:
 805               	 ;  553 "_options/writeColor.c" 1
 806 02c4 282F      		mov   r18, r24   ; 
 807 02c6 2C70      		andi  r18, 0x0C ; 
 808 02c8 01F4      		brne  grn4tst_236; 
 809 02ca 20E0      		ldi   r18, 0x00 ; 
 810 02cc 0000      		nop            ; 
 811 02ce 0000      		nop            ; 
 812 02d0 0000      		nop            ; 
 813 02d2 0000      		nop ; 
 814 02d4 0000      		 nop ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 56


 815 02d6 0000      		 nop ; 
 816 02d8 00C0      		rjmp  end_236   ; 
 817 02da 2430      		grn4tst_236:cpi   r18, 0x04 ; 
 818 02dc 01F4      		brne  grn8C_236 ; 
 819 02de 21E0      		ldi   r18, 0x01 ; 
 820 02e0 0000      		nop ; 
 821 02e2 0000      		 nop ; 
 822 02e4 0000      		 nop ; 
 823 02e6 00C0      		rjmp  end_236   ; 
 824 02e8 2830      		grn8C_236:cpi   r18, 0x08 ; 
 825 02ea 01F4      		brne  grn3_236  ; 
 826 02ec 22E0      		ldi   r18, 0x02 ; 
 827 02ee 00C0      		rjmp  end_236   ; 
 828 02f0 23E0      		grn3_236:ldi   r18, 0x03 ; 
 829 02f2 0000      		nop            ; 
 830               		end_236:
 831               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 832               		.stabn	68,0,620,.LM68-.LFBB5
 833               	.LM68:
 834               	 ;  620 "_options/writeColor.c" 1
 835 02f4 882F      		mov   r24, r24   ; 
 836 02f6 8073      		andi  r24, 0x30 ; 
 837 02f8 01F4      		brne  blu1tst_237; 
 838 02fa 84E0      		ldi   r24, 0x04 ; 
 839 02fc 0000      		nop            ; 
 840 02fe 0000      		nop            ; 
 841 0300 0000      		nop            ; 
 842 0302 00C0      		rjmp  end_237   ; 
 843 0304 8031      		blu1tst_237:cpi   r24, 0x10 ; 
 844 0306 01F4      		brne  blu23_237 ; 
 845 0308 85E0      		ldi   r24, 0x05 ; 
 846 030a 00C0      		rjmp  end_237   ; 
 847 030c 86E0      		blu23_237:ldi   r24, 0x06 ; 
 848 030e 0000      		nop            ; 
 849               		end_237:
 850               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 851               		.stabn	68,0,649,.LM69-.LFBB5
 852               	.LM69:
 853               	/* #NOAPP */
 854 0310 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 855               		.stabn	68,0,650,.LM70-.LFBB5
 856               	.LM70:
 857 0312 9ABD      		out 74-0x20,r25
 858               		.stabn	68,0,651,.LM71-.LFBB5
 859               	.LM71:
 860 0314 8DBD      		out 77-0x20,r24
 861 0316 80E0      		ldi r24,lo8(0)
 862 0318 90E0      		ldi r25,hi8(0)
 863               	.L19:
 864               	.LBB152:
 865               	.LBB153:
 866               		.stabs	"delayCyc.c",132,0,0,.Ltext13
 867               	.Ltext13:
 182:delayCyc.c    ****       asm("nop");
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 57


 868               		.stabn	68,0,182,.LM72-.LFBB5
 869               	.LM72:
 870               	/* #APP */
 871               	 ;  182 "delayCyc.c" 1
 872 031a 0000      		nop
 873               	 ;  0 "" 2
 874               		.stabn	68,0,183,.LM73-.LFBB5
 875               	.LM73:
 876               	 ;  183 "delayCyc.c" 1
 877 031c 0000      		nop
 878               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 879               		.stabn	68,0,158,.LM74-.LFBB5
 880               	.LM74:
 881               	/* #NOAPP */
 882 031e 0196      		adiw r24,1
 883 0320 8930      		cpi r24,9
 884 0322 9105      		cpc r25,__zero_reg__
 885 0324 01F4      		brne .L19
 886               	.LBE153:
 887               	.LBE152:
 888               	.LBE151:
 889               	.LBE150:
 890               		.stabs	"_options/writeColor.c",132,0,0,.Ltext14
 891               	.Ltext14:
 179:_options/writeColor.c ****       writeColor(TRUE, *(color+4));    
 892               		.stabn	68,0,179,.LM75-.LFBB5
 893               	.LM75:
 894 0326 8481      		ldd r24,Z+4
 895               	.LBB154:
 896               	.LBB155:
 485:_options/writeColor.c **** __asm__ __volatile__
 897               		.stabn	68,0,485,.LM76-.LFBB5
 898               	.LM76:
 899               	/* #APP */
 900               	 ;  485 "_options/writeColor.c" 1
 901 0328 982F      		mov    r25, r24    ; 
 902 032a 9370      		andi   r25, 0x03  ; 
 903 032c 01F4      		brne   red1tst_259; 
 904 032e 90E0      		ldi   r25, 0x00   ; 
 905 0330 0000      		nop            ; 
 906 0332 0000      		nop            ; 
 907 0334 0000      		nop            ; 
 908 0336 0000      		nop ; 
 909 0338 0000      		 nop ; 
 910 033a 0000      		 nop ; 
 911 033c 00C0      		rjmp  end_259   ; 
 912 033e 9130      		red1tst_259:cpi   r25, 0x01   ; 
 913 0340 01F4      		brne   red23_259   ; 
 914 0342 0000      		nop ; 
 915 0344 0000      		 nop ; 
 916 0346 0000      		 nop ; 
 917 0348 93E0      		ldi   r25, 0x03   ; 
 918 034a 00C0      		rjmp   end_259   ; 
 919 034c 9230      		red23_259:cpi   r25, 0x02 ; 
 920 034e 01F4      		brne  red3_259   ; 
 921 0350 94E0      		ldi   r25, 0x04 ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 58


 922 0352 00C0      		rjmp  end_259   ; 
 923 0354 96E0      		red3_259:ldi   r25, 0x06   ; 
 924 0356 0000      		nop            ; 
 925               		end_259:
 926               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 927               		.stabn	68,0,553,.LM77-.LFBB5
 928               	.LM77:
 929               	 ;  553 "_options/writeColor.c" 1
 930 0358 282F      		mov   r18, r24   ; 
 931 035a 2C70      		andi  r18, 0x0C ; 
 932 035c 01F4      		brne  grn4tst_260; 
 933 035e 20E0      		ldi   r18, 0x00 ; 
 934 0360 0000      		nop            ; 
 935 0362 0000      		nop            ; 
 936 0364 0000      		nop            ; 
 937 0366 0000      		nop ; 
 938 0368 0000      		 nop ; 
 939 036a 0000      		 nop ; 
 940 036c 00C0      		rjmp  end_260   ; 
 941 036e 2430      		grn4tst_260:cpi   r18, 0x04 ; 
 942 0370 01F4      		brne  grn8C_260 ; 
 943 0372 21E0      		ldi   r18, 0x01 ; 
 944 0374 0000      		nop ; 
 945 0376 0000      		 nop ; 
 946 0378 0000      		 nop ; 
 947 037a 00C0      		rjmp  end_260   ; 
 948 037c 2830      		grn8C_260:cpi   r18, 0x08 ; 
 949 037e 01F4      		brne  grn3_260  ; 
 950 0380 22E0      		ldi   r18, 0x02 ; 
 951 0382 00C0      		rjmp  end_260   ; 
 952 0384 23E0      		grn3_260:ldi   r18, 0x03 ; 
 953 0386 0000      		nop            ; 
 954               		end_260:
 955               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 956               		.stabn	68,0,620,.LM78-.LFBB5
 957               	.LM78:
 958               	 ;  620 "_options/writeColor.c" 1
 959 0388 882F      		mov   r24, r24   ; 
 960 038a 8073      		andi  r24, 0x30 ; 
 961 038c 01F4      		brne  blu1tst_261; 
 962 038e 84E0      		ldi   r24, 0x04 ; 
 963 0390 0000      		nop            ; 
 964 0392 0000      		nop            ; 
 965 0394 0000      		nop            ; 
 966 0396 00C0      		rjmp  end_261   ; 
 967 0398 8031      		blu1tst_261:cpi   r24, 0x10 ; 
 968 039a 01F4      		brne  blu23_261 ; 
 969 039c 85E0      		ldi   r24, 0x05 ; 
 970 039e 00C0      		rjmp  end_261   ; 
 971 03a0 86E0      		blu23_261:ldi   r24, 0x06 ; 
 972 03a2 0000      		nop            ; 
 973               		end_261:
 974               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 975               		.stabn	68,0,649,.LM79-.LFBB5
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 59


 976               	.LM79:
 977               	/* #NOAPP */
 978 03a4 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 979               		.stabn	68,0,650,.LM80-.LFBB5
 980               	.LM80:
 981 03a6 9ABD      		out 74-0x20,r25
 982               		.stabn	68,0,651,.LM81-.LFBB5
 983               	.LM81:
 984 03a8 8DBD      		out 77-0x20,r24
 985 03aa 80E0      		ldi r24,lo8(0)
 986 03ac 90E0      		ldi r25,hi8(0)
 987               	.L20:
 988               	.LBB156:
 989               	.LBB157:
 990               		.stabs	"delayCyc.c",132,0,0,.Ltext15
 991               	.Ltext15:
 182:delayCyc.c    ****       asm("nop");
 992               		.stabn	68,0,182,.LM82-.LFBB5
 993               	.LM82:
 994               	/* #APP */
 995               	 ;  182 "delayCyc.c" 1
 996 03ae 0000      		nop
 997               	 ;  0 "" 2
 998               		.stabn	68,0,183,.LM83-.LFBB5
 999               	.LM83:
 1000               	 ;  183 "delayCyc.c" 1
 1001 03b0 0000      		nop
 1002               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1003               		.stabn	68,0,158,.LM84-.LFBB5
 1004               	.LM84:
 1005               	/* #NOAPP */
 1006 03b2 0196      		adiw r24,1
 1007 03b4 8930      		cpi r24,9
 1008 03b6 9105      		cpc r25,__zero_reg__
 1009 03b8 01F4      		brne .L20
 1010               	.LBE157:
 1011               	.LBE156:
 1012               	.LBE155:
 1013               	.LBE154:
 1014               		.stabs	"_options/writeColor.c",132,0,0,.Ltext16
 1015               	.Ltext16:
 180:_options/writeColor.c ****       writeColor(TRUE, *(color+5));                
 1016               		.stabn	68,0,180,.LM85-.LFBB5
 1017               	.LM85:
 1018 03ba 8581      		ldd r24,Z+5
 1019               	.LBB158:
 1020               	.LBB159:
 485:_options/writeColor.c **** __asm__ __volatile__
 1021               		.stabn	68,0,485,.LM86-.LFBB5
 1022               	.LM86:
 1023               	/* #APP */
 1024               	 ;  485 "_options/writeColor.c" 1
 1025 03bc 982F      		mov    r25, r24    ; 
 1026 03be 9370      		andi   r25, 0x03  ; 
 1027 03c0 01F4      		brne   red1tst_283; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 60


 1028 03c2 90E0      		ldi   r25, 0x00   ; 
 1029 03c4 0000      		nop            ; 
 1030 03c6 0000      		nop            ; 
 1031 03c8 0000      		nop            ; 
 1032 03ca 0000      		nop ; 
 1033 03cc 0000      		 nop ; 
 1034 03ce 0000      		 nop ; 
 1035 03d0 00C0      		rjmp  end_283   ; 
 1036 03d2 9130      		red1tst_283:cpi   r25, 0x01   ; 
 1037 03d4 01F4      		brne   red23_283   ; 
 1038 03d6 0000      		nop ; 
 1039 03d8 0000      		 nop ; 
 1040 03da 0000      		 nop ; 
 1041 03dc 93E0      		ldi   r25, 0x03   ; 
 1042 03de 00C0      		rjmp   end_283   ; 
 1043 03e0 9230      		red23_283:cpi   r25, 0x02 ; 
 1044 03e2 01F4      		brne  red3_283   ; 
 1045 03e4 94E0      		ldi   r25, 0x04 ; 
 1046 03e6 00C0      		rjmp  end_283   ; 
 1047 03e8 96E0      		red3_283:ldi   r25, 0x06   ; 
 1048 03ea 0000      		nop            ; 
 1049               		end_283:
 1050               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1051               		.stabn	68,0,553,.LM87-.LFBB5
 1052               	.LM87:
 1053               	 ;  553 "_options/writeColor.c" 1
 1054 03ec 282F      		mov   r18, r24   ; 
 1055 03ee 2C70      		andi  r18, 0x0C ; 
 1056 03f0 01F4      		brne  grn4tst_284; 
 1057 03f2 20E0      		ldi   r18, 0x00 ; 
 1058 03f4 0000      		nop            ; 
 1059 03f6 0000      		nop            ; 
 1060 03f8 0000      		nop            ; 
 1061 03fa 0000      		nop ; 
 1062 03fc 0000      		 nop ; 
 1063 03fe 0000      		 nop ; 
 1064 0400 00C0      		rjmp  end_284   ; 
 1065 0402 2430      		grn4tst_284:cpi   r18, 0x04 ; 
 1066 0404 01F4      		brne  grn8C_284 ; 
 1067 0406 21E0      		ldi   r18, 0x01 ; 
 1068 0408 0000      		nop ; 
 1069 040a 0000      		 nop ; 
 1070 040c 0000      		 nop ; 
 1071 040e 00C0      		rjmp  end_284   ; 
 1072 0410 2830      		grn8C_284:cpi   r18, 0x08 ; 
 1073 0412 01F4      		brne  grn3_284  ; 
 1074 0414 22E0      		ldi   r18, 0x02 ; 
 1075 0416 00C0      		rjmp  end_284   ; 
 1076 0418 23E0      		grn3_284:ldi   r18, 0x03 ; 
 1077 041a 0000      		nop            ; 
 1078               		end_284:
 1079               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1080               		.stabn	68,0,620,.LM88-.LFBB5
 1081               	.LM88:
 1082               	 ;  620 "_options/writeColor.c" 1
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 61


 1083 041c 882F      		mov   r24, r24   ; 
 1084 041e 8073      		andi  r24, 0x30 ; 
 1085 0420 01F4      		brne  blu1tst_285; 
 1086 0422 84E0      		ldi   r24, 0x04 ; 
 1087 0424 0000      		nop            ; 
 1088 0426 0000      		nop            ; 
 1089 0428 0000      		nop            ; 
 1090 042a 00C0      		rjmp  end_285   ; 
 1091 042c 8031      		blu1tst_285:cpi   r24, 0x10 ; 
 1092 042e 01F4      		brne  blu23_285 ; 
 1093 0430 85E0      		ldi   r24, 0x05 ; 
 1094 0432 00C0      		rjmp  end_285   ; 
 1095 0434 86E0      		blu23_285:ldi   r24, 0x06 ; 
 1096 0436 0000      		nop            ; 
 1097               		end_285:
 1098               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1099               		.stabn	68,0,649,.LM89-.LFBB5
 1100               	.LM89:
 1101               	/* #NOAPP */
 1102 0438 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1103               		.stabn	68,0,650,.LM90-.LFBB5
 1104               	.LM90:
 1105 043a 9ABD      		out 74-0x20,r25
 1106               		.stabn	68,0,651,.LM91-.LFBB5
 1107               	.LM91:
 1108 043c 8DBD      		out 77-0x20,r24
 1109 043e 80E0      		ldi r24,lo8(0)
 1110 0440 90E0      		ldi r25,hi8(0)
 1111               	.L21:
 1112               	.LBB160:
 1113               	.LBB161:
 1114               		.stabs	"delayCyc.c",132,0,0,.Ltext17
 1115               	.Ltext17:
 182:delayCyc.c    ****       asm("nop");
 1116               		.stabn	68,0,182,.LM92-.LFBB5
 1117               	.LM92:
 1118               	/* #APP */
 1119               	 ;  182 "delayCyc.c" 1
 1120 0442 0000      		nop
 1121               	 ;  0 "" 2
 1122               		.stabn	68,0,183,.LM93-.LFBB5
 1123               	.LM93:
 1124               	 ;  183 "delayCyc.c" 1
 1125 0444 0000      		nop
 1126               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1127               		.stabn	68,0,158,.LM94-.LFBB5
 1128               	.LM94:
 1129               	/* #NOAPP */
 1130 0446 0196      		adiw r24,1
 1131 0448 8930      		cpi r24,9
 1132 044a 9105      		cpc r25,__zero_reg__
 1133 044c 01F4      		brne .L21
 1134               	.LBE161:
 1135               	.LBE160:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 62


 1136               	.LBE159:
 1137               	.LBE158:
 1138               		.stabs	"_options/writeColor.c",132,0,0,.Ltext18
 1139               	.Ltext18:
 181:_options/writeColor.c ****       writeColor(TRUE, *(color+6));  
 1140               		.stabn	68,0,181,.LM95-.LFBB5
 1141               	.LM95:
 1142 044e 8681      		ldd r24,Z+6
 1143               	.LBB162:
 1144               	.LBB163:
 485:_options/writeColor.c **** __asm__ __volatile__
 1145               		.stabn	68,0,485,.LM96-.LFBB5
 1146               	.LM96:
 1147               	/* #APP */
 1148               	 ;  485 "_options/writeColor.c" 1
 1149 0450 982F      		mov    r25, r24    ; 
 1150 0452 9370      		andi   r25, 0x03  ; 
 1151 0454 01F4      		brne   red1tst_307; 
 1152 0456 90E0      		ldi   r25, 0x00   ; 
 1153 0458 0000      		nop            ; 
 1154 045a 0000      		nop            ; 
 1155 045c 0000      		nop            ; 
 1156 045e 0000      		nop ; 
 1157 0460 0000      		 nop ; 
 1158 0462 0000      		 nop ; 
 1159 0464 00C0      		rjmp  end_307   ; 
 1160 0466 9130      		red1tst_307:cpi   r25, 0x01   ; 
 1161 0468 01F4      		brne   red23_307   ; 
 1162 046a 0000      		nop ; 
 1163 046c 0000      		 nop ; 
 1164 046e 0000      		 nop ; 
 1165 0470 93E0      		ldi   r25, 0x03   ; 
 1166 0472 00C0      		rjmp   end_307   ; 
 1167 0474 9230      		red23_307:cpi   r25, 0x02 ; 
 1168 0476 01F4      		brne  red3_307   ; 
 1169 0478 94E0      		ldi   r25, 0x04 ; 
 1170 047a 00C0      		rjmp  end_307   ; 
 1171 047c 96E0      		red3_307:ldi   r25, 0x06   ; 
 1172 047e 0000      		nop            ; 
 1173               		end_307:
 1174               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1175               		.stabn	68,0,553,.LM97-.LFBB5
 1176               	.LM97:
 1177               	 ;  553 "_options/writeColor.c" 1
 1178 0480 282F      		mov   r18, r24   ; 
 1179 0482 2C70      		andi  r18, 0x0C ; 
 1180 0484 01F4      		brne  grn4tst_308; 
 1181 0486 20E0      		ldi   r18, 0x00 ; 
 1182 0488 0000      		nop            ; 
 1183 048a 0000      		nop            ; 
 1184 048c 0000      		nop            ; 
 1185 048e 0000      		nop ; 
 1186 0490 0000      		 nop ; 
 1187 0492 0000      		 nop ; 
 1188 0494 00C0      		rjmp  end_308   ; 
 1189 0496 2430      		grn4tst_308:cpi   r18, 0x04 ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 63


 1190 0498 01F4      		brne  grn8C_308 ; 
 1191 049a 21E0      		ldi   r18, 0x01 ; 
 1192 049c 0000      		nop ; 
 1193 049e 0000      		 nop ; 
 1194 04a0 0000      		 nop ; 
 1195 04a2 00C0      		rjmp  end_308   ; 
 1196 04a4 2830      		grn8C_308:cpi   r18, 0x08 ; 
 1197 04a6 01F4      		brne  grn3_308  ; 
 1198 04a8 22E0      		ldi   r18, 0x02 ; 
 1199 04aa 00C0      		rjmp  end_308   ; 
 1200 04ac 23E0      		grn3_308:ldi   r18, 0x03 ; 
 1201 04ae 0000      		nop            ; 
 1202               		end_308:
 1203               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1204               		.stabn	68,0,620,.LM98-.LFBB5
 1205               	.LM98:
 1206               	 ;  620 "_options/writeColor.c" 1
 1207 04b0 882F      		mov   r24, r24   ; 
 1208 04b2 8073      		andi  r24, 0x30 ; 
 1209 04b4 01F4      		brne  blu1tst_309; 
 1210 04b6 84E0      		ldi   r24, 0x04 ; 
 1211 04b8 0000      		nop            ; 
 1212 04ba 0000      		nop            ; 
 1213 04bc 0000      		nop            ; 
 1214 04be 00C0      		rjmp  end_309   ; 
 1215 04c0 8031      		blu1tst_309:cpi   r24, 0x10 ; 
 1216 04c2 01F4      		brne  blu23_309 ; 
 1217 04c4 85E0      		ldi   r24, 0x05 ; 
 1218 04c6 00C0      		rjmp  end_309   ; 
 1219 04c8 86E0      		blu23_309:ldi   r24, 0x06 ; 
 1220 04ca 0000      		nop            ; 
 1221               		end_309:
 1222               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1223               		.stabn	68,0,649,.LM99-.LFBB5
 1224               	.LM99:
 1225               	/* #NOAPP */
 1226 04cc 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1227               		.stabn	68,0,650,.LM100-.LFBB5
 1228               	.LM100:
 1229 04ce 9ABD      		out 74-0x20,r25
 1230               		.stabn	68,0,651,.LM101-.LFBB5
 1231               	.LM101:
 1232 04d0 8DBD      		out 77-0x20,r24
 1233 04d2 80E0      		ldi r24,lo8(0)
 1234 04d4 90E0      		ldi r25,hi8(0)
 1235               	.L22:
 1236               	.LBB164:
 1237               	.LBB165:
 1238               		.stabs	"delayCyc.c",132,0,0,.Ltext19
 1239               	.Ltext19:
 182:delayCyc.c    ****       asm("nop");
 1240               		.stabn	68,0,182,.LM102-.LFBB5
 1241               	.LM102:
 1242               	/* #APP */
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 64


 1243               	 ;  182 "delayCyc.c" 1
 1244 04d6 0000      		nop
 1245               	 ;  0 "" 2
 1246               		.stabn	68,0,183,.LM103-.LFBB5
 1247               	.LM103:
 1248               	 ;  183 "delayCyc.c" 1
 1249 04d8 0000      		nop
 1250               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1251               		.stabn	68,0,158,.LM104-.LFBB5
 1252               	.LM104:
 1253               	/* #NOAPP */
 1254 04da 0196      		adiw r24,1
 1255 04dc 8930      		cpi r24,9
 1256 04de 9105      		cpc r25,__zero_reg__
 1257 04e0 01F4      		brne .L22
 1258               	.LBE165:
 1259               	.LBE164:
 1260               	.LBE163:
 1261               	.LBE162:
 1262               		.stabs	"_options/writeColor.c",132,0,0,.Ltext20
 1263               	.Ltext20:
 182:_options/writeColor.c ****       writeColor(TRUE, *(color+7));                         
 1264               		.stabn	68,0,182,.LM105-.LFBB5
 1265               	.LM105:
 1266 04e2 8781      		ldd r24,Z+7
 1267               	.LBB166:
 1268               	.LBB167:
 485:_options/writeColor.c **** __asm__ __volatile__
 1269               		.stabn	68,0,485,.LM106-.LFBB5
 1270               	.LM106:
 1271               	/* #APP */
 1272               	 ;  485 "_options/writeColor.c" 1
 1273 04e4 982F      		mov    r25, r24    ; 
 1274 04e6 9370      		andi   r25, 0x03  ; 
 1275 04e8 01F4      		brne   red1tst_331; 
 1276 04ea 90E0      		ldi   r25, 0x00   ; 
 1277 04ec 0000      		nop            ; 
 1278 04ee 0000      		nop            ; 
 1279 04f0 0000      		nop            ; 
 1280 04f2 0000      		nop ; 
 1281 04f4 0000      		 nop ; 
 1282 04f6 0000      		 nop ; 
 1283 04f8 00C0      		rjmp  end_331   ; 
 1284 04fa 9130      		red1tst_331:cpi   r25, 0x01   ; 
 1285 04fc 01F4      		brne   red23_331   ; 
 1286 04fe 0000      		nop ; 
 1287 0500 0000      		 nop ; 
 1288 0502 0000      		 nop ; 
 1289 0504 93E0      		ldi   r25, 0x03   ; 
 1290 0506 00C0      		rjmp   end_331   ; 
 1291 0508 9230      		red23_331:cpi   r25, 0x02 ; 
 1292 050a 01F4      		brne  red3_331   ; 
 1293 050c 94E0      		ldi   r25, 0x04 ; 
 1294 050e 00C0      		rjmp  end_331   ; 
 1295 0510 96E0      		red3_331:ldi   r25, 0x06   ; 
 1296 0512 0000      		nop            ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 65


 1297               		end_331:
 1298               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1299               		.stabn	68,0,553,.LM107-.LFBB5
 1300               	.LM107:
 1301               	 ;  553 "_options/writeColor.c" 1
 1302 0514 282F      		mov   r18, r24   ; 
 1303 0516 2C70      		andi  r18, 0x0C ; 
 1304 0518 01F4      		brne  grn4tst_332; 
 1305 051a 20E0      		ldi   r18, 0x00 ; 
 1306 051c 0000      		nop            ; 
 1307 051e 0000      		nop            ; 
 1308 0520 0000      		nop            ; 
 1309 0522 0000      		nop ; 
 1310 0524 0000      		 nop ; 
 1311 0526 0000      		 nop ; 
 1312 0528 00C0      		rjmp  end_332   ; 
 1313 052a 2430      		grn4tst_332:cpi   r18, 0x04 ; 
 1314 052c 01F4      		brne  grn8C_332 ; 
 1315 052e 21E0      		ldi   r18, 0x01 ; 
 1316 0530 0000      		nop ; 
 1317 0532 0000      		 nop ; 
 1318 0534 0000      		 nop ; 
 1319 0536 00C0      		rjmp  end_332   ; 
 1320 0538 2830      		grn8C_332:cpi   r18, 0x08 ; 
 1321 053a 01F4      		brne  grn3_332  ; 
 1322 053c 22E0      		ldi   r18, 0x02 ; 
 1323 053e 00C0      		rjmp  end_332   ; 
 1324 0540 23E0      		grn3_332:ldi   r18, 0x03 ; 
 1325 0542 0000      		nop            ; 
 1326               		end_332:
 1327               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1328               		.stabn	68,0,620,.LM108-.LFBB5
 1329               	.LM108:
 1330               	 ;  620 "_options/writeColor.c" 1
 1331 0544 882F      		mov   r24, r24   ; 
 1332 0546 8073      		andi  r24, 0x30 ; 
 1333 0548 01F4      		brne  blu1tst_333; 
 1334 054a 84E0      		ldi   r24, 0x04 ; 
 1335 054c 0000      		nop            ; 
 1336 054e 0000      		nop            ; 
 1337 0550 0000      		nop            ; 
 1338 0552 00C0      		rjmp  end_333   ; 
 1339 0554 8031      		blu1tst_333:cpi   r24, 0x10 ; 
 1340 0556 01F4      		brne  blu23_333 ; 
 1341 0558 85E0      		ldi   r24, 0x05 ; 
 1342 055a 00C0      		rjmp  end_333   ; 
 1343 055c 86E0      		blu23_333:ldi   r24, 0x06 ; 
 1344 055e 0000      		nop            ; 
 1345               		end_333:
 1346               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1347               		.stabn	68,0,649,.LM109-.LFBB5
 1348               	.LM109:
 1349               	/* #NOAPP */
 1350 0560 24BD      		out 68-0x20,r18
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 66


 650:_options/writeColor.c ****    OCR1D = ocrd;
 1351               		.stabn	68,0,650,.LM110-.LFBB5
 1352               	.LM110:
 1353 0562 9ABD      		out 74-0x20,r25
 1354               		.stabn	68,0,651,.LM111-.LFBB5
 1355               	.LM111:
 1356 0564 8DBD      		out 77-0x20,r24
 1357 0566 80E0      		ldi r24,lo8(0)
 1358 0568 90E0      		ldi r25,hi8(0)
 1359               	.L23:
 1360               	.LBB168:
 1361               	.LBB169:
 1362               		.stabs	"delayCyc.c",132,0,0,.Ltext21
 1363               	.Ltext21:
 182:delayCyc.c    ****       asm("nop");
 1364               		.stabn	68,0,182,.LM112-.LFBB5
 1365               	.LM112:
 1366               	/* #APP */
 1367               	 ;  182 "delayCyc.c" 1
 1368 056a 0000      		nop
 1369               	 ;  0 "" 2
 1370               		.stabn	68,0,183,.LM113-.LFBB5
 1371               	.LM113:
 1372               	 ;  183 "delayCyc.c" 1
 1373 056c 0000      		nop
 1374               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1375               		.stabn	68,0,158,.LM114-.LFBB5
 1376               	.LM114:
 1377               	/* #NOAPP */
 1378 056e 0196      		adiw r24,1
 1379 0570 8930      		cpi r24,9
 1380 0572 9105      		cpc r25,__zero_reg__
 1381 0574 01F4      		brne .L23
 1382               	.LBE169:
 1383               	.LBE168:
 1384               	.LBE167:
 1385               	.LBE166:
 1386               		.stabs	"_options/writeColor.c",132,0,0,.Ltext22
 1387               	.Ltext22:
 183:_options/writeColor.c ****       writeColor(TRUE, *(color+8));                         
 1388               		.stabn	68,0,183,.LM115-.LFBB5
 1389               	.LM115:
 1390 0576 8085      		ldd r24,Z+8
 1391               	.LBB170:
 1392               	.LBB171:
 485:_options/writeColor.c **** __asm__ __volatile__
 1393               		.stabn	68,0,485,.LM116-.LFBB5
 1394               	.LM116:
 1395               	/* #APP */
 1396               	 ;  485 "_options/writeColor.c" 1
 1397 0578 982F      		mov    r25, r24    ; 
 1398 057a 9370      		andi   r25, 0x03  ; 
 1399 057c 01F4      		brne   red1tst_355; 
 1400 057e 90E0      		ldi   r25, 0x00   ; 
 1401 0580 0000      		nop            ; 
 1402 0582 0000      		nop            ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 67


 1403 0584 0000      		nop            ; 
 1404 0586 0000      		nop ; 
 1405 0588 0000      		 nop ; 
 1406 058a 0000      		 nop ; 
 1407 058c 00C0      		rjmp  end_355   ; 
 1408 058e 9130      		red1tst_355:cpi   r25, 0x01   ; 
 1409 0590 01F4      		brne   red23_355   ; 
 1410 0592 0000      		nop ; 
 1411 0594 0000      		 nop ; 
 1412 0596 0000      		 nop ; 
 1413 0598 93E0      		ldi   r25, 0x03   ; 
 1414 059a 00C0      		rjmp   end_355   ; 
 1415 059c 9230      		red23_355:cpi   r25, 0x02 ; 
 1416 059e 01F4      		brne  red3_355   ; 
 1417 05a0 94E0      		ldi   r25, 0x04 ; 
 1418 05a2 00C0      		rjmp  end_355   ; 
 1419 05a4 96E0      		red3_355:ldi   r25, 0x06   ; 
 1420 05a6 0000      		nop            ; 
 1421               		end_355:
 1422               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1423               		.stabn	68,0,553,.LM117-.LFBB5
 1424               	.LM117:
 1425               	 ;  553 "_options/writeColor.c" 1
 1426 05a8 282F      		mov   r18, r24   ; 
 1427 05aa 2C70      		andi  r18, 0x0C ; 
 1428 05ac 01F4      		brne  grn4tst_356; 
 1429 05ae 20E0      		ldi   r18, 0x00 ; 
 1430 05b0 0000      		nop            ; 
 1431 05b2 0000      		nop            ; 
 1432 05b4 0000      		nop            ; 
 1433 05b6 0000      		nop ; 
 1434 05b8 0000      		 nop ; 
 1435 05ba 0000      		 nop ; 
 1436 05bc 00C0      		rjmp  end_356   ; 
 1437 05be 2430      		grn4tst_356:cpi   r18, 0x04 ; 
 1438 05c0 01F4      		brne  grn8C_356 ; 
 1439 05c2 21E0      		ldi   r18, 0x01 ; 
 1440 05c4 0000      		nop ; 
 1441 05c6 0000      		 nop ; 
 1442 05c8 0000      		 nop ; 
 1443 05ca 00C0      		rjmp  end_356   ; 
 1444 05cc 2830      		grn8C_356:cpi   r18, 0x08 ; 
 1445 05ce 01F4      		brne  grn3_356  ; 
 1446 05d0 22E0      		ldi   r18, 0x02 ; 
 1447 05d2 00C0      		rjmp  end_356   ; 
 1448 05d4 23E0      		grn3_356:ldi   r18, 0x03 ; 
 1449 05d6 0000      		nop            ; 
 1450               		end_356:
 1451               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1452               		.stabn	68,0,620,.LM118-.LFBB5
 1453               	.LM118:
 1454               	 ;  620 "_options/writeColor.c" 1
 1455 05d8 882F      		mov   r24, r24   ; 
 1456 05da 8073      		andi  r24, 0x30 ; 
 1457 05dc 01F4      		brne  blu1tst_357; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 68


 1458 05de 84E0      		ldi   r24, 0x04 ; 
 1459 05e0 0000      		nop            ; 
 1460 05e2 0000      		nop            ; 
 1461 05e4 0000      		nop            ; 
 1462 05e6 00C0      		rjmp  end_357   ; 
 1463 05e8 8031      		blu1tst_357:cpi   r24, 0x10 ; 
 1464 05ea 01F4      		brne  blu23_357 ; 
 1465 05ec 85E0      		ldi   r24, 0x05 ; 
 1466 05ee 00C0      		rjmp  end_357   ; 
 1467 05f0 86E0      		blu23_357:ldi   r24, 0x06 ; 
 1468 05f2 0000      		nop            ; 
 1469               		end_357:
 1470               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1471               		.stabn	68,0,649,.LM119-.LFBB5
 1472               	.LM119:
 1473               	/* #NOAPP */
 1474 05f4 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1475               		.stabn	68,0,650,.LM120-.LFBB5
 1476               	.LM120:
 1477 05f6 9ABD      		out 74-0x20,r25
 1478               		.stabn	68,0,651,.LM121-.LFBB5
 1479               	.LM121:
 1480 05f8 8DBD      		out 77-0x20,r24
 1481 05fa 80E0      		ldi r24,lo8(0)
 1482 05fc 90E0      		ldi r25,hi8(0)
 1483               	.L24:
 1484               	.LBB172:
 1485               	.LBB173:
 1486               		.stabs	"delayCyc.c",132,0,0,.Ltext23
 1487               	.Ltext23:
 182:delayCyc.c    ****       asm("nop");
 1488               		.stabn	68,0,182,.LM122-.LFBB5
 1489               	.LM122:
 1490               	/* #APP */
 1491               	 ;  182 "delayCyc.c" 1
 1492 05fe 0000      		nop
 1493               	 ;  0 "" 2
 1494               		.stabn	68,0,183,.LM123-.LFBB5
 1495               	.LM123:
 1496               	 ;  183 "delayCyc.c" 1
 1497 0600 0000      		nop
 1498               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1499               		.stabn	68,0,158,.LM124-.LFBB5
 1500               	.LM124:
 1501               	/* #NOAPP */
 1502 0602 0196      		adiw r24,1
 1503 0604 8930      		cpi r24,9
 1504 0606 9105      		cpc r25,__zero_reg__
 1505 0608 01F4      		brne .L24
 1506               	.LBE173:
 1507               	.LBE172:
 1508               	.LBE171:
 1509               	.LBE170:
 1510               		.stabs	"_options/writeColor.c",132,0,0,.Ltext24
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 69


 1511               	.Ltext24:
 184:_options/writeColor.c ****       writeColor(TRUE, *(color+9));                         
 1512               		.stabn	68,0,184,.LM125-.LFBB5
 1513               	.LM125:
 1514 060a 8185      		ldd r24,Z+9
 1515               	.LBB174:
 1516               	.LBB175:
 485:_options/writeColor.c **** __asm__ __volatile__
 1517               		.stabn	68,0,485,.LM126-.LFBB5
 1518               	.LM126:
 1519               	/* #APP */
 1520               	 ;  485 "_options/writeColor.c" 1
 1521 060c 982F      		mov    r25, r24    ; 
 1522 060e 9370      		andi   r25, 0x03  ; 
 1523 0610 01F4      		brne   red1tst_379; 
 1524 0612 90E0      		ldi   r25, 0x00   ; 
 1525 0614 0000      		nop            ; 
 1526 0616 0000      		nop            ; 
 1527 0618 0000      		nop            ; 
 1528 061a 0000      		nop ; 
 1529 061c 0000      		 nop ; 
 1530 061e 0000      		 nop ; 
 1531 0620 00C0      		rjmp  end_379   ; 
 1532 0622 9130      		red1tst_379:cpi   r25, 0x01   ; 
 1533 0624 01F4      		brne   red23_379   ; 
 1534 0626 0000      		nop ; 
 1535 0628 0000      		 nop ; 
 1536 062a 0000      		 nop ; 
 1537 062c 93E0      		ldi   r25, 0x03   ; 
 1538 062e 00C0      		rjmp   end_379   ; 
 1539 0630 9230      		red23_379:cpi   r25, 0x02 ; 
 1540 0632 01F4      		brne  red3_379   ; 
 1541 0634 94E0      		ldi   r25, 0x04 ; 
 1542 0636 00C0      		rjmp  end_379   ; 
 1543 0638 96E0      		red3_379:ldi   r25, 0x06   ; 
 1544 063a 0000      		nop            ; 
 1545               		end_379:
 1546               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1547               		.stabn	68,0,553,.LM127-.LFBB5
 1548               	.LM127:
 1549               	 ;  553 "_options/writeColor.c" 1
 1550 063c 282F      		mov   r18, r24   ; 
 1551 063e 2C70      		andi  r18, 0x0C ; 
 1552 0640 01F4      		brne  grn4tst_380; 
 1553 0642 20E0      		ldi   r18, 0x00 ; 
 1554 0644 0000      		nop            ; 
 1555 0646 0000      		nop            ; 
 1556 0648 0000      		nop            ; 
 1557 064a 0000      		nop ; 
 1558 064c 0000      		 nop ; 
 1559 064e 0000      		 nop ; 
 1560 0650 00C0      		rjmp  end_380   ; 
 1561 0652 2430      		grn4tst_380:cpi   r18, 0x04 ; 
 1562 0654 01F4      		brne  grn8C_380 ; 
 1563 0656 21E0      		ldi   r18, 0x01 ; 
 1564 0658 0000      		nop ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 70


 1565 065a 0000      		 nop ; 
 1566 065c 0000      		 nop ; 
 1567 065e 00C0      		rjmp  end_380   ; 
 1568 0660 2830      		grn8C_380:cpi   r18, 0x08 ; 
 1569 0662 01F4      		brne  grn3_380  ; 
 1570 0664 22E0      		ldi   r18, 0x02 ; 
 1571 0666 00C0      		rjmp  end_380   ; 
 1572 0668 23E0      		grn3_380:ldi   r18, 0x03 ; 
 1573 066a 0000      		nop            ; 
 1574               		end_380:
 1575               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1576               		.stabn	68,0,620,.LM128-.LFBB5
 1577               	.LM128:
 1578               	 ;  620 "_options/writeColor.c" 1
 1579 066c 882F      		mov   r24, r24   ; 
 1580 066e 8073      		andi  r24, 0x30 ; 
 1581 0670 01F4      		brne  blu1tst_381; 
 1582 0672 84E0      		ldi   r24, 0x04 ; 
 1583 0674 0000      		nop            ; 
 1584 0676 0000      		nop            ; 
 1585 0678 0000      		nop            ; 
 1586 067a 00C0      		rjmp  end_381   ; 
 1587 067c 8031      		blu1tst_381:cpi   r24, 0x10 ; 
 1588 067e 01F4      		brne  blu23_381 ; 
 1589 0680 85E0      		ldi   r24, 0x05 ; 
 1590 0682 00C0      		rjmp  end_381   ; 
 1591 0684 86E0      		blu23_381:ldi   r24, 0x06 ; 
 1592 0686 0000      		nop            ; 
 1593               		end_381:
 1594               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1595               		.stabn	68,0,649,.LM129-.LFBB5
 1596               	.LM129:
 1597               	/* #NOAPP */
 1598 0688 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1599               		.stabn	68,0,650,.LM130-.LFBB5
 1600               	.LM130:
 1601 068a 9ABD      		out 74-0x20,r25
 1602               		.stabn	68,0,651,.LM131-.LFBB5
 1603               	.LM131:
 1604 068c 8DBD      		out 77-0x20,r24
 1605 068e 80E0      		ldi r24,lo8(0)
 1606 0690 90E0      		ldi r25,hi8(0)
 1607               	.L25:
 1608               	.LBB176:
 1609               	.LBB177:
 1610               		.stabs	"delayCyc.c",132,0,0,.Ltext25
 1611               	.Ltext25:
 182:delayCyc.c    ****       asm("nop");
 1612               		.stabn	68,0,182,.LM132-.LFBB5
 1613               	.LM132:
 1614               	/* #APP */
 1615               	 ;  182 "delayCyc.c" 1
 1616 0692 0000      		nop
 1617               	 ;  0 "" 2
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 71


 1618               		.stabn	68,0,183,.LM133-.LFBB5
 1619               	.LM133:
 1620               	 ;  183 "delayCyc.c" 1
 1621 0694 0000      		nop
 1622               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1623               		.stabn	68,0,158,.LM134-.LFBB5
 1624               	.LM134:
 1625               	/* #NOAPP */
 1626 0696 0196      		adiw r24,1
 1627 0698 8930      		cpi r24,9
 1628 069a 9105      		cpc r25,__zero_reg__
 1629 069c 01F4      		brne .L25
 1630               	.LBE177:
 1631               	.LBE176:
 1632               	.LBE175:
 1633               	.LBE174:
 1634               		.stabs	"_options/writeColor.c",132,0,0,.Ltext26
 1635               	.Ltext26:
 185:_options/writeColor.c ****       writeColor(TRUE, *(color+10));                         
 1636               		.stabn	68,0,185,.LM135-.LFBB5
 1637               	.LM135:
 1638 069e 8285      		ldd r24,Z+10
 1639               	.LBB178:
 1640               	.LBB179:
 485:_options/writeColor.c **** __asm__ __volatile__
 1641               		.stabn	68,0,485,.LM136-.LFBB5
 1642               	.LM136:
 1643               	/* #APP */
 1644               	 ;  485 "_options/writeColor.c" 1
 1645 06a0 982F      		mov    r25, r24    ; 
 1646 06a2 9370      		andi   r25, 0x03  ; 
 1647 06a4 01F4      		brne   red1tst_403; 
 1648 06a6 90E0      		ldi   r25, 0x00   ; 
 1649 06a8 0000      		nop            ; 
 1650 06aa 0000      		nop            ; 
 1651 06ac 0000      		nop            ; 
 1652 06ae 0000      		nop ; 
 1653 06b0 0000      		 nop ; 
 1654 06b2 0000      		 nop ; 
 1655 06b4 00C0      		rjmp  end_403   ; 
 1656 06b6 9130      		red1tst_403:cpi   r25, 0x01   ; 
 1657 06b8 01F4      		brne   red23_403   ; 
 1658 06ba 0000      		nop ; 
 1659 06bc 0000      		 nop ; 
 1660 06be 0000      		 nop ; 
 1661 06c0 93E0      		ldi   r25, 0x03   ; 
 1662 06c2 00C0      		rjmp   end_403   ; 
 1663 06c4 9230      		red23_403:cpi   r25, 0x02 ; 
 1664 06c6 01F4      		brne  red3_403   ; 
 1665 06c8 94E0      		ldi   r25, 0x04 ; 
 1666 06ca 00C0      		rjmp  end_403   ; 
 1667 06cc 96E0      		red3_403:ldi   r25, 0x06   ; 
 1668 06ce 0000      		nop            ; 
 1669               		end_403:
 1670               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 72


 1671               		.stabn	68,0,553,.LM137-.LFBB5
 1672               	.LM137:
 1673               	 ;  553 "_options/writeColor.c" 1
 1674 06d0 282F      		mov   r18, r24   ; 
 1675 06d2 2C70      		andi  r18, 0x0C ; 
 1676 06d4 01F4      		brne  grn4tst_404; 
 1677 06d6 20E0      		ldi   r18, 0x00 ; 
 1678 06d8 0000      		nop            ; 
 1679 06da 0000      		nop            ; 
 1680 06dc 0000      		nop            ; 
 1681 06de 0000      		nop ; 
 1682 06e0 0000      		 nop ; 
 1683 06e2 0000      		 nop ; 
 1684 06e4 00C0      		rjmp  end_404   ; 
 1685 06e6 2430      		grn4tst_404:cpi   r18, 0x04 ; 
 1686 06e8 01F4      		brne  grn8C_404 ; 
 1687 06ea 21E0      		ldi   r18, 0x01 ; 
 1688 06ec 0000      		nop ; 
 1689 06ee 0000      		 nop ; 
 1690 06f0 0000      		 nop ; 
 1691 06f2 00C0      		rjmp  end_404   ; 
 1692 06f4 2830      		grn8C_404:cpi   r18, 0x08 ; 
 1693 06f6 01F4      		brne  grn3_404  ; 
 1694 06f8 22E0      		ldi   r18, 0x02 ; 
 1695 06fa 00C0      		rjmp  end_404   ; 
 1696 06fc 23E0      		grn3_404:ldi   r18, 0x03 ; 
 1697 06fe 0000      		nop            ; 
 1698               		end_404:
 1699               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1700               		.stabn	68,0,620,.LM138-.LFBB5
 1701               	.LM138:
 1702               	 ;  620 "_options/writeColor.c" 1
 1703 0700 882F      		mov   r24, r24   ; 
 1704 0702 8073      		andi  r24, 0x30 ; 
 1705 0704 01F4      		brne  blu1tst_405; 
 1706 0706 84E0      		ldi   r24, 0x04 ; 
 1707 0708 0000      		nop            ; 
 1708 070a 0000      		nop            ; 
 1709 070c 0000      		nop            ; 
 1710 070e 00C0      		rjmp  end_405   ; 
 1711 0710 8031      		blu1tst_405:cpi   r24, 0x10 ; 
 1712 0712 01F4      		brne  blu23_405 ; 
 1713 0714 85E0      		ldi   r24, 0x05 ; 
 1714 0716 00C0      		rjmp  end_405   ; 
 1715 0718 86E0      		blu23_405:ldi   r24, 0x06 ; 
 1716 071a 0000      		nop            ; 
 1717               		end_405:
 1718               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1719               		.stabn	68,0,649,.LM139-.LFBB5
 1720               	.LM139:
 1721               	/* #NOAPP */
 1722 071c 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1723               		.stabn	68,0,650,.LM140-.LFBB5
 1724               	.LM140:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 73


 1725 071e 9ABD      		out 74-0x20,r25
 1726               		.stabn	68,0,651,.LM141-.LFBB5
 1727               	.LM141:
 1728 0720 8DBD      		out 77-0x20,r24
 1729 0722 80E0      		ldi r24,lo8(0)
 1730 0724 90E0      		ldi r25,hi8(0)
 1731               	.L26:
 1732               	.LBB180:
 1733               	.LBB181:
 1734               		.stabs	"delayCyc.c",132,0,0,.Ltext27
 1735               	.Ltext27:
 182:delayCyc.c    ****       asm("nop");
 1736               		.stabn	68,0,182,.LM142-.LFBB5
 1737               	.LM142:
 1738               	/* #APP */
 1739               	 ;  182 "delayCyc.c" 1
 1740 0726 0000      		nop
 1741               	 ;  0 "" 2
 1742               		.stabn	68,0,183,.LM143-.LFBB5
 1743               	.LM143:
 1744               	 ;  183 "delayCyc.c" 1
 1745 0728 0000      		nop
 1746               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1747               		.stabn	68,0,158,.LM144-.LFBB5
 1748               	.LM144:
 1749               	/* #NOAPP */
 1750 072a 0196      		adiw r24,1
 1751 072c 8930      		cpi r24,9
 1752 072e 9105      		cpc r25,__zero_reg__
 1753 0730 01F4      		brne .L26
 1754               	.LBE181:
 1755               	.LBE180:
 1756               	.LBE179:
 1757               	.LBE178:
 1758               		.stabs	"_options/writeColor.c",132,0,0,.Ltext28
 1759               	.Ltext28:
 186:_options/writeColor.c ****       writeColor(TRUE, *(color+11));                         
 1760               		.stabn	68,0,186,.LM145-.LFBB5
 1761               	.LM145:
 1762 0732 8385      		ldd r24,Z+11
 1763               	.LBB182:
 1764               	.LBB183:
 485:_options/writeColor.c **** __asm__ __volatile__
 1765               		.stabn	68,0,485,.LM146-.LFBB5
 1766               	.LM146:
 1767               	/* #APP */
 1768               	 ;  485 "_options/writeColor.c" 1
 1769 0734 982F      		mov    r25, r24    ; 
 1770 0736 9370      		andi   r25, 0x03  ; 
 1771 0738 01F4      		brne   red1tst_427; 
 1772 073a 90E0      		ldi   r25, 0x00   ; 
 1773 073c 0000      		nop            ; 
 1774 073e 0000      		nop            ; 
 1775 0740 0000      		nop            ; 
 1776 0742 0000      		nop ; 
 1777 0744 0000      		 nop ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 74


 1778 0746 0000      		 nop ; 
 1779 0748 00C0      		rjmp  end_427   ; 
 1780 074a 9130      		red1tst_427:cpi   r25, 0x01   ; 
 1781 074c 01F4      		brne   red23_427   ; 
 1782 074e 0000      		nop ; 
 1783 0750 0000      		 nop ; 
 1784 0752 0000      		 nop ; 
 1785 0754 93E0      		ldi   r25, 0x03   ; 
 1786 0756 00C0      		rjmp   end_427   ; 
 1787 0758 9230      		red23_427:cpi   r25, 0x02 ; 
 1788 075a 01F4      		brne  red3_427   ; 
 1789 075c 94E0      		ldi   r25, 0x04 ; 
 1790 075e 00C0      		rjmp  end_427   ; 
 1791 0760 96E0      		red3_427:ldi   r25, 0x06   ; 
 1792 0762 0000      		nop            ; 
 1793               		end_427:
 1794               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1795               		.stabn	68,0,553,.LM147-.LFBB5
 1796               	.LM147:
 1797               	 ;  553 "_options/writeColor.c" 1
 1798 0764 282F      		mov   r18, r24   ; 
 1799 0766 2C70      		andi  r18, 0x0C ; 
 1800 0768 01F4      		brne  grn4tst_428; 
 1801 076a 20E0      		ldi   r18, 0x00 ; 
 1802 076c 0000      		nop            ; 
 1803 076e 0000      		nop            ; 
 1804 0770 0000      		nop            ; 
 1805 0772 0000      		nop ; 
 1806 0774 0000      		 nop ; 
 1807 0776 0000      		 nop ; 
 1808 0778 00C0      		rjmp  end_428   ; 
 1809 077a 2430      		grn4tst_428:cpi   r18, 0x04 ; 
 1810 077c 01F4      		brne  grn8C_428 ; 
 1811 077e 21E0      		ldi   r18, 0x01 ; 
 1812 0780 0000      		nop ; 
 1813 0782 0000      		 nop ; 
 1814 0784 0000      		 nop ; 
 1815 0786 00C0      		rjmp  end_428   ; 
 1816 0788 2830      		grn8C_428:cpi   r18, 0x08 ; 
 1817 078a 01F4      		brne  grn3_428  ; 
 1818 078c 22E0      		ldi   r18, 0x02 ; 
 1819 078e 00C0      		rjmp  end_428   ; 
 1820 0790 23E0      		grn3_428:ldi   r18, 0x03 ; 
 1821 0792 0000      		nop            ; 
 1822               		end_428:
 1823               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1824               		.stabn	68,0,620,.LM148-.LFBB5
 1825               	.LM148:
 1826               	 ;  620 "_options/writeColor.c" 1
 1827 0794 882F      		mov   r24, r24   ; 
 1828 0796 8073      		andi  r24, 0x30 ; 
 1829 0798 01F4      		brne  blu1tst_429; 
 1830 079a 84E0      		ldi   r24, 0x04 ; 
 1831 079c 0000      		nop            ; 
 1832 079e 0000      		nop            ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 75


 1833 07a0 0000      		nop            ; 
 1834 07a2 00C0      		rjmp  end_429   ; 
 1835 07a4 8031      		blu1tst_429:cpi   r24, 0x10 ; 
 1836 07a6 01F4      		brne  blu23_429 ; 
 1837 07a8 85E0      		ldi   r24, 0x05 ; 
 1838 07aa 00C0      		rjmp  end_429   ; 
 1839 07ac 86E0      		blu23_429:ldi   r24, 0x06 ; 
 1840 07ae 0000      		nop            ; 
 1841               		end_429:
 1842               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1843               		.stabn	68,0,649,.LM149-.LFBB5
 1844               	.LM149:
 1845               	/* #NOAPP */
 1846 07b0 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1847               		.stabn	68,0,650,.LM150-.LFBB5
 1848               	.LM150:
 1849 07b2 9ABD      		out 74-0x20,r25
 1850               		.stabn	68,0,651,.LM151-.LFBB5
 1851               	.LM151:
 1852 07b4 8DBD      		out 77-0x20,r24
 1853 07b6 80E0      		ldi r24,lo8(0)
 1854 07b8 90E0      		ldi r25,hi8(0)
 1855               	.L27:
 1856               	.LBB184:
 1857               	.LBB185:
 1858               		.stabs	"delayCyc.c",132,0,0,.Ltext29
 1859               	.Ltext29:
 182:delayCyc.c    ****       asm("nop");
 1860               		.stabn	68,0,182,.LM152-.LFBB5
 1861               	.LM152:
 1862               	/* #APP */
 1863               	 ;  182 "delayCyc.c" 1
 1864 07ba 0000      		nop
 1865               	 ;  0 "" 2
 1866               		.stabn	68,0,183,.LM153-.LFBB5
 1867               	.LM153:
 1868               	 ;  183 "delayCyc.c" 1
 1869 07bc 0000      		nop
 1870               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1871               		.stabn	68,0,158,.LM154-.LFBB5
 1872               	.LM154:
 1873               	/* #NOAPP */
 1874 07be 0196      		adiw r24,1
 1875 07c0 8930      		cpi r24,9
 1876 07c2 9105      		cpc r25,__zero_reg__
 1877 07c4 01F4      		brne .L27
 1878               	.LBE185:
 1879               	.LBE184:
 1880               	.LBE183:
 1881               	.LBE182:
 1882               		.stabs	"_options/writeColor.c",132,0,0,.Ltext30
 1883               	.Ltext30:
 187:_options/writeColor.c ****       writeColor(TRUE, *(color+12));                         
 1884               		.stabn	68,0,187,.LM155-.LFBB5
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 76


 1885               	.LM155:
 1886 07c6 8485      		ldd r24,Z+12
 1887               	.LBB186:
 1888               	.LBB187:
 485:_options/writeColor.c **** __asm__ __volatile__
 1889               		.stabn	68,0,485,.LM156-.LFBB5
 1890               	.LM156:
 1891               	/* #APP */
 1892               	 ;  485 "_options/writeColor.c" 1
 1893 07c8 982F      		mov    r25, r24    ; 
 1894 07ca 9370      		andi   r25, 0x03  ; 
 1895 07cc 01F4      		brne   red1tst_451; 
 1896 07ce 90E0      		ldi   r25, 0x00   ; 
 1897 07d0 0000      		nop            ; 
 1898 07d2 0000      		nop            ; 
 1899 07d4 0000      		nop            ; 
 1900 07d6 0000      		nop ; 
 1901 07d8 0000      		 nop ; 
 1902 07da 0000      		 nop ; 
 1903 07dc 00C0      		rjmp  end_451   ; 
 1904 07de 9130      		red1tst_451:cpi   r25, 0x01   ; 
 1905 07e0 01F4      		brne   red23_451   ; 
 1906 07e2 0000      		nop ; 
 1907 07e4 0000      		 nop ; 
 1908 07e6 0000      		 nop ; 
 1909 07e8 93E0      		ldi   r25, 0x03   ; 
 1910 07ea 00C0      		rjmp   end_451   ; 
 1911 07ec 9230      		red23_451:cpi   r25, 0x02 ; 
 1912 07ee 01F4      		brne  red3_451   ; 
 1913 07f0 94E0      		ldi   r25, 0x04 ; 
 1914 07f2 00C0      		rjmp  end_451   ; 
 1915 07f4 96E0      		red3_451:ldi   r25, 0x06   ; 
 1916 07f6 0000      		nop            ; 
 1917               		end_451:
 1918               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 1919               		.stabn	68,0,553,.LM157-.LFBB5
 1920               	.LM157:
 1921               	 ;  553 "_options/writeColor.c" 1
 1922 07f8 282F      		mov   r18, r24   ; 
 1923 07fa 2C70      		andi  r18, 0x0C ; 
 1924 07fc 01F4      		brne  grn4tst_452; 
 1925 07fe 20E0      		ldi   r18, 0x00 ; 
 1926 0800 0000      		nop            ; 
 1927 0802 0000      		nop            ; 
 1928 0804 0000      		nop            ; 
 1929 0806 0000      		nop ; 
 1930 0808 0000      		 nop ; 
 1931 080a 0000      		 nop ; 
 1932 080c 00C0      		rjmp  end_452   ; 
 1933 080e 2430      		grn4tst_452:cpi   r18, 0x04 ; 
 1934 0810 01F4      		brne  grn8C_452 ; 
 1935 0812 21E0      		ldi   r18, 0x01 ; 
 1936 0814 0000      		nop ; 
 1937 0816 0000      		 nop ; 
 1938 0818 0000      		 nop ; 
 1939 081a 00C0      		rjmp  end_452   ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 77


 1940 081c 2830      		grn8C_452:cpi   r18, 0x08 ; 
 1941 081e 01F4      		brne  grn3_452  ; 
 1942 0820 22E0      		ldi   r18, 0x02 ; 
 1943 0822 00C0      		rjmp  end_452   ; 
 1944 0824 23E0      		grn3_452:ldi   r18, 0x03 ; 
 1945 0826 0000      		nop            ; 
 1946               		end_452:
 1947               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 1948               		.stabn	68,0,620,.LM158-.LFBB5
 1949               	.LM158:
 1950               	 ;  620 "_options/writeColor.c" 1
 1951 0828 882F      		mov   r24, r24   ; 
 1952 082a 8073      		andi  r24, 0x30 ; 
 1953 082c 01F4      		brne  blu1tst_453; 
 1954 082e 84E0      		ldi   r24, 0x04 ; 
 1955 0830 0000      		nop            ; 
 1956 0832 0000      		nop            ; 
 1957 0834 0000      		nop            ; 
 1958 0836 00C0      		rjmp  end_453   ; 
 1959 0838 8031      		blu1tst_453:cpi   r24, 0x10 ; 
 1960 083a 01F4      		brne  blu23_453 ; 
 1961 083c 85E0      		ldi   r24, 0x05 ; 
 1962 083e 00C0      		rjmp  end_453   ; 
 1963 0840 86E0      		blu23_453:ldi   r24, 0x06 ; 
 1964 0842 0000      		nop            ; 
 1965               		end_453:
 1966               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 1967               		.stabn	68,0,649,.LM159-.LFBB5
 1968               	.LM159:
 1969               	/* #NOAPP */
 1970 0844 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 1971               		.stabn	68,0,650,.LM160-.LFBB5
 1972               	.LM160:
 1973 0846 9ABD      		out 74-0x20,r25
 1974               		.stabn	68,0,651,.LM161-.LFBB5
 1975               	.LM161:
 1976 0848 8DBD      		out 77-0x20,r24
 1977 084a 80E0      		ldi r24,lo8(0)
 1978 084c 90E0      		ldi r25,hi8(0)
 1979               	.L28:
 1980               	.LBB188:
 1981               	.LBB189:
 1982               		.stabs	"delayCyc.c",132,0,0,.Ltext31
 1983               	.Ltext31:
 182:delayCyc.c    ****       asm("nop");
 1984               		.stabn	68,0,182,.LM162-.LFBB5
 1985               	.LM162:
 1986               	/* #APP */
 1987               	 ;  182 "delayCyc.c" 1
 1988 084e 0000      		nop
 1989               	 ;  0 "" 2
 1990               		.stabn	68,0,183,.LM163-.LFBB5
 1991               	.LM163:
 1992               	 ;  183 "delayCyc.c" 1
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 78


 1993 0850 0000      		nop
 1994               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 1995               		.stabn	68,0,158,.LM164-.LFBB5
 1996               	.LM164:
 1997               	/* #NOAPP */
 1998 0852 0196      		adiw r24,1
 1999 0854 8930      		cpi r24,9
 2000 0856 9105      		cpc r25,__zero_reg__
 2001 0858 01F4      		brne .L28
 2002               	.LBE189:
 2003               	.LBE188:
 2004               	.LBE187:
 2005               	.LBE186:
 2006               		.stabs	"_options/writeColor.c",132,0,0,.Ltext32
 2007               	.Ltext32:
 188:_options/writeColor.c ****       writeColor(TRUE, *(color+13));                         
 2008               		.stabn	68,0,188,.LM165-.LFBB5
 2009               	.LM165:
 2010 085a 8585      		ldd r24,Z+13
 2011               	.LBB190:
 2012               	.LBB191:
 485:_options/writeColor.c **** __asm__ __volatile__
 2013               		.stabn	68,0,485,.LM166-.LFBB5
 2014               	.LM166:
 2015               	/* #APP */
 2016               	 ;  485 "_options/writeColor.c" 1
 2017 085c 982F      		mov    r25, r24    ; 
 2018 085e 9370      		andi   r25, 0x03  ; 
 2019 0860 01F4      		brne   red1tst_475; 
 2020 0862 90E0      		ldi   r25, 0x00   ; 
 2021 0864 0000      		nop            ; 
 2022 0866 0000      		nop            ; 
 2023 0868 0000      		nop            ; 
 2024 086a 0000      		nop ; 
 2025 086c 0000      		 nop ; 
 2026 086e 0000      		 nop ; 
 2027 0870 00C0      		rjmp  end_475   ; 
 2028 0872 9130      		red1tst_475:cpi   r25, 0x01   ; 
 2029 0874 01F4      		brne   red23_475   ; 
 2030 0876 0000      		nop ; 
 2031 0878 0000      		 nop ; 
 2032 087a 0000      		 nop ; 
 2033 087c 93E0      		ldi   r25, 0x03   ; 
 2034 087e 00C0      		rjmp   end_475   ; 
 2035 0880 9230      		red23_475:cpi   r25, 0x02 ; 
 2036 0882 01F4      		brne  red3_475   ; 
 2037 0884 94E0      		ldi   r25, 0x04 ; 
 2038 0886 00C0      		rjmp  end_475   ; 
 2039 0888 96E0      		red3_475:ldi   r25, 0x06   ; 
 2040 088a 0000      		nop            ; 
 2041               		end_475:
 2042               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 2043               		.stabn	68,0,553,.LM167-.LFBB5
 2044               	.LM167:
 2045               	 ;  553 "_options/writeColor.c" 1
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 79


 2046 088c 282F      		mov   r18, r24   ; 
 2047 088e 2C70      		andi  r18, 0x0C ; 
 2048 0890 01F4      		brne  grn4tst_476; 
 2049 0892 20E0      		ldi   r18, 0x00 ; 
 2050 0894 0000      		nop            ; 
 2051 0896 0000      		nop            ; 
 2052 0898 0000      		nop            ; 
 2053 089a 0000      		nop ; 
 2054 089c 0000      		 nop ; 
 2055 089e 0000      		 nop ; 
 2056 08a0 00C0      		rjmp  end_476   ; 
 2057 08a2 2430      		grn4tst_476:cpi   r18, 0x04 ; 
 2058 08a4 01F4      		brne  grn8C_476 ; 
 2059 08a6 21E0      		ldi   r18, 0x01 ; 
 2060 08a8 0000      		nop ; 
 2061 08aa 0000      		 nop ; 
 2062 08ac 0000      		 nop ; 
 2063 08ae 00C0      		rjmp  end_476   ; 
 2064 08b0 2830      		grn8C_476:cpi   r18, 0x08 ; 
 2065 08b2 01F4      		brne  grn3_476  ; 
 2066 08b4 22E0      		ldi   r18, 0x02 ; 
 2067 08b6 00C0      		rjmp  end_476   ; 
 2068 08b8 23E0      		grn3_476:ldi   r18, 0x03 ; 
 2069 08ba 0000      		nop            ; 
 2070               		end_476:
 2071               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 2072               		.stabn	68,0,620,.LM168-.LFBB5
 2073               	.LM168:
 2074               	 ;  620 "_options/writeColor.c" 1
 2075 08bc 882F      		mov   r24, r24   ; 
 2076 08be 8073      		andi  r24, 0x30 ; 
 2077 08c0 01F4      		brne  blu1tst_477; 
 2078 08c2 84E0      		ldi   r24, 0x04 ; 
 2079 08c4 0000      		nop            ; 
 2080 08c6 0000      		nop            ; 
 2081 08c8 0000      		nop            ; 
 2082 08ca 00C0      		rjmp  end_477   ; 
 2083 08cc 8031      		blu1tst_477:cpi   r24, 0x10 ; 
 2084 08ce 01F4      		brne  blu23_477 ; 
 2085 08d0 85E0      		ldi   r24, 0x05 ; 
 2086 08d2 00C0      		rjmp  end_477   ; 
 2087 08d4 86E0      		blu23_477:ldi   r24, 0x06 ; 
 2088 08d6 0000      		nop            ; 
 2089               		end_477:
 2090               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 2091               		.stabn	68,0,649,.LM169-.LFBB5
 2092               	.LM169:
 2093               	/* #NOAPP */
 2094 08d8 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 2095               		.stabn	68,0,650,.LM170-.LFBB5
 2096               	.LM170:
 2097 08da 9ABD      		out 74-0x20,r25
 2098               		.stabn	68,0,651,.LM171-.LFBB5
 2099               	.LM171:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 80


 2100 08dc 8DBD      		out 77-0x20,r24
 2101 08de 80E0      		ldi r24,lo8(0)
 2102 08e0 90E0      		ldi r25,hi8(0)
 2103               	.L29:
 2104               	.LBB192:
 2105               	.LBB193:
 2106               		.stabs	"delayCyc.c",132,0,0,.Ltext33
 2107               	.Ltext33:
 182:delayCyc.c    ****       asm("nop");
 2108               		.stabn	68,0,182,.LM172-.LFBB5
 2109               	.LM172:
 2110               	/* #APP */
 2111               	 ;  182 "delayCyc.c" 1
 2112 08e2 0000      		nop
 2113               	 ;  0 "" 2
 2114               		.stabn	68,0,183,.LM173-.LFBB5
 2115               	.LM173:
 2116               	 ;  183 "delayCyc.c" 1
 2117 08e4 0000      		nop
 2118               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 2119               		.stabn	68,0,158,.LM174-.LFBB5
 2120               	.LM174:
 2121               	/* #NOAPP */
 2122 08e6 0196      		adiw r24,1
 2123 08e8 8930      		cpi r24,9
 2124 08ea 9105      		cpc r25,__zero_reg__
 2125 08ec 01F4      		brne .L29
 2126               	.LBE193:
 2127               	.LBE192:
 2128               	.LBE191:
 2129               	.LBE190:
 2130               		.stabs	"_options/writeColor.c",132,0,0,.Ltext34
 2131               	.Ltext34:
 189:_options/writeColor.c ****       writeColor(TRUE, *(color+14));                         
 2132               		.stabn	68,0,189,.LM175-.LFBB5
 2133               	.LM175:
 2134 08ee 8685      		ldd r24,Z+14
 2135               	.LBB194:
 2136               	.LBB195:
 485:_options/writeColor.c **** __asm__ __volatile__
 2137               		.stabn	68,0,485,.LM176-.LFBB5
 2138               	.LM176:
 2139               	/* #APP */
 2140               	 ;  485 "_options/writeColor.c" 1
 2141 08f0 982F      		mov    r25, r24    ; 
 2142 08f2 9370      		andi   r25, 0x03  ; 
 2143 08f4 01F4      		brne   red1tst_499; 
 2144 08f6 90E0      		ldi   r25, 0x00   ; 
 2145 08f8 0000      		nop            ; 
 2146 08fa 0000      		nop            ; 
 2147 08fc 0000      		nop            ; 
 2148 08fe 0000      		nop ; 
 2149 0900 0000      		 nop ; 
 2150 0902 0000      		 nop ; 
 2151 0904 00C0      		rjmp  end_499   ; 
 2152 0906 9130      		red1tst_499:cpi   r25, 0x01   ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 81


 2153 0908 01F4      		brne   red23_499   ; 
 2154 090a 0000      		nop ; 
 2155 090c 0000      		 nop ; 
 2156 090e 0000      		 nop ; 
 2157 0910 93E0      		ldi   r25, 0x03   ; 
 2158 0912 00C0      		rjmp   end_499   ; 
 2159 0914 9230      		red23_499:cpi   r25, 0x02 ; 
 2160 0916 01F4      		brne  red3_499   ; 
 2161 0918 94E0      		ldi   r25, 0x04 ; 
 2162 091a 00C0      		rjmp  end_499   ; 
 2163 091c 96E0      		red3_499:ldi   r25, 0x06   ; 
 2164 091e 0000      		nop            ; 
 2165               		end_499:
 2166               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 2167               		.stabn	68,0,553,.LM177-.LFBB5
 2168               	.LM177:
 2169               	 ;  553 "_options/writeColor.c" 1
 2170 0920 282F      		mov   r18, r24   ; 
 2171 0922 2C70      		andi  r18, 0x0C ; 
 2172 0924 01F4      		brne  grn4tst_500; 
 2173 0926 20E0      		ldi   r18, 0x00 ; 
 2174 0928 0000      		nop            ; 
 2175 092a 0000      		nop            ; 
 2176 092c 0000      		nop            ; 
 2177 092e 0000      		nop ; 
 2178 0930 0000      		 nop ; 
 2179 0932 0000      		 nop ; 
 2180 0934 00C0      		rjmp  end_500   ; 
 2181 0936 2430      		grn4tst_500:cpi   r18, 0x04 ; 
 2182 0938 01F4      		brne  grn8C_500 ; 
 2183 093a 21E0      		ldi   r18, 0x01 ; 
 2184 093c 0000      		nop ; 
 2185 093e 0000      		 nop ; 
 2186 0940 0000      		 nop ; 
 2187 0942 00C0      		rjmp  end_500   ; 
 2188 0944 2830      		grn8C_500:cpi   r18, 0x08 ; 
 2189 0946 01F4      		brne  grn3_500  ; 
 2190 0948 22E0      		ldi   r18, 0x02 ; 
 2191 094a 00C0      		rjmp  end_500   ; 
 2192 094c 23E0      		grn3_500:ldi   r18, 0x03 ; 
 2193 094e 0000      		nop            ; 
 2194               		end_500:
 2195               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 2196               		.stabn	68,0,620,.LM178-.LFBB5
 2197               	.LM178:
 2198               	 ;  620 "_options/writeColor.c" 1
 2199 0950 882F      		mov   r24, r24   ; 
 2200 0952 8073      		andi  r24, 0x30 ; 
 2201 0954 01F4      		brne  blu1tst_501; 
 2202 0956 84E0      		ldi   r24, 0x04 ; 
 2203 0958 0000      		nop            ; 
 2204 095a 0000      		nop            ; 
 2205 095c 0000      		nop            ; 
 2206 095e 00C0      		rjmp  end_501   ; 
 2207 0960 8031      		blu1tst_501:cpi   r24, 0x10 ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 82


 2208 0962 01F4      		brne  blu23_501 ; 
 2209 0964 85E0      		ldi   r24, 0x05 ; 
 2210 0966 00C0      		rjmp  end_501   ; 
 2211 0968 86E0      		blu23_501:ldi   r24, 0x06 ; 
 2212 096a 0000      		nop            ; 
 2213               		end_501:
 2214               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 2215               		.stabn	68,0,649,.LM179-.LFBB5
 2216               	.LM179:
 2217               	/* #NOAPP */
 2218 096c 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 2219               		.stabn	68,0,650,.LM180-.LFBB5
 2220               	.LM180:
 2221 096e 9ABD      		out 74-0x20,r25
 2222               		.stabn	68,0,651,.LM181-.LFBB5
 2223               	.LM181:
 2224 0970 8DBD      		out 77-0x20,r24
 2225 0972 80E0      		ldi r24,lo8(0)
 2226 0974 90E0      		ldi r25,hi8(0)
 2227               	.L30:
 2228               	.LBB196:
 2229               	.LBB197:
 2230               		.stabs	"delayCyc.c",132,0,0,.Ltext35
 2231               	.Ltext35:
 182:delayCyc.c    ****       asm("nop");
 2232               		.stabn	68,0,182,.LM182-.LFBB5
 2233               	.LM182:
 2234               	/* #APP */
 2235               	 ;  182 "delayCyc.c" 1
 2236 0976 0000      		nop
 2237               	 ;  0 "" 2
 2238               		.stabn	68,0,183,.LM183-.LFBB5
 2239               	.LM183:
 2240               	 ;  183 "delayCyc.c" 1
 2241 0978 0000      		nop
 2242               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 2243               		.stabn	68,0,158,.LM184-.LFBB5
 2244               	.LM184:
 2245               	/* #NOAPP */
 2246 097a 0196      		adiw r24,1
 2247 097c 8930      		cpi r24,9
 2248 097e 9105      		cpc r25,__zero_reg__
 2249 0980 01F4      		brne .L30
 2250               	.LBE197:
 2251               	.LBE196:
 2252               	.LBE195:
 2253               	.LBE194:
 2254               		.stabs	"_options/writeColor.c",132,0,0,.Ltext36
 2255               	.Ltext36:
 190:_options/writeColor.c ****       writeColor(TRUE, *(color+15));   
 2256               		.stabn	68,0,190,.LM185-.LFBB5
 2257               	.LM185:
 2258 0982 8785      		ldd r24,Z+15
 2259               	.LBB198:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 83


 2260               	.LBB199:
 485:_options/writeColor.c **** __asm__ __volatile__
 2261               		.stabn	68,0,485,.LM186-.LFBB5
 2262               	.LM186:
 2263               	/* #APP */
 2264               	 ;  485 "_options/writeColor.c" 1
 2265 0984 982F      		mov    r25, r24    ; 
 2266 0986 9370      		andi   r25, 0x03  ; 
 2267 0988 01F4      		brne   red1tst_523; 
 2268 098a 90E0      		ldi   r25, 0x00   ; 
 2269 098c 0000      		nop            ; 
 2270 098e 0000      		nop            ; 
 2271 0990 0000      		nop            ; 
 2272 0992 0000      		nop ; 
 2273 0994 0000      		 nop ; 
 2274 0996 0000      		 nop ; 
 2275 0998 00C0      		rjmp  end_523   ; 
 2276 099a 9130      		red1tst_523:cpi   r25, 0x01   ; 
 2277 099c 01F4      		brne   red23_523   ; 
 2278 099e 0000      		nop ; 
 2279 09a0 0000      		 nop ; 
 2280 09a2 0000      		 nop ; 
 2281 09a4 93E0      		ldi   r25, 0x03   ; 
 2282 09a6 00C0      		rjmp   end_523   ; 
 2283 09a8 9230      		red23_523:cpi   r25, 0x02 ; 
 2284 09aa 01F4      		brne  red3_523   ; 
 2285 09ac 94E0      		ldi   r25, 0x04 ; 
 2286 09ae 00C0      		rjmp  end_523   ; 
 2287 09b0 96E0      		red3_523:ldi   r25, 0x06   ; 
 2288 09b2 0000      		nop            ; 
 2289               		end_523:
 2290               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 2291               		.stabn	68,0,553,.LM187-.LFBB5
 2292               	.LM187:
 2293               	 ;  553 "_options/writeColor.c" 1
 2294 09b4 282F      		mov   r18, r24   ; 
 2295 09b6 2C70      		andi  r18, 0x0C ; 
 2296 09b8 01F4      		brne  grn4tst_524; 
 2297 09ba 20E0      		ldi   r18, 0x00 ; 
 2298 09bc 0000      		nop            ; 
 2299 09be 0000      		nop            ; 
 2300 09c0 0000      		nop            ; 
 2301 09c2 0000      		nop ; 
 2302 09c4 0000      		 nop ; 
 2303 09c6 0000      		 nop ; 
 2304 09c8 00C0      		rjmp  end_524   ; 
 2305 09ca 2430      		grn4tst_524:cpi   r18, 0x04 ; 
 2306 09cc 01F4      		brne  grn8C_524 ; 
 2307 09ce 21E0      		ldi   r18, 0x01 ; 
 2308 09d0 0000      		nop ; 
 2309 09d2 0000      		 nop ; 
 2310 09d4 0000      		 nop ; 
 2311 09d6 00C0      		rjmp  end_524   ; 
 2312 09d8 2830      		grn8C_524:cpi   r18, 0x08 ; 
 2313 09da 01F4      		brne  grn3_524  ; 
 2314 09dc 22E0      		ldi   r18, 0x02 ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 84


 2315 09de 00C0      		rjmp  end_524   ; 
 2316 09e0 23E0      		grn3_524:ldi   r18, 0x03 ; 
 2317 09e2 0000      		nop            ; 
 2318               		end_524:
 2319               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 2320               		.stabn	68,0,620,.LM188-.LFBB5
 2321               	.LM188:
 2322               	 ;  620 "_options/writeColor.c" 1
 2323 09e4 882F      		mov   r24, r24   ; 
 2324 09e6 8073      		andi  r24, 0x30 ; 
 2325 09e8 01F4      		brne  blu1tst_525; 
 2326 09ea 84E0      		ldi   r24, 0x04 ; 
 2327 09ec 0000      		nop            ; 
 2328 09ee 0000      		nop            ; 
 2329 09f0 0000      		nop            ; 
 2330 09f2 00C0      		rjmp  end_525   ; 
 2331 09f4 8031      		blu1tst_525:cpi   r24, 0x10 ; 
 2332 09f6 01F4      		brne  blu23_525 ; 
 2333 09f8 85E0      		ldi   r24, 0x05 ; 
 2334 09fa 00C0      		rjmp  end_525   ; 
 2335 09fc 86E0      		blu23_525:ldi   r24, 0x06 ; 
 2336 09fe 0000      		nop            ; 
 2337               		end_525:
 2338               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 2339               		.stabn	68,0,649,.LM189-.LFBB5
 2340               	.LM189:
 2341               	/* #NOAPP */
 2342 0a00 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 2343               		.stabn	68,0,650,.LM190-.LFBB5
 2344               	.LM190:
 2345 0a02 9ABD      		out 74-0x20,r25
 2346               		.stabn	68,0,651,.LM191-.LFBB5
 2347               	.LM191:
 2348 0a04 8DBD      		out 77-0x20,r24
 2349 0a06 80E0      		ldi r24,lo8(0)
 2350 0a08 90E0      		ldi r25,hi8(0)
 2351               	.L31:
 2352               	.LBB200:
 2353               	.LBB201:
 2354               		.stabs	"delayCyc.c",132,0,0,.Ltext37
 2355               	.Ltext37:
 182:delayCyc.c    ****       asm("nop");
 2356               		.stabn	68,0,182,.LM192-.LFBB5
 2357               	.LM192:
 2358               	/* #APP */
 2359               	 ;  182 "delayCyc.c" 1
 2360 0a0a 0000      		nop
 2361               	 ;  0 "" 2
 2362               		.stabn	68,0,183,.LM193-.LFBB5
 2363               	.LM193:
 2364               	 ;  183 "delayCyc.c" 1
 2365 0a0c 0000      		nop
 2366               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 85


 2367               		.stabn	68,0,158,.LM194-.LFBB5
 2368               	.LM194:
 2369               	/* #NOAPP */
 2370 0a0e 0196      		adiw r24,1
 2371 0a10 8930      		cpi r24,9
 2372 0a12 9105      		cpc r25,__zero_reg__
 2373 0a14 01F4      		brne .L31
 2374               	.LBE201:
 2375               	.LBE200:
 2376               	.LBE199:
 2377               	.LBE198:
 2378               	.LBB202:
 2379               	.LBB203:
 2380               		.stabs	"_options/writeColor.c",132,0,0,.Ltext38
 2381               	.Ltext38:
 485:_options/writeColor.c **** __asm__ __volatile__
 2382               		.stabn	68,0,485,.LM195-.LFBB5
 2383               	.LM195:
 2384 0a16 80E0      		ldi r24,lo8(0)
 2385               	/* #APP */
 2386               	 ;  485 "_options/writeColor.c" 1
 2387 0a18 982F      		mov    r25, r24    ; 
 2388 0a1a 9370      		andi   r25, 0x03  ; 
 2389 0a1c 01F4      		brne   red1tst_547; 
 2390 0a1e 90E0      		ldi   r25, 0x00   ; 
 2391 0a20 0000      		nop            ; 
 2392 0a22 0000      		nop            ; 
 2393 0a24 0000      		nop            ; 
 2394 0a26 0000      		nop ; 
 2395 0a28 0000      		 nop ; 
 2396 0a2a 0000      		 nop ; 
 2397 0a2c 00C0      		rjmp  end_547   ; 
 2398 0a2e 9130      		red1tst_547:cpi   r25, 0x01   ; 
 2399 0a30 01F4      		brne   red23_547   ; 
 2400 0a32 0000      		nop ; 
 2401 0a34 0000      		 nop ; 
 2402 0a36 0000      		 nop ; 
 2403 0a38 93E0      		ldi   r25, 0x03   ; 
 2404 0a3a 00C0      		rjmp   end_547   ; 
 2405 0a3c 9230      		red23_547:cpi   r25, 0x02 ; 
 2406 0a3e 01F4      		brne  red3_547   ; 
 2407 0a40 94E0      		ldi   r25, 0x04 ; 
 2408 0a42 00C0      		rjmp  end_547   ; 
 2409 0a44 96E0      		red3_547:ldi   r25, 0x06   ; 
 2410 0a46 0000      		nop            ; 
 2411               		end_547:
 2412               	 ;  0 "" 2
 553:_options/writeColor.c **** __asm__ __volatile__
 2413               		.stabn	68,0,553,.LM196-.LFBB5
 2414               	.LM196:
 2415               	 ;  553 "_options/writeColor.c" 1
 2416 0a48 282F      		mov   r18, r24   ; 
 2417 0a4a 2C70      		andi  r18, 0x0C ; 
 2418 0a4c 01F4      		brne  grn4tst_548; 
 2419 0a4e 20E0      		ldi   r18, 0x00 ; 
 2420 0a50 0000      		nop            ; 
 2421 0a52 0000      		nop            ; 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 86


 2422 0a54 0000      		nop            ; 
 2423 0a56 0000      		nop ; 
 2424 0a58 0000      		 nop ; 
 2425 0a5a 0000      		 nop ; 
 2426 0a5c 00C0      		rjmp  end_548   ; 
 2427 0a5e 2430      		grn4tst_548:cpi   r18, 0x04 ; 
 2428 0a60 01F4      		brne  grn8C_548 ; 
 2429 0a62 21E0      		ldi   r18, 0x01 ; 
 2430 0a64 0000      		nop ; 
 2431 0a66 0000      		 nop ; 
 2432 0a68 0000      		 nop ; 
 2433 0a6a 00C0      		rjmp  end_548   ; 
 2434 0a6c 2830      		grn8C_548:cpi   r18, 0x08 ; 
 2435 0a6e 01F4      		brne  grn3_548  ; 
 2436 0a70 22E0      		ldi   r18, 0x02 ; 
 2437 0a72 00C0      		rjmp  end_548   ; 
 2438 0a74 23E0      		grn3_548:ldi   r18, 0x03 ; 
 2439 0a76 0000      		nop            ; 
 2440               		end_548:
 2441               	 ;  0 "" 2
 620:_options/writeColor.c **** __asm__ __volatile__
 2442               		.stabn	68,0,620,.LM197-.LFBB5
 2443               	.LM197:
 2444               	 ;  620 "_options/writeColor.c" 1
 2445 0a78 882F      		mov   r24, r24   ; 
 2446 0a7a 8073      		andi  r24, 0x30 ; 
 2447 0a7c 01F4      		brne  blu1tst_549; 
 2448 0a7e 84E0      		ldi   r24, 0x04 ; 
 2449 0a80 0000      		nop            ; 
 2450 0a82 0000      		nop            ; 
 2451 0a84 0000      		nop            ; 
 2452 0a86 00C0      		rjmp  end_549   ; 
 2453 0a88 8031      		blu1tst_549:cpi   r24, 0x10 ; 
 2454 0a8a 01F4      		brne  blu23_549 ; 
 2455 0a8c 85E0      		ldi   r24, 0x05 ; 
 2456 0a8e 00C0      		rjmp  end_549   ; 
 2457 0a90 86E0      		blu23_549:ldi   r24, 0x06 ; 
 2458 0a92 0000      		nop            ; 
 2459               		end_549:
 2460               	 ;  0 "" 2
 649:_options/writeColor.c ****    DT1 = dt;
 2461               		.stabn	68,0,649,.LM198-.LFBB5
 2462               	.LM198:
 2463               	/* #NOAPP */
 2464 0a94 24BD      		out 68-0x20,r18
 650:_options/writeColor.c ****    OCR1D = ocrd;
 2465               		.stabn	68,0,650,.LM199-.LFBB5
 2466               	.LM199:
 2467 0a96 9ABD      		out 74-0x20,r25
 2468               		.stabn	68,0,651,.LM200-.LFBB5
 2469               	.LM200:
 2470 0a98 8DBD      		out 77-0x20,r24
 2471               	.LBE203:
 2472               	.LBE202:
 391:_options/writeColor.c **** 		OCR1D = 6; //0;
 2473               		.stabn	68,0,391,.LM201-.LFBB5
 2474               	.LM201:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 87


 2475 0a9a 86E0      		ldi r24,lo8(6)
 2476 0a9c 8ABD      		out 74-0x20,r24
 412:_options/writeColor.c **** 		lvds_disableGreen_MakeClockInsensitiveToDT();
 2477               		.stabn	68,0,412,.LM202-.LFBB5
 2478               	.LM202:
 2479 0a9e 83E6      		ldi r24,lo8(99)
 2480 0aa0 80BF      		out 80-0x20,r24
 416:_options/writeColor.c **** 		Nada_init();
 2481               		.stabn	68,0,416,.LM203-.LFBB5
 2482               	.LM203:
 2483 0aa2 80E3      		ldi r24,lo8(48)
 2484 0aa4 84BD      		out 68-0x20,r24
 2485 0aa6 84E0      		ldi r24,lo8(4)
 2486 0aa8 8DBD      		out 77-0x20,r24
 2487               	/* epilogue start */
 417:_options/writeColor.c **** }
 2488               		.stabn	68,0,417,.LM204-.LFBB5
 2489               	.LM204:
 2490 0aaa 0895      		ret
 2491               		.size	nonRSB_drawPix, .-nonRSB_drawPix
 2492               		.stabs	"color:r(15,2)",64,0,143,30
 2493               		.stabn	192,0,0,.LFBB5-.LFBB5
 2494               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2495               		.stabs	"dt:r(3,2)",64,0,544,18
 2496               		.stabs	"ocra:r(3,2)",64,0,610,24
 2497               		.stabn	192,0,0,.LBB139-.LFBB5
 2498               		.stabn	224,0,0,.LBE139-.LFBB5
 2499               		.stabs	"i:r(3,4)",64,0,73,24
 2500               		.stabn	192,0,0,.LBB141-.LFBB5
 2501               		.stabn	224,0,0,.LBE141-.LFBB5
 2502               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2503               		.stabs	"dt:r(3,2)",64,0,544,18
 2504               		.stabs	"ocra:r(3,2)",64,0,610,24
 2505               		.stabn	192,0,0,.LBB143-.LFBB5
 2506               		.stabs	"i:r(3,4)",64,0,73,24
 2507               		.stabn	192,0,0,.LBB145-.LFBB5
 2508               		.stabn	224,0,0,.LBE145-.LFBB5
 2509               		.stabn	224,0,0,.LBE143-.LFBB5
 2510               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2511               		.stabs	"dt:r(3,2)",64,0,544,18
 2512               		.stabs	"ocra:r(3,2)",64,0,610,24
 2513               		.stabn	192,0,0,.LBB147-.LFBB5
 2514               		.stabs	"i:r(3,4)",64,0,73,24
 2515               		.stabn	192,0,0,.LBB149-.LFBB5
 2516               		.stabn	224,0,0,.LBE149-.LFBB5
 2517               		.stabn	224,0,0,.LBE147-.LFBB5
 2518               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2519               		.stabs	"dt:r(3,2)",64,0,544,18
 2520               		.stabs	"ocra:r(3,2)",64,0,610,24
 2521               		.stabn	192,0,0,.LBB151-.LFBB5
 2522               		.stabs	"i:r(3,4)",64,0,73,24
 2523               		.stabn	192,0,0,.LBB153-.LFBB5
 2524               		.stabn	224,0,0,.LBE153-.LFBB5
 2525               		.stabn	224,0,0,.LBE151-.LFBB5
 2526               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2527               		.stabs	"dt:r(3,2)",64,0,544,18
 2528               		.stabs	"ocra:r(3,2)",64,0,610,24
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 88


 2529               		.stabn	192,0,0,.LBB155-.LFBB5
 2530               		.stabs	"i:r(3,4)",64,0,73,24
 2531               		.stabn	192,0,0,.LBB157-.LFBB5
 2532               		.stabn	224,0,0,.LBE157-.LFBB5
 2533               		.stabn	224,0,0,.LBE155-.LFBB5
 2534               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2535               		.stabs	"dt:r(3,2)",64,0,544,18
 2536               		.stabs	"ocra:r(3,2)",64,0,610,24
 2537               		.stabn	192,0,0,.LBB159-.LFBB5
 2538               		.stabs	"i:r(3,4)",64,0,73,24
 2539               		.stabn	192,0,0,.LBB161-.LFBB5
 2540               		.stabn	224,0,0,.LBE161-.LFBB5
 2541               		.stabn	224,0,0,.LBE159-.LFBB5
 2542               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2543               		.stabs	"dt:r(3,2)",64,0,544,18
 2544               		.stabs	"ocra:r(3,2)",64,0,610,24
 2545               		.stabn	192,0,0,.LBB163-.LFBB5
 2546               		.stabs	"i:r(3,4)",64,0,73,24
 2547               		.stabn	192,0,0,.LBB165-.LFBB5
 2548               		.stabn	224,0,0,.LBE165-.LFBB5
 2549               		.stabn	224,0,0,.LBE163-.LFBB5
 2550               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2551               		.stabs	"dt:r(3,2)",64,0,544,18
 2552               		.stabs	"ocra:r(3,2)",64,0,610,24
 2553               		.stabn	192,0,0,.LBB167-.LFBB5
 2554               		.stabs	"i:r(3,4)",64,0,73,24
 2555               		.stabn	192,0,0,.LBB169-.LFBB5
 2556               		.stabn	224,0,0,.LBE169-.LFBB5
 2557               		.stabn	224,0,0,.LBE167-.LFBB5
 2558               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2559               		.stabs	"dt:r(3,2)",64,0,544,18
 2560               		.stabs	"ocra:r(3,2)",64,0,610,24
 2561               		.stabn	192,0,0,.LBB171-.LFBB5
 2562               		.stabs	"i:r(3,4)",64,0,73,24
 2563               		.stabn	192,0,0,.LBB173-.LFBB5
 2564               		.stabn	224,0,0,.LBE173-.LFBB5
 2565               		.stabn	224,0,0,.LBE171-.LFBB5
 2566               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2567               		.stabs	"dt:r(3,2)",64,0,544,18
 2568               		.stabs	"ocra:r(3,2)",64,0,610,24
 2569               		.stabn	192,0,0,.LBB175-.LFBB5
 2570               		.stabs	"i:r(3,4)",64,0,73,24
 2571               		.stabn	192,0,0,.LBB177-.LFBB5
 2572               		.stabn	224,0,0,.LBE177-.LFBB5
 2573               		.stabn	224,0,0,.LBE175-.LFBB5
 2574               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2575               		.stabs	"dt:r(3,2)",64,0,544,18
 2576               		.stabs	"ocra:r(3,2)",64,0,610,24
 2577               		.stabn	192,0,0,.LBB179-.LFBB5
 2578               		.stabs	"i:r(3,4)",64,0,73,24
 2579               		.stabn	192,0,0,.LBB181-.LFBB5
 2580               		.stabn	224,0,0,.LBE181-.LFBB5
 2581               		.stabn	224,0,0,.LBE179-.LFBB5
 2582               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2583               		.stabs	"dt:r(3,2)",64,0,544,18
 2584               		.stabs	"ocra:r(3,2)",64,0,610,24
 2585               		.stabn	192,0,0,.LBB183-.LFBB5
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 89


 2586               		.stabs	"i:r(3,4)",64,0,73,24
 2587               		.stabn	192,0,0,.LBB185-.LFBB5
 2588               		.stabn	224,0,0,.LBE185-.LFBB5
 2589               		.stabn	224,0,0,.LBE183-.LFBB5
 2590               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2591               		.stabs	"dt:r(3,2)",64,0,544,18
 2592               		.stabs	"ocra:r(3,2)",64,0,610,24
 2593               		.stabn	192,0,0,.LBB187-.LFBB5
 2594               		.stabs	"i:r(3,4)",64,0,73,24
 2595               		.stabn	192,0,0,.LBB189-.LFBB5
 2596               		.stabn	224,0,0,.LBE189-.LFBB5
 2597               		.stabn	224,0,0,.LBE187-.LFBB5
 2598               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2599               		.stabs	"dt:r(3,2)",64,0,544,18
 2600               		.stabs	"ocra:r(3,2)",64,0,610,24
 2601               		.stabn	192,0,0,.LBB191-.LFBB5
 2602               		.stabs	"i:r(3,4)",64,0,73,24
 2603               		.stabn	192,0,0,.LBB193-.LFBB5
 2604               		.stabn	224,0,0,.LBE193-.LFBB5
 2605               		.stabn	224,0,0,.LBE191-.LFBB5
 2606               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2607               		.stabs	"dt:r(3,2)",64,0,544,18
 2608               		.stabs	"ocra:r(3,2)",64,0,610,24
 2609               		.stabn	192,0,0,.LBB195-.LFBB5
 2610               		.stabs	"i:r(3,4)",64,0,73,24
 2611               		.stabn	192,0,0,.LBB197-.LFBB5
 2612               		.stabn	224,0,0,.LBE197-.LFBB5
 2613               		.stabn	224,0,0,.LBE195-.LFBB5
 2614               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2615               		.stabs	"dt:r(3,2)",64,0,544,18
 2616               		.stabs	"ocra:r(3,2)",64,0,610,24
 2617               		.stabn	192,0,0,.LBB199-.LFBB5
 2618               		.stabs	"i:r(3,4)",64,0,73,24
 2619               		.stabn	192,0,0,.LBB201-.LFBB5
 2620               		.stabn	224,0,0,.LBE201-.LFBB5
 2621               		.stabn	224,0,0,.LBE199-.LFBB5
 2622               		.stabs	"ocrd:r(3,2)",64,0,466,25
 2623               		.stabs	"dt:r(3,2)",64,0,544,18
 2624               		.stabs	"ocra:r(3,2)",64,0,610,24
 2625               		.stabn	192,0,0,.LBB203-.LFBB5
 2626               		.stabn	224,0,0,.LBE203-.LFBB5
 2627               		.stabn	224,0,0,.Lscope5-.LFBB5
 2628               	.Lscope5:
 2629               		.stabs	"",36,0,0,.Lscope5-.LFBB5
 2630               		.stabd	78,0,0
 2631               		.stabs	"setSpriteSkyColorOverride:F(0,15)",36,0,46,setSpriteSkyColorOverride
 2632               		.stabs	"sprite:P(0,16)=*(15,3)",64,0,46,24
 2633               	.global	setSpriteSkyColorOverride
 2634               		.type	setSpriteSkyColorOverride, @function
 2635               	setSpriteSkyColorOverride:
 2636               		.stabd	46,0,0
 2637               		.stabs	"icons/iconPacking.h",132,0,0,.Ltext39
 2638               	.Ltext39:
   1:icons/iconPacking.h **** #ifndef __ICONPACKING_H__
   2:icons/iconPacking.h **** #define __ICONPACKING_H__
   3:icons/iconPacking.h **** 
   4:icons/iconPacking.h **** #include "gPixelVal.h"
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 90


   5:icons/iconPacking.h **** 
   6:icons/iconPacking.h **** #define ICON_WIDTH	16
   7:icons/iconPacking.h **** #define ICON_HEIGHT	16
   8:icons/iconPacking.h **** #define ICON_PIXELS	((ICON_WIDTH)*(ICON_HEIGHT))
   9:icons/iconPacking.h **** 
  10:icons/iconPacking.h **** #define ICON_PACKED_BYTES	((ICON_PIXELS)/4)
  11:icons/iconPacking.h **** #define ICON_MASK_BYTES		((ICON_PIXELS)/8)
  12:icons/iconPacking.h **** 
  13:icons/iconPacking.h **** #define PACKED_BYTES_PER_ROW	(ICON_WIDTH/4)
  14:icons/iconPacking.h **** 
  15:icons/iconPacking.h **** #define PIXELS_PER_PACKAGE	4
  16:icons/iconPacking.h **** 
  17:icons/iconPacking.h **** #define PACKED_BITS_PER_PIXEL	(8/PIXELS_PER_PACKAGE)
  18:icons/iconPacking.h **** 
  19:icons/iconPacking.h **** typedef struct _BLAH_SHROOM_
  20:icons/iconPacking.h **** {
  21:icons/iconPacking.h **** 	uint8_t * p_image;
  22:icons/iconPacking.h **** 	uint8_t * p_mask;
  23:icons/iconPacking.h **** 	uint8_t * p_palette;
  24:icons/iconPacking.h **** 	uint8_t numPalettes;
  25:icons/iconPacking.h **** }	sprite_t;
  26:icons/iconPacking.h **** 
  27:icons/iconPacking.h **** /*
  28:icons/iconPacking.h **** #define getGimpColorVal(sprite, row, col) \
  29:icons/iconPacking.h **** 		(((pgm_read_byte((uint8_t *)(&((sprite).p_image[ \
  30:icons/iconPacking.h **** 					(row)*PACKED_BYTES_PER_ROW + (col)/PIXELS_PER_PACKAGE])))\
  31:icons/iconPacking.h **** 		  )>>((col)%PIXELS_PER_PACKAGE)*(PACKED_BITS_PER_PIXEL))&0x03)
  32:icons/iconPacking.h **** */
  33:icons/iconPacking.h **** 
  34:icons/iconPacking.h **** /*
  35:icons/iconPacking.h **** #define getGimpColorVal(sprite, palette, row, col) \
  36:icons/iconPacking.h **** 	pgm_read_byte((uint8_t *)(&((sprite).p_palette[ (palette)*4 + \
  37:icons/iconPacking.h **** 		(((pgm_read_byte((uint8_t *)(&((sprite).p_image[ \
  38:icons/iconPacking.h **** 					(row)*PACKED_BYTES_PER_ROW + (col)/PIXELS_PER_PACKAGE])))\
  39:icons/iconPacking.h **** 		  )>>((col)%PIXELS_PER_PACKAGE)*(PACKED_BITS_PER_PIXEL))&0x03) ])))
  40:icons/iconPacking.h **** */
  41:icons/iconPacking.h **** 
  42:icons/iconPacking.h **** 
  43:icons/iconPacking.h **** sprite_t *skyOverrideSprite = NULL;
  44:icons/iconPacking.h **** //uint8_t skyOverridePalette;
  45:icons/iconPacking.h **** 
  46:icons/iconPacking.h **** void setSpriteSkyColorOverride(sprite_t *sprite) //, uint8_t palette)
  47:icons/iconPacking.h **** {
 2639               		.stabn	68,0,47,.LM205-.LFBB6
 2640               	.LM205:
 2641               	.LFBB6:
 2642               	/* prologue: function */
 2643               	/* frame size = 0 */
  48:icons/iconPacking.h **** 	skyOverrideSprite = sprite;
 2644               		.stabn	68,0,48,.LM206-.LFBB6
 2645               	.LM206:
 2646 0aac 9093 0000 		sts (skyOverrideSprite)+1,r25
 2647 0ab0 8093 0000 		sts skyOverrideSprite,r24
 2648               	/* epilogue start */
  49:icons/iconPacking.h **** //	skyOverridePalette = palette;
  50:icons/iconPacking.h **** }
 2649               		.stabn	68,0,50,.LM207-.LFBB6
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 91


 2650               	.LM207:
 2651 0ab4 0895      		ret
 2652               		.size	setSpriteSkyColorOverride, .-setSpriteSkyColorOverride
 2653               	.Lscope6:
 2654               		.stabs	"",36,0,0,.Lscope6-.LFBB6
 2655               		.stabd	78,0,0
 2656               		.stabs	"getRawPixelVal:F(3,2)",36,0,53,getRawPixelVal
 2657               		.stabs	"sprite:P(0,16)",64,0,53,24
 2658               		.stabs	"row:P(3,2)",64,0,53,22
 2659               		.stabs	"col:P(3,2)",64,0,53,20
 2660               	.global	getRawPixelVal
 2661               		.type	getRawPixelVal, @function
 2662               	getRawPixelVal:
 2663               		.stabd	46,0,0
  51:icons/iconPacking.h **** 
  52:icons/iconPacking.h **** 
  53:icons/iconPacking.h **** uint8_t getRawPixelVal(sprite_t *sprite, uint8_t row, uint8_t col)
  54:icons/iconPacking.h **** {
 2664               		.stabn	68,0,54,.LM208-.LFBB7
 2665               	.LM208:
 2666               	.LFBB7:
 2667               	/* prologue: function */
 2668               	/* frame size = 0 */
 2669               	.LBB204:
  55:icons/iconPacking.h **** 
  56:icons/iconPacking.h **** 	return
  57:icons/iconPacking.h **** 		(((pgm_read_byte((uint8_t *)(&(sprite->p_image[ \
 2670               		.stabn	68,0,57,.LM209-.LFBB7
 2671               	.LM209:
 2672 0ab6 242F      		mov r18,r20
 2673 0ab8 2695      		lsr r18
 2674 0aba 2695      		lsr r18
 2675 0abc 70E0      		ldi r23,lo8(0)
 2676 0abe 660F      		lsl r22
 2677 0ac0 771F      		rol r23
 2678 0ac2 660F      		lsl r22
 2679 0ac4 771F      		rol r23
 2680 0ac6 620F      		add r22,r18
 2681 0ac8 711D      		adc r23,__zero_reg__
 2682 0aca DC01      		movw r26,r24
 2683 0acc ED91      		ld r30,X+
 2684 0ace FC91      		ld r31,X
 2685 0ad0 1197      		sbiw r26,1
 2686 0ad2 E60F      		add r30,r22
 2687 0ad4 F71F      		adc r31,r23
 2688               	/* #APP */
 2689               	 ;  57 "icons/iconPacking.h" 1
 2690 0ad6 8491      		lpm r24, Z
 2691               		
 2692               	 ;  0 "" 2
 2693               	/* #NOAPP */
 2694 0ad8 90E0      		ldi r25,lo8(0)
 2695 0ada 50E0      		ldi r21,lo8(0)
 2696 0adc 4370      		andi r20,lo8(3)
 2697 0ade 5070      		andi r21,hi8(3)
 2698 0ae0 440F      		lsl r20
 2699 0ae2 551F      		rol r21
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 92


 2700 0ae4 00C0      		rjmp 2f
 2701 0ae6 9595      	1:	asr r25
 2702 0ae8 8795      		ror r24
 2703 0aea 4A95      	2:	dec r20
 2704 0aec 02F4      		brpl 1b
 2705               	.LBE204:
  58:icons/iconPacking.h **** 					(row)*PACKED_BYTES_PER_ROW + (col)/PIXELS_PER_PACKAGE])))\
  59:icons/iconPacking.h **** 		  )>>((col)%PIXELS_PER_PACKAGE)*(PACKED_BITS_PER_PIXEL))&0x03);
  60:icons/iconPacking.h **** }
 2706               		.stabn	68,0,60,.LM210-.LFBB7
 2707               	.LM210:
 2708 0aee 8370      		andi r24,lo8(3)
 2709               	/* epilogue start */
 2710 0af0 0895      		ret
 2711               		.size	getRawPixelVal, .-getRawPixelVal
 2712               		.stabs	"__result:r(3,2)",64,0,57,24
 2713               		.stabn	192,0,0,.LBB204-.LFBB7
 2714               		.stabn	224,0,0,.LBE204-.LFBB7
 2715               	.Lscope7:
 2716               		.stabs	"",36,0,0,.Lscope7-.LFBB7
 2717               		.stabd	78,0,0
 2718               		.stabs	"rawPixValToGimpColorVal:F(3,2)",36,0,63,rawPixValToGimpColorVal
 2719               		.stabs	"rawPixelVal:P(3,2)",64,0,63,24
 2720               		.stabs	"sprite:P(0,16)",64,0,63,22
 2721               		.stabs	"palette:P(3,2)",64,0,64,20
 2722               	.global	rawPixValToGimpColorVal
 2723               		.type	rawPixValToGimpColorVal, @function
 2724               	rawPixValToGimpColorVal:
 2725               		.stabd	46,0,0
  61:icons/iconPacking.h **** 
  62:icons/iconPacking.h **** 
  63:icons/iconPacking.h **** uint8_t rawPixValToGimpColorVal(uint8_t rawPixelVal, sprite_t *sprite, 
  64:icons/iconPacking.h **** 																			uint8_t palette)
  65:icons/iconPacking.h **** {
 2726               		.stabn	68,0,65,.LM211-.LFBB8
 2727               	.LM211:
 2728               	.LFBB8:
 2729               	/* prologue: function */
 2730               	/* frame size = 0 */
 2731               	.LBB205:
  66:icons/iconPacking.h **** 	return 
  67:icons/iconPacking.h **** 	pgm_read_byte(
 2732               		.stabn	68,0,67,.LM212-.LFBB8
 2733               	.LM212:
 2734 0af2 50E0      		ldi r21,lo8(0)
 2735 0af4 440F      		lsl r20
 2736 0af6 551F      		rol r21
 2737 0af8 440F      		lsl r20
 2738 0afa 551F      		rol r21
 2739 0afc 480F      		add r20,r24
 2740 0afe 511D      		adc r21,__zero_reg__
 2741 0b00 DB01      		movw r26,r22
 2742 0b02 1496      		adiw r26,4
 2743 0b04 ED91      		ld r30,X+
 2744 0b06 FC91      		ld r31,X
 2745 0b08 1597      		sbiw r26,4+1
 2746 0b0a E40F      		add r30,r20
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 93


 2747 0b0c F51F      		adc r31,r21
 2748               	/* #APP */
 2749               	 ;  67 "icons/iconPacking.h" 1
 2750 0b0e 8491      		lpm r24, Z
 2751               		
 2752               	 ;  0 "" 2
 2753               	/* epilogue start */
 2754               	/* #NOAPP */
 2755               	.LBE205:
  68:icons/iconPacking.h **** 			(uint8_t *)(&(sprite->p_palette[ (palette)*4 + rawPixelVal ])));
  69:icons/iconPacking.h **** }
 2756               		.stabn	68,0,69,.LM213-.LFBB8
 2757               	.LM213:
 2758 0b10 0895      		ret
 2759               		.size	rawPixValToGimpColorVal, .-rawPixValToGimpColorVal
 2760               		.stabs	"__result:r(3,2)",64,0,67,24
 2761               		.stabn	192,0,0,.LBB205-.LFBB8
 2762               		.stabn	224,0,0,.LBE205-.LFBB8
 2763               	.Lscope8:
 2764               		.stabs	"",36,0,0,.Lscope8-.LFBB8
 2765               		.stabd	78,0,0
 2766               		.stabs	"getGimpColorVal:F(3,2)",36,0,74,getGimpColorVal
 2767               		.stabs	"sprite:P(0,16)",64,0,74,28
 2768               		.stabs	"palette:P(3,2)",64,0,74,17
 2769               		.stabs	"row:P(3,2)",64,0,74,20
 2770               		.stabs	"col:P(3,2)",64,0,75,18
 2771               	.global	getGimpColorVal
 2772               		.type	getGimpColorVal, @function
 2773               	getGimpColorVal:
 2774               		.stabd	46,0,0
  70:icons/iconPacking.h **** 
  71:icons/iconPacking.h **** 
  72:icons/iconPacking.h **** //This doesn't exactly work as expected... see drawSpriteRow for a better
  73:icons/iconPacking.h **** //implementation
  74:icons/iconPacking.h **** uint8_t getGimpColorVal(sprite_t *sprite, uint8_t palette, uint8_t row, 
  75:icons/iconPacking.h **** 																			 	uint8_t col)
  76:icons/iconPacking.h **** {
 2775               		.stabn	68,0,76,.LM214-.LFBB9
 2776               	.LM214:
 2777               	.LFBB9:
 2778 0b12 1F93      		push r17
 2779 0b14 CF93      		push r28
 2780 0b16 DF93      		push r29
 2781               	/* prologue: function */
 2782               	/* frame size = 0 */
 2783 0b18 EC01      		movw r28,r24
 2784 0b1a 162F      		mov r17,r22
  77:icons/iconPacking.h **** 	//No shit, this entire function was a single "line" of code, at one
  78:icons/iconPacking.h **** 	//point... (broken up a/o v63)
  79:icons/iconPacking.h **** 
  80:icons/iconPacking.h **** 	//This is the value as-seen in the icon's .h file... (0-3)
  81:icons/iconPacking.h **** 	uint8_t rawPixelVal = getRawPixelVal(sprite, row, col);
 2785               		.stabn	68,0,81,.LM215-.LFBB9
 2786               	.LM215:
 2787 0b1c 642F      		mov r22,r20
 2788 0b1e 422F      		mov r20,r18
 2789 0b20 00D0      		rcall getRawPixelVal
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 94


  82:icons/iconPacking.h **** //		(((pgm_read_byte((uint8_t *)(&(sprite->p_image[ \
  83:icons/iconPacking.h **** //					(row)*PACKED_BYTES_PER_ROW + (col)/PIXELS_PER_PACKAGE])))\
  84:icons/iconPacking.h **** //		  )>>((col)%PIXELS_PER_PACKAGE)*(PACKED_BITS_PER_PIXEL))&0x03);
  85:icons/iconPacking.h **** 
  86:icons/iconPacking.h **** 
  87:icons/iconPacking.h **** 	//The sky is always 0, as of recently (v63)
  88:icons/iconPacking.h **** 	// That's not to say the same color isn't used for other purposes
  89:icons/iconPacking.h **** 	// this isn't that smart...
  90:icons/iconPacking.h **** 	if((rawPixelVal == 0) && (skyOverrideSprite != NULL))
 2790               		.stabn	68,0,90,.LM216-.LFBB9
 2791               	.LM216:
 2792 0b22 8823      		tst r24
 2793 0b24 01F4      		brne .L56
 2794 0b26 2091 0000 		lds r18,skyOverrideSprite
 2795 0b2a 3091 0000 		lds r19,(skyOverrideSprite)+1
 2796 0b2e 2115      		cp r18,__zero_reg__
 2797 0b30 3105      		cpc r19,__zero_reg__
 2798 0b32 01F0      		breq .L56
 2799 0b34 E901      		movw r28,r18
 2800               	.L56:
 2801               	.LBB206:
 2802               	.LBB207:
  67:icons/iconPacking.h **** 	pgm_read_byte(
 2803               		.stabn	68,0,67,.LM217-.LFBB9
 2804               	.LM217:
 2805 0b36 212F      		mov r18,r17
 2806 0b38 30E0      		ldi r19,lo8(0)
 2807 0b3a 220F      		lsl r18
 2808 0b3c 331F      		rol r19
 2809 0b3e 220F      		lsl r18
 2810 0b40 331F      		rol r19
 2811 0b42 280F      		add r18,r24
 2812 0b44 311D      		adc r19,__zero_reg__
 2813 0b46 EC81      		ldd r30,Y+4
 2814 0b48 FD81      		ldd r31,Y+5
 2815 0b4a E20F      		add r30,r18
 2816 0b4c F31F      		adc r31,r19
 2817               	/* #APP */
 2818               	 ;  67 "icons/iconPacking.h" 1
 2819 0b4e 8491      		lpm r24, Z
 2820               		
 2821               	 ;  0 "" 2
 2822               	/* epilogue start */
 2823               	/* #NOAPP */
 2824               	.LBE207:
 2825               	.LBE206:
  91:icons/iconPacking.h **** 	{
  92:icons/iconPacking.h **** 		sprite = skyOverrideSprite;
  93:icons/iconPacking.h **** 		//palette = skyOverridePalette;
  94:icons/iconPacking.h **** 	}
  95:icons/iconPacking.h **** 
  96:icons/iconPacking.h **** 	return rawPixValToGimpColorVal(rawPixelVal, sprite, palette); 
  97:icons/iconPacking.h **** //	pgm_read_byte(
  98:icons/iconPacking.h **** //			(uint8_t *)(&(sprite->p_palette[ (palette)*4 + rawPixelVal ])));
  99:icons/iconPacking.h **** }
 2826               		.stabn	68,0,99,.LM218-.LFBB9
 2827               	.LM218:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 95


 2828 0b50 DF91      		pop r29
 2829 0b52 CF91      		pop r28
 2830 0b54 1F91      		pop r17
 2831 0b56 0895      		ret
 2832               		.size	getGimpColorVal, .-getGimpColorVal
 2833               		.stabs	"rawPixelVal:r(3,2)",64,0,81,24
 2834               		.stabn	192,0,0,.LFBB9-.LFBB9
 2835               		.stabs	"__result:r(3,2)",64,0,67,24
 2836               		.stabn	192,0,0,.LBB207-.LFBB9
 2837               		.stabn	224,0,0,.LBE207-.LFBB9
 2838               		.stabn	224,0,0,.Lscope9-.LFBB9
 2839               	.Lscope9:
 2840               		.stabs	"",36,0,0,.Lscope9-.LFBB9
 2841               		.stabd	78,0,0
 2842               		.stabs	"getRawPixelValCOIN:F(3,2)",36,0,109,getRawPixelValCOIN
 2843               		.stabs	"spritePhase:P(3,2)",64,0,109,24
 2844               		.stabs	"row:P(3,2)",64,0,109,22
 2845               		.stabs	"col:P(3,2)",64,0,109,20
 2846               	.global	getRawPixelValCOIN
 2847               		.type	getRawPixelValCOIN, @function
 2848               	getRawPixelValCOIN:
 2849               		.stabd	46,0,0
 2850               		.stabs	"icons/Coin.h",132,0,0,.Ltext40
 2851               	.Ltext40:
   1:icons/Coin.h  **** #include "iconPacking.h"
   2:icons/Coin.h  **** 
   3:icons/Coin.h  **** #define COINR0 ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
   4:icons/Coin.h  **** #define COINR1 ROWPACK(0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0)
   5:icons/Coin.h  **** #define COINR2 ROWPACK(0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0)
   6:icons/Coin.h  **** #define COINR3 ROWPACK(0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0)
   7:icons/Coin.h  **** #define COINR4 ROWPACK(0,0,0,0,0,2,2,3,1,2,2,0,0,0,0,0)
   8:icons/Coin.h  **** #define COINR5 ROWPACK(0,0,0,0,2,2,3,2,2,1,2,2,0,0,0,0)
   9:icons/Coin.h  **** #define COINR6 ROWPACK(0,0,0,0,2,2,3,2,2,1,2,2,0,0,0,0)
  10:icons/Coin.h  **** #define COINR7 ROWPACK(0,0,0,0,2,2,3,2,2,1,2,2,0,0,0,0)
  11:icons/Coin.h  **** #define COINR8 ROWPACK(0,0,0,0,2,2,3,2,2,1,2,2,0,0,0,0)
  12:icons/Coin.h  **** #define COINR9 ROWPACK(0,0,0,0,2,2,3,2,2,1,2,2,0,0,0,0)
  13:icons/Coin.h  **** #define COINRA ROWPACK(0,0,0,0,2,2,3,2,2,1,2,2,0,0,0,0)
  14:icons/Coin.h  **** #define COINRB ROWPACK(0,0,0,0,0,2,2,3,1,2,2,0,0,0,0,0)
  15:icons/Coin.h  **** #define COINRC ROWPACK(0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0)
  16:icons/Coin.h  **** #define COINRD ROWPACK(0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0)
  17:icons/Coin.h  **** #define COINRE ROWPACK(0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0)
  18:icons/Coin.h  **** #define COINRF ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  19:icons/Coin.h  **** 
  20:icons/Coin.h  **** 
  21:icons/Coin.h  **** #define COIN1R0 ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  22:icons/Coin.h  **** #define COIN1R1 ROWPACK(0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0)
  23:icons/Coin.h  **** #define COIN1R2 ROWPACK(0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0)
  24:icons/Coin.h  **** #define COIN1R3 ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  25:icons/Coin.h  **** #define COIN1R4 ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  26:icons/Coin.h  **** #define COIN1R5 ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  27:icons/Coin.h  **** #define COIN1R6 ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  28:icons/Coin.h  **** #define COIN1R7 ROWPACK(0,0,0,0,0,0,3,1,1,1,0,0,0,0,0,0)
  29:icons/Coin.h  **** #define COIN1R8 ROWPACK(0,0,0,0,0,0,3,1,1,1,0,0,0,0,0,0)
  30:icons/Coin.h  **** #define COIN1R9 ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  31:icons/Coin.h  **** #define COIN1RA ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  32:icons/Coin.h  **** #define COIN1RB ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
  33:icons/Coin.h  **** #define COIN1RC ROWPACK(0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 96


  34:icons/Coin.h  **** #define COIN1RD ROWPACK(0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0)
  35:icons/Coin.h  **** #define COIN1RE ROWPACK(0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0)
  36:icons/Coin.h  **** #define COIN1RF ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  37:icons/Coin.h  **** 
  38:icons/Coin.h  **** 
  39:icons/Coin.h  **** #define COIN2R0 ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  40:icons/Coin.h  **** #define COIN2R1 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  41:icons/Coin.h  **** #define COIN2R2 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  42:icons/Coin.h  **** #define COIN2R3 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  43:icons/Coin.h  **** #define COIN2R4 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  44:icons/Coin.h  **** #define COIN2R5 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  45:icons/Coin.h  **** #define COIN2R6 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  46:icons/Coin.h  **** #define COIN2R7 ROWPACK(0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0)
  47:icons/Coin.h  **** #define COIN2R8 ROWPACK(0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0)
  48:icons/Coin.h  **** #define COIN2R9 ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  49:icons/Coin.h  **** #define COIN2RA ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  50:icons/Coin.h  **** #define COIN2RB ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  51:icons/Coin.h  **** #define COIN2RC ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  52:icons/Coin.h  **** #define COIN2RD ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  53:icons/Coin.h  **** #define COIN2RE ROWPACK(0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0)
  54:icons/Coin.h  **** #define COIN2RF ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  55:icons/Coin.h  **** 
  56:icons/Coin.h  **** 
  57:icons/Coin.h  **** //It looks to me like this is a direct flip of COIN1...
  58:icons/Coin.h  **** #define COIN3R0 ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  59:icons/Coin.h  **** #define COIN3R1 ROWPACK(0,0,0,0,0,0,0,3,1,0,0,0,0,0,0,0)
  60:icons/Coin.h  **** #define COIN3R2 ROWPACK(0,0,0,0,0,0,0,3,1,0,0,0,0,0,0,0)
  61:icons/Coin.h  **** #define COIN3R3 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  62:icons/Coin.h  **** #define COIN3R4 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  63:icons/Coin.h  **** #define COIN3R5 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  64:icons/Coin.h  **** #define COIN3R6 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  65:icons/Coin.h  **** #define COIN3R7 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  66:icons/Coin.h  **** #define COIN3R8 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  67:icons/Coin.h  **** #define COIN3R9 ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  68:icons/Coin.h  **** #define COIN3RA ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  69:icons/Coin.h  **** #define COIN3RB ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  70:icons/Coin.h  **** #define COIN3RC ROWPACK(0,0,0,0,0,0,3,3,3,1,0,0,0,0,0,0)
  71:icons/Coin.h  **** #define COIN3RD ROWPACK(0,0,0,0,0,0,0,3,1,0,0,0,0,0,0,0)
  72:icons/Coin.h  **** #define COIN3RE ROWPACK(0,0,0,0,0,0,0,3,1,0,0,0,0,0,0,0)
  73:icons/Coin.h  **** #define COIN3RF ROWPACK(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
  74:icons/Coin.h  **** 
  75:icons/Coin.h  **** //37 (sky), 7, 47, 2
  76:icons/Coin.h  **** 
  77:icons/Coin.h  **** static uint8_t pgm_imageCOIN[ICON_PACKED_BYTES] PROGMEM =
  78:icons/Coin.h  ****    IMAGE_INIT(COIN);
  79:icons/Coin.h  ****    
  80:icons/Coin.h  **** static uint8_t pgm_imageCOIN1[ICON_PACKED_BYTES] PROGMEM =
  81:icons/Coin.h  **** 	IMAGE_INIT(COIN1);
  82:icons/Coin.h  **** 
  83:icons/Coin.h  **** static uint8_t pgm_imageCOIN2[ICON_PACKED_BYTES] PROGMEM =
  84:icons/Coin.h  **** 	IMAGE_INIT(COIN2);
  85:icons/Coin.h  **** 
  86:icons/Coin.h  **** static uint8_t pgm_imageCOIN3[ICON_PACKED_BYTES] PROGMEM =
  87:icons/Coin.h  **** 	IMAGE_INIT(COIN3);
  88:icons/Coin.h  **** 
  89:icons/Coin.h  **** #define pgm_maskCOIN	NULL
  90:icons/Coin.h  **** //static uint8_t * pgm_maskCOIN; //[ICON_MASK_BYTES]; // PROGMEM =
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 97


  91:icons/Coin.h  **** //  MASK_INIT(GETNAMED(QUESTION));
  92:icons/Coin.h  **** 
  93:icons/Coin.h  **** 
  94:icons/Coin.h  **** #define NUMPALETTES_COIN 1
  95:icons/Coin.h  **** 
  96:icons/Coin.h  **** //gimpPixelValToLColor should probably be taken into account.
  97:icons/Coin.h  **** static uint8_t pgm_paletteCOIN[4*NUMPALETTES_COIN] PROGMEM =
  98:icons/Coin.h  ****  //  { 37, 7, 47, 2};
  99:icons/Coin.h  **** 	{ 37, 2, 7, 47 };	//see Coin1.h for notes...
 100:icons/Coin.h  **** // 0 -> 0
 101:icons/Coin.h  **** // 1 -> 2
 102:icons/Coin.h  **** // 2 -> 3
 103:icons/Coin.h  **** // 3 -> 1
 104:icons/Coin.h  **** 
 105:icons/Coin.h  **** static sprite_t spriteCOIN =
 106:icons/Coin.h  ****       {pgm_imageCOIN, pgm_maskCOIN, pgm_paletteCOIN, NUMPALETTES_COIN};
 107:icons/Coin.h  **** 
 108:icons/Coin.h  **** 
 109:icons/Coin.h  **** uint8_t getRawPixelValCOIN(uint8_t spritePhase, uint8_t row, uint8_t col)
 110:icons/Coin.h  **** {
 2852               		.stabn	68,0,110,.LM219-.LFBB10
 2853               	.LM219:
 2854               	.LFBB10:
 2855               	/* prologue: function */
 2856               	/* frame size = 0 */
 111:icons/Coin.h  **** 	uint8_t * p_image;
 112:icons/Coin.h  **** 
 113:icons/Coin.h  **** 	//Is this better accomplished as a switch-statement or with math...?
 114:icons/Coin.h  **** 	switch(spritePhase%8)
 2857               		.stabn	68,0,114,.LM220-.LFBB10
 2858               	.LM220:
 2859 0b58 90E0      		ldi r25,lo8(0)
 2860 0b5a 8770      		andi r24,lo8(7)
 2861 0b5c 9070      		andi r25,hi8(7)
 2862 0b5e 8630      		cpi r24,6
 2863 0b60 9105      		cpc r25,__zero_reg__
 2864 0b62 00F0      		brlo .L59
 2865 0b64 80E0      		ldi r24,lo8(pgm_imageCOIN3)
 2866 0b66 90E0      		ldi r25,hi8(pgm_imageCOIN3)
 2867 0b68 00C0      		rjmp .L60
 2868               	.L59:
 2869 0b6a FC01      		movw r30,r24
 2870 0b6c EE0F      		lsl r30
 2871 0b6e FF1F      		rol r31
 2872 0b70 E050      		subi r30,lo8(-(CSWTCH.48))
 2873 0b72 F040      		sbci r31,hi8(-(CSWTCH.48))
 2874 0b74 8081      		ld r24,Z
 2875 0b76 9181      		ldd r25,Z+1
 2876               	.L60:
 2877               	.LBB208:
 115:icons/Coin.h  **** 	{
 116:icons/Coin.h  **** 		case 0:
 117:icons/Coin.h  **** 		case 1:
 118:icons/Coin.h  **** //		case 2:
 119:icons/Coin.h  **** 			p_image = pgm_imageCOIN;
 120:icons/Coin.h  **** 			break;
 121:icons/Coin.h  **** 		case 2:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 98


 122:icons/Coin.h  **** 		case 3:
 123:icons/Coin.h  **** 			p_image = pgm_imageCOIN1;
 124:icons/Coin.h  **** 			break;
 125:icons/Coin.h  **** 		case 4:
 126:icons/Coin.h  **** 		case 5:
 127:icons/Coin.h  **** 			p_image = pgm_imageCOIN2;
 128:icons/Coin.h  **** 			break;
 129:icons/Coin.h  **** 		case 6:
 130:icons/Coin.h  **** 		case 7:
 131:icons/Coin.h  **** 		default:
 132:icons/Coin.h  **** 			p_image = pgm_imageCOIN3;
 133:icons/Coin.h  **** 			break;
 134:icons/Coin.h  **** 	}	
 135:icons/Coin.h  **** 
 136:icons/Coin.h  ****    return
 137:icons/Coin.h  ****       (((pgm_read_byte((uint8_t *)(&(p_image[ \
 2878               		.stabn	68,0,137,.LM221-.LFBB10
 2879               	.LM221:
 2880 0b78 242F      		mov r18,r20
 2881 0b7a 2695      		lsr r18
 2882 0b7c 2695      		lsr r18
 2883 0b7e E62F      		mov r30,r22
 2884 0b80 F0E0      		ldi r31,lo8(0)
 2885 0b82 EE0F      		lsl r30
 2886 0b84 FF1F      		rol r31
 2887 0b86 EE0F      		lsl r30
 2888 0b88 FF1F      		rol r31
 2889 0b8a E20F      		add r30,r18
 2890 0b8c F11D      		adc r31,__zero_reg__
 2891 0b8e E80F      		add r30,r24
 2892 0b90 F91F      		adc r31,r25
 2893               	/* #APP */
 2894               	 ;  137 "icons/Coin.h" 1
 2895 0b92 E491      		lpm r30, Z
 2896               		
 2897               	 ;  0 "" 2
 2898               	/* #NOAPP */
 2899 0b94 8E2F      		mov r24,r30
 2900 0b96 90E0      		ldi r25,lo8(0)
 2901 0b98 50E0      		ldi r21,lo8(0)
 2902 0b9a 4370      		andi r20,lo8(3)
 2903 0b9c 5070      		andi r21,hi8(3)
 2904 0b9e 440F      		lsl r20
 2905 0ba0 551F      		rol r21
 2906 0ba2 00C0      		rjmp 2f
 2907 0ba4 9595      	1:	asr r25
 2908 0ba6 8795      		ror r24
 2909 0ba8 4A95      	2:	dec r20
 2910 0baa 02F4      		brpl 1b
 2911               	.LBE208:
 138:icons/Coin.h  ****                (row)*PACKED_BYTES_PER_ROW + (col)/PIXELS_PER_PACKAGE])))\
 139:icons/Coin.h  ****         )>>((col)%PIXELS_PER_PACKAGE)*(PACKED_BITS_PER_PIXEL))&0x03);
 140:icons/Coin.h  **** }  
 2912               		.stabn	68,0,140,.LM222-.LFBB10
 2913               	.LM222:
 2914 0bac 8370      		andi r24,lo8(3)
 2915               	/* epilogue start */
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 99


 2916 0bae 0895      		ret
 2917               		.size	getRawPixelValCOIN, .-getRawPixelValCOIN
 2918               		.stabs	"p_image:r(15,2)",64,0,111,24
 2919               		.stabn	192,0,0,.LFBB10-.LFBB10
 2920               		.stabs	"__result:r(3,2)",64,0,137,30
 2921               		.stabn	192,0,0,.LBB208-.LFBB10
 2922               		.stabn	224,0,0,.LBE208-.LFBB10
 2923               		.stabn	224,0,0,.Lscope10-.LFBB10
 2924               	.Lscope10:
 2925               		.stabs	"",36,0,0,.Lscope10-.LFBB10
 2926               		.stabd	78,0,0
 2927               		.stabs	"getSpritePalette:F(3,2)",36,0,356,getSpritePalette
 2928               		.stabs	"p_thisSprite:P(0,16)",64,0,356,30
 2929               		.stabs	"spritePhase:P(3,2)",64,0,356,24
 2930               		.stabs	"spriteRow:P(3,2)",64,0,357,20
 2931               	.global	getSpritePalette
 2932               		.type	getSpritePalette, @function
 2933               	getSpritePalette:
 2934               		.stabd	46,0,0
 2935               		.stabs	"fb_question.c",132,0,0,.Ltext41
 2936               	.Ltext41:
   1:fb_question.c **** 	//Start at brown, to match the SOLID color
   2:fb_question.c **** #define Q_QSTART	7 //3
   3:fb_question.c **** #define GOOMBA_QCOUNT	(24*2)
   4:fb_question.c **** //#define GOOMBA_QCOUNTSPERPHASE	3
   5:fb_question.c **** //#define GOOMBA_KILLABLE_QCOUNT	(GOOMBA_QCOUNT-2)
   6:fb_question.c **** 
   7:fb_question.c **** //a/o v62-21:
   8:fb_question.c **** // this is stolen from seg_question.c and modified for the framebuffer...
   9:fb_question.c **** 
  10:fb_question.c **** 
  11:fb_question.c **** //Actually, this probably won't work right...
  12:fb_question.c **** // because the rgb values aren't exact like that, right?
  13:fb_question.c **** // e.g. black = 0,0,0 but it shows as 0,0,60 ish...
  14:fb_question.c **** // then again, going in reverse like this might work fine...
  15:fb_question.c **** // due to rounding (seems OK with this color-scheme)
  16:fb_question.c **** // The idea wasn't so much to be able to input an 8-bit RGB value to get
  17:fb_question.c **** // a close match (would probably want rounding up for that, not that it'd
  18:fb_question.c **** // be even close)
  19:fb_question.c **** // but to be able to read color-values from GIMP when using the 
  20:fb_question.c **** //  LCDdirectLVDS color-palette... which isn't especially necessary since
  21:fb_question.c **** //  now the colors are named with 3-based colors.
  22:fb_question.c **** #define rgb8(r,g,b) \
  23:fb_question.c ****       rgb((((r)*3)/255), (((g)*3)/255), (((b)*3)/255))
  24:fb_question.c **** 
  25:fb_question.c **** 
  26:fb_question.c **** //These are not included in NUM_ICONS
  27:fb_question.c ****    #include "icons/Question.h"
  28:fb_question.c ****    #include "icons/Solid.h"
  29:fb_question.c ****    #include "icons/GoombaDead.h"
  30:fb_question.c **** 
  31:fb_question.c ****    //These are included in NUM_ICONS
  32:fb_question.c ****    #include "icons/1up.h"
  33:fb_question.c ****    #include "icons/Biggie.h"
  34:fb_question.c ****    #include "icons/StarV.h"
  35:fb_question.c ****    #include "icons/FlowerPowerV.h"
  36:fb_question.c ****    #include "icons/Goomba.h"
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 100


  37:fb_question.c ****    #include "icons/Coin.h"
  38:fb_question.c **** 
  39:fb_question.c ****    //Excluding Solid and Question, etc...
  40:fb_question.c **** //   #define NUM_ICONS 6
  41:fb_question.c **** 
  42:fb_question.c **** 
  43:fb_question.c **** //Allow the user to choose another winnings when the question-box is
  44:fb_question.c **** //scrolling down to reveal it... for testing
  45:fb_question.c **** //#define IMMEDIATE TRUE
  46:fb_question.c **** 
  47:fb_question.c **** //#define RANDOM_OVERRIDE 4 //8 //0 //4
  48:fb_question.c **** 
  49:fb_question.c **** //Stalls at the first sprite (initilized in p_selectedSprite, below)
  50:fb_question.c **** //#define STAY_ON_IT	TRUE
  51:fb_question.c **** 
  52:fb_question.c **** //Automatically hit after a few loops in the "Q" box
  53:fb_question.c **** //#define AUTO_HIT	TRUE
  54:fb_question.c **** 
  55:fb_question.c **** //THESE DON'T BELONG HERE
  56:fb_question.c **** // AND they shouldn't be "Q" specific, at all.
  57:fb_question.c **** #define Q_WIDTH   16
  58:fb_question.c **** #define Q_HEIGHT   16
  59:fb_question.c **** #if((Q_WIDTH != FB_WIDTH) || (Q_HEIGHT != FB_HEIGHT))
  60:fb_question.c **** #error "FB dims do not match Icon dims"
  61:fb_question.c **** #endif
  62:fb_question.c **** 
  63:fb_question.c **** //this is just a counter to help throw in some additional randomness...
  64:fb_question.c **** uint8_t callCount = 0;
  65:fb_question.c **** 
  66:fb_question.c **** uint8_t qCount = 0;
  67:fb_question.c **** sprite_t *p_selectedSprite = &spriteCOIN; //GOOMBA; //FLOWER; //&spriteQ;
  68:fb_question.c **** sprite_t *p_nextSprite = NULL;
  69:fb_question.c **** 
  70:fb_question.c **** void fbQuestion_hitDetected(void)
  71:fb_question.c **** {
  72:fb_question.c **** 	if( (p_selectedSprite == &spriteQ)
  73:fb_question.c **** #if (!defined(IMMEDIATE) || !IMMEDIATE)
  74:fb_question.c **** 	    && (p_nextSprite == NULL)
  75:fb_question.c **** #endif
  76:fb_question.c **** 	  )
  77:fb_question.c **** 	{
  78:fb_question.c **** 		qCount = 0;
  79:fb_question.c **** #ifndef RANDOM_OVERRIDE
  80:fb_question.c **** 		//Just trying to get some randomness up in hea
  81:fb_question.c **** 		switch(((adc_getValue()*3+callCount+qCount))%8)
  82:fb_question.c **** #else
  83:fb_question.c **** 		switch(RANDOM_OVERRIDE)
  84:fb_question.c **** #endif
  85:fb_question.c **** 		{
  86:fb_question.c **** 			case 0:
  87:fb_question.c **** 				p_nextSprite = &spriteFLOWER;
  88:fb_question.c **** 				break;
  89:fb_question.c **** 			case 1:
  90:fb_question.c **** 				p_nextSprite = &sprite1UP;
  91:fb_question.c **** 				break;
  92:fb_question.c **** 			case 2:
  93:fb_question.c **** 				p_nextSprite = &spriteBIG;
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 101


  94:fb_question.c **** 				break;
  95:fb_question.c **** 			case 3:
  96:fb_question.c **** 				p_nextSprite = &spriteSTAR;
  97:fb_question.c **** 				break;
  98:fb_question.c **** 			case 4:
  99:fb_question.c **** 				p_nextSprite = &spriteGOOMBA;
 100:fb_question.c **** 				break;
 101:fb_question.c **** 			//The remaining are just for testing...
 102:fb_question.c **** /*			case 5:
 103:fb_question.c **** 				p_selectedSprite = &spriteDEADGOOMBA;
 104:fb_question.c **** 				break;
 105:fb_question.c **** 			case 6:
 106:fb_question.c **** 				p_selectedSprite = &spriteQ;
 107:fb_question.c **** 				break;
 108:fb_question.c **** 			case 7:
 109:fb_question.c **** 				p_selectedSprite = &spriteSOLID;
 110:fb_question.c **** 				break;
 111:fb_question.c **** */			default:
 112:fb_question.c **** 				p_nextSprite = &spriteCOIN;
 113:fb_question.c **** 				break;
 114:fb_question.c **** 		}
 115:fb_question.c **** 	}
 116:fb_question.c **** /* This was nice with the old scroll-up method, but with the new method,
 117:fb_question.c ****  * it's too hokey... (can smash it before it's visible)
 118:fb_question.c **** 	else if( (p_nextSprite == &spriteGOOMBA)
 119:fb_question.c **** 		      && (qCount > 4) )
 120:fb_question.c **** 	{
 121:fb_question.c **** 		p_nextSprite = &spriteDEADGOOMBA;
 122:fb_question.c **** 	}
 123:fb_question.c **** */
 124:fb_question.c **** 	//As-is, the last frame (in blue, indicating death) is only visible
 125:fb_question.c **** 	//briefly before scroll-back-to-question starts...
 126:fb_question.c **** 	// so there's no reason to test for KILLABLE
 127:fb_question.c **** 	// since it can't be killed when it's scrolling.
 128:fb_question.c **** 	// There's probably a tiny fraction of a second window where it is
 129:fb_question.c **** 	// possible to hit it when it's blue, and kill it... but it's TINY.
 130:fb_question.c **** 	else if( (p_selectedSprite == &spriteGOOMBA)
 131:fb_question.c **** 				&& (p_nextSprite == NULL) )
 132:fb_question.c **** //			   && ((qCount > 0) && (qCount < 16)) )
 133:fb_question.c **** //			   && (qCount < GOOMBA_KILLABLE_QCOUNT) )
 134:fb_question.c **** 	{
 135:fb_question.c **** 		qCount = 0;
 136:fb_question.c **** 		p_selectedSprite = &spriteDEADGOOMBA;
 137:fb_question.c **** 	}
 138:fb_question.c **** 
 139:fb_question.c **** }
 140:fb_question.c **** 
 141:fb_question.c **** //If a spriteRow is outside the icon's dimensions, draws the sky-color
 142:fb_question.c **** void drawSpriteRow(sprite_t *p_thisSprite, uint8_t spritePhase,
 143:fb_question.c **** 													  int8_t spriteRow, 
 144:fb_question.c **** 													  uint8_t rowToDrawAt);
 145:fb_question.c **** 
 146:fb_question.c **** void fbQuestion_update(void) //uint8_t triggerDetected)
 147:fb_question.c **** {
 148:fb_question.c **** 	callCount++;
 149:fb_question.c **** 		//This should be an init-thing, I guess... it's only a 2-cycle
 150:fb_question.c ****       // instruction, so it doesn't hurt too much to have it in the loop
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 102


 151:fb_question.c ****       // BUT it does have to occur a while before the first getpinPORT
 152:fb_question.c ****       // to allow time for the pull-ups to do their job
 153:fb_question.c **** //      setinpuPORT(PB0, PORTB);
 154:fb_question.c **** 
 155:fb_question.c **** 
 156:fb_question.c **** //	if(triggerDetected)
 157:fb_question.c **** //		qCount++;
 158:fb_question.c **** 
 159:fb_question.c **** //   segClear();
 160:fb_question.c ****    //Not sure why this is stretched without /2...
 161:fb_question.c ****    // I think I ran into this elsewhere as well.
 162:fb_question.c ****    //!!! INSTEAD: filled the rest of the row properly...
 163:fb_question.c ****    // (wasn't filling up the entire row, due to rounding...
 164:fb_question.c ****    //   result was the rows were carrying-over into the next)
 165:fb_question.c ****    uint8_t qRow;// = (rowNum*Q_HEIGHT/(V_COUNT)); ///2));
 166:fb_question.c ****    uint8_t qCol;
 167:fb_question.c ****    
 168:fb_question.c ****    //Guess white helps with sync...?
 169:fb_question.c ****    // can't hurt.
 170:fb_question.c ****    //addSegfb(3, _W);
 171:fb_question.c ****    // Looks like some white is already being inserted (or syncing on end-
 172:fb_question.c ****    // white?) about 3pixels wide.
 173:fb_question.c **** 
 174:fb_question.c ****    // 1024/3/32 = 10.67... so for every 3 segments, add 2
 175:fb_question.c **** //#define Q_STRETCHTOP   1//0//28//2
 176:fb_question.c **** //#define Q_STRETCHDIV 5//30//3
 177:fb_question.c **** //   hfm_t colincrementer_hfm;
 178:fb_question.c **** //   hfm_setup(&colincrementer_hfm, Q_STRETCHTOP, Q_STRETCHDIV);
 179:fb_question.c **** 
 180:fb_question.c **** 	if(p_nextSprite == NULL)
 181:fb_question.c **** 	{
 182:fb_question.c **** #if(!defined(STAY_ON_IT) || !STAY_ON_IT)
 183:fb_question.c **** 	if(p_selectedSprite == &spriteDEADGOOMBA)
 184:fb_question.c **** 	{
 185:fb_question.c **** 		if(qCount >= 16)
 186:fb_question.c **** 		{
 187:fb_question.c **** 			qCount = Q_QSTART; //0;
 188:fb_question.c **** 			p_nextSprite = &spriteQ;
 189:fb_question.c **** 		}
 190:fb_question.c **** 	}
 191:fb_question.c **** 	else if(p_selectedSprite == &spriteGOOMBA)
 192:fb_question.c **** 	{
 193:fb_question.c **** 		if(qCount >= GOOMBA_QCOUNT)
 194:fb_question.c **** 		{
 195:fb_question.c **** 			qCount = 0;
 196:fb_question.c **** 			p_nextSprite = &spriteSOLID;
 197:fb_question.c **** 		}
 198:fb_question.c **** 	}
 199:fb_question.c **** 	else if(p_selectedSprite == &spriteCOIN)
 200:fb_question.c **** 	{
 201:fb_question.c **** 		if(qCount >= 8)
 202:fb_question.c **** 		{
 203:fb_question.c **** 			qCount = 0;
 204:fb_question.c **** 			p_nextSprite = &spriteSOLID;
 205:fb_question.c **** 		}
 206:fb_question.c **** 	}
 207:fb_question.c **** 	else if(p_selectedSprite == &spriteSOLID)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 103


 208:fb_question.c **** 	{
 209:fb_question.c **** 		if(qCount >= 8)
 210:fb_question.c **** 		{
 211:fb_question.c **** 			qCount = Q_QSTART; //0;
 212:fb_question.c **** 			p_selectedSprite = &spriteQ;
 213:fb_question.c **** 		}
 214:fb_question.c **** 	}
 215:fb_question.c **** 	else if(p_selectedSprite != &spriteQ)
 216:fb_question.c **** 	{
 217:fb_question.c **** 		if(qCount >= 16)
 218:fb_question.c **** 		{
 219:fb_question.c **** 			qCount = 0;
 220:fb_question.c **** 			//if(p_selectedSprite != &spriteSOLID)
 221:fb_question.c **** 				p_nextSprite = &spriteSOLID;
 222:fb_question.c **** 			//else
 223:fb_question.c **** 			//   p_selectedSprite = &spriteQ;
 224:fb_question.c **** 		}
 225:fb_question.c **** 	}
 226:fb_question.c **** 	//else is handled in the trigger-handler...
 227:fb_question.c **** #if(defined(AUTO_HIT) && AUTO_HIT)
 228:fb_question.c **** 	else //spriteQ
 229:fb_question.c **** 	{
 230:fb_question.c **** 		if(qCount >= (12*5))
 231:fb_question.c **** 			fbQuestion_hitDetected();
 232:fb_question.c **** 	}
 233:fb_question.c **** #endif
 234:fb_question.c **** #endif //STAY_ON_IT
 235:fb_question.c **** 	}
 236:fb_question.c **** 	//There're two scrolling-cases
 237:fb_question.c **** 	// selected == Q && next == other
 238:fb_question.c **** 	// selected == other && (next == Q || next == SOLID)
 239:fb_question.c **** 	//
 240:fb_question.c **** 	//The first case shows the next sprite's top above the Q-box
 241:fb_question.c **** 	// the "window" is on the next sprite, but the Q box overlaps it
 242:fb_question.c **** 	// and the Q-box scrolls downward
 243:fb_question.c **** 	//      _________
 244:fb_question.c **** 	//  ^  |   ___   | \  <--Next
 245:fb_question.c ****    //  |  |  /   \  |  | next sprite appears to scroll up
 246:fb_question.c **** 	//  |  ||¯¯¯¯¯¯¯||  | but really the overlapping selected-sprite scrolls
 247:fb_question.c **** 	//     || *   * || /  down...
 248:fb_question.c **** 	//      |   ?   |
 249:fb_question.c **** 	//      | *   * | <--Selected
 250:fb_question.c **** 	//       ¯¯¯¯¯¯¯
 251:fb_question.c **** 	//
 252:fb_question.c **** 	//The second case shows the two sprites atop each other
 253:fb_question.c **** 	// the "window" scrolls down the two
 254:fb_question.c **** 	//      _________
 255:fb_question.c **** 	//     |   ___   | <--Selected
 256:fb_question.c **** 	//   ..|../___\..|.. 
 257:fb_question.c **** 	// | : |   |_|   | : \  The window scrolls down, but the two sprites
 258:fb_question.c **** 	// | : |_________| :  | do not change position relative to each other
 259:fb_question.c **** 	// V : |         | : /
 260:fb_question.c **** 	//   ..|.*.....*.|..
 261:fb_question.c **** 	//     |    ?    |
 262:fb_question.c **** 	//     | *     * | <--Next
 263:fb_question.c **** 	//      ¯¯¯¯¯¯¯¯¯
 264:fb_question.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 104


 265:fb_question.c **** 
 266:fb_question.c **** 	// NEW:
 267:fb_question.c **** 	//  The first case is kinda boring... it looks like the question-box is
 268:fb_question.c **** 	//  being pulled-away to reveal the item, rather than that the item is
 269:fb_question.c **** 	//  coming out of the question-box
 270:fb_question.c **** 	//  Instead, raise the item from the bottom (in the background) and
 271:fb_question.c **** 	//  lower the box... that way both are moving at the same time.
 272:fb_question.c **** 	//
 273:fb_question.c **** 	//       _____                               ___
 274:fb_question.c **** 	//      |     |     _____         __        /___\
 275:fb_question.c **** 	//      |  ?  | -> |     |  ->  _/__\_  ->   |_|
 276:fb_question.c **** 	//      |_____|    |  ?  |     |      |
 277:fb_question.c **** 
 278:fb_question.c **** 	if(p_nextSprite != NULL)
 279:fb_question.c **** 	{
 280:fb_question.c **** 
 281:fb_question.c **** 		setSpriteSkyColorOverride(p_selectedSprite);
 282:fb_question.c **** 
 283:fb_question.c **** 		if(p_selectedSprite == &spriteQ) 
 284:fb_question.c **** 		{
 285:fb_question.c **** 			uint8_t spriteRow;
 286:fb_question.c **** 
 287:fb_question.c **** 			//Draw the top of the next sprite...
 288:fb_question.c **** 			for(qRow=0; qRow<qCount; qRow++)
 289:fb_question.c **** 			{
 290:fb_question.c **** 				spriteRow = qRow - (16 - qCount);
 291:fb_question.c **** 				drawSpriteRow(p_nextSprite, qCount, spriteRow, qRow);
 292:fb_question.c **** 			}
 293:fb_question.c **** 		
 294:fb_question.c **** 			//This is kinda hokey, but should work...
 295:fb_question.c **** 			// rather than displaying the "?" after it's been hit, it should
 296:fb_question.c **** 			// become solid... but in most cases using p_selectedSprite==SOLID
 297:fb_question.c **** 			// results in a transition straight to Q...
 298:fb_question.c **** 			// so rather than changing p_selectedSprite, let's just override
 299:fb_question.c **** 			// it here
 300:fb_question.c **** 			spriteRow = 0;
 301:fb_question.c **** 			for( ; qRow<Q_HEIGHT; qRow++)
 302:fb_question.c **** 			{
 303:fb_question.c **** 				drawSpriteRow(&spriteSOLID, qCount, spriteRow, qRow);
 304:fb_question.c **** 				spriteRow++;
 305:fb_question.c **** 			}
 306:fb_question.c **** 			
 307:fb_question.c **** 		}
 308:fb_question.c **** 		else
 309:fb_question.c **** 		{
 310:fb_question.c **** 			uint8_t displayRow;
 311:fb_question.c **** 			uint8_t spriteRow = qCount; 
 312:fb_question.c **** 
 313:fb_question.c **** 			for(displayRow = 0; displayRow < (Q_HEIGHT-qCount); displayRow++)
 314:fb_question.c **** 			{
 315:fb_question.c **** 				drawSpriteRow(p_selectedSprite, qCount, spriteRow, displayRow);
 316:fb_question.c **** 									//				displayRow+qCount, displayRow);
 317:fb_question.c **** 				spriteRow++;
 318:fb_question.c **** 			}
 319:fb_question.c **** 	
 320:fb_question.c **** 			spriteRow = 0;
 321:fb_question.c **** 			for( ; displayRow<Q_HEIGHT; displayRow++)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 105


 322:fb_question.c **** 			{
 323:fb_question.c **** 				drawSpriteRow(p_nextSprite, qCount, spriteRow, displayRow);
 324:fb_question.c **** 					//				displayRow-(Q_HEIGHT-1-qCount), displayRow);
 325:fb_question.c **** 
 326:fb_question.c **** 				spriteRow++;
 327:fb_question.c **** 			}
 328:fb_question.c **** 		}
 329:fb_question.c **** 
 330:fb_question.c **** 		qCount++;
 331:fb_question.c **** 		if(qCount >= Q_HEIGHT)
 332:fb_question.c **** 		{
 333:fb_question.c **** 			qCount = 0;
 334:fb_question.c **** 			p_selectedSprite = p_nextSprite;
 335:fb_question.c **** 			p_nextSprite = NULL;
 336:fb_question.c **** 		}
 337:fb_question.c **** 
 338:fb_question.c **** 	} //end of nextSprite Handling...
 339:fb_question.c **** 	else //we only have a selectedSprite (nextSprite is NULL)
 340:fb_question.c **** 	{
 341:fb_question.c **** 		setSpriteSkyColorOverride(NULL);
 342:fb_question.c **** 
 343:fb_question.c **** 		for(qRow=0; qRow<Q_HEIGHT; qRow++)
 344:fb_question.c **** 			drawSpriteRow(p_selectedSprite, qCount, qRow, qRow);
 345:fb_question.c **** 
 346:fb_question.c **** 		qCount++;
 347:fb_question.c **** 		//the only case where qCount should cycle is spriteQ...
 348:fb_question.c **** 		// its value is %12, so could either reset it at 12, or this.. whatev
 349:fb_question.c **** 		// To avoid a glitch every 21 cycles.
 350:fb_question.c **** 		if(qCount >= ((255 / 12) * 12))
 351:fb_question.c **** 			qCount = 0;
 352:fb_question.c **** 	}
 353:fb_question.c **** 
 354:fb_question.c **** }
 355:fb_question.c **** 
 356:fb_question.c **** uint8_t getSpritePalette(sprite_t *p_thisSprite, uint8_t spritePhase,
 357:fb_question.c **** 																	uint8_t spriteRow)
 358:fb_question.c **** {
 2937               		.stabn	68,0,358,.LM223-.LFBB11
 2938               	.LM223:
 2939               	.LFBB11:
 2940               	/* prologue: function */
 2941               	/* frame size = 0 */
 2942 0bb0 FC01      		movw r30,r24
 2943 0bb2 862F      		mov r24,r22
 359:fb_question.c **** 
 360:fb_question.c **** 	uint8_t thePalette;
 361:fb_question.c **** 	
 362:fb_question.c **** 	
 363:fb_question.c **** 	if(p_thisSprite == &spriteFLOWER)
 2944               		.stabn	68,0,363,.LM224-.LFBB11
 2945               	.LM224:
 2946 0bb4 90E0      		ldi r25,hi8(spriteFLOWER)
 2947 0bb6 E030      		cpi r30,lo8(spriteFLOWER)
 2948 0bb8 F907      		cpc r31,r25
 2949 0bba 01F4      		brne .L63
 364:fb_question.c **** 	{
 365:fb_question.c **** 		if(spriteRow<FLOWER_PALETTE1_ROW)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 106


 2950               		.stabn	68,0,365,.LM225-.LFBB11
 2951               	.LM225:
 2952 0bbc 4830      		cpi r20,lo8(8)
 2953 0bbe 00F4      		brsh .L64
 366:fb_question.c **** 			//data = getGimpColorVal(&spriteFLOWER,
 367:fb_question.c **** 			  thePalette = spritePhase%(spriteFLOWER.numPalettes-1) + 1; 
 2954               		.stabn	68,0,367,.LM226-.LFBB11
 2955               	.LM226:
 2956 0bc0 2091 0000 		lds r18,spriteFLOWER+6
 2957 0bc4 30E0      		ldi r19,lo8(0)
 2958 0bc6 2150      		subi r18,lo8(-(-1))
 2959 0bc8 3040      		sbci r19,hi8(-(-1))
 2960 0bca 90E0      		ldi r25,lo8(0)
 2961 0bcc B901      		movw r22,r18
 2962 0bce 00D0      		rcall __divmodhi4
 2963 0bd0 8F5F      		subi r24,lo8(-(1))
 2964 0bd2 0895      		ret
 2965               	.L63:
 368:fb_question.c **** 					 //spriteRow, qCol);
 369:fb_question.c **** 		else
 370:fb_question.c **** 			thePalette = 0;
 371:fb_question.c **** 			//data = getGimpColorVal(&spriteFLOWER, 0, spriteRow, qCol);
 372:fb_question.c **** 	}
 373:fb_question.c **** 	else if(p_thisSprite == &spriteGOOMBA)
 2966               		.stabn	68,0,373,.LM227-.LFBB11
 2967               	.LM227:
 2968 0bd4 90E0      		ldi r25,hi8(spriteGOOMBA)
 2969 0bd6 E030      		cpi r30,lo8(spriteGOOMBA)
 2970 0bd8 F907      		cpc r31,r25
 2971 0bda 01F4      		brne .L66
 374:fb_question.c **** 	{
 375:fb_question.c **** 		//uint8_t gCol = qCol;
 376:fb_question.c **** 		//Goomba moves by flipping horizontally...
 377:fb_question.c **** 	//	if((spritePhase < 16) && (spritePhase & 0x01))
 378:fb_question.c **** 	//		theCol = 15-qCol;
 379:fb_question.c **** 
 380:fb_question.c **** 		//uint8_t palette; // = qCount * p_thisSprite->numPalettes / 16;
 381:fb_question.c **** 		//if(palette >= p_thisSprite->numPalettes)
 382:fb_question.c **** 		//	palette = p_thisSprite->numPalettes-1;
 383:fb_question.c **** 
 384:fb_question.c **** 			
 385:fb_question.c **** 		switch(spritePhase)
 2972               		.stabn	68,0,385,.LM228-.LFBB11
 2973               	.LM228:
 2974 0bdc E62F      		mov r30,r22
 2975 0bde F0E0      		ldi r31,lo8(0)
 2976 0be0 E031      		cpi r30,16
 2977 0be2 F105      		cpc r31,__zero_reg__
 2978 0be4 00F4      		brsh .L67
 2979 0be6 E050      		subi r30,lo8(-(gs(.L72)))
 2980 0be8 F040      		sbci r31,hi8(-(gs(.L72)))
 2981 0bea 0994      		ijmp
 2982               		.data
 2983               		.section .progmem.gcc_sw_table, "ax", @progbits
 2984               		.p2align 1
 2985               	.L72:
 2986               		.data
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 107


 2987               		.section .progmem.gcc_sw_table, "ax", @progbits
 2988               		.p2align 1
 2989 0000 00C0      		rjmp .L64
 2990 0002 00C0      		rjmp .L64
 2991 0004 00C0      		rjmp .L64
 2992 0006 00C0      		rjmp .L64
 2993 0008 00C0      		rjmp .L68
 2994 000a 00C0      		rjmp .L68
 2995 000c 00C0      		rjmp .L68
 2996 000e 00C0      		rjmp .L69
 2997 0010 00C0      		rjmp .L69
 2998 0012 00C0      		rjmp .L69
 2999 0014 00C0      		rjmp .L70
 3000 0016 00C0      		rjmp .L70
 3001 0018 00C0      		rjmp .L70
 3002 001a 00C0      		rjmp .L71
 3003 001c 00C0      		rjmp .L71
 3004 001e 00C0      		rjmp .L71
 3005               		.text
 3006               	.L68:
 3007 0bec 81E0      		ldi r24,lo8(1)
 3008 0bee 0895      		ret
 3009               	.L69:
 3010 0bf0 82E0      		ldi r24,lo8(2)
 386:fb_question.c **** 		{
 387:fb_question.c **** 				case 0:
 388:fb_question.c **** 				case 1:
 389:fb_question.c **** 				case 2:
 390:fb_question.c **** 				case 3:
 391:fb_question.c **** 					thePalette = 0;
 392:fb_question.c **** 					break;
 393:fb_question.c **** 				case 4:
 394:fb_question.c **** 				case 5:
 395:fb_question.c **** 				case 6:
 396:fb_question.c **** 					thePalette = 1;
 397:fb_question.c **** 					break;
 398:fb_question.c **** 				case 7:
 399:fb_question.c **** 				case 8:
 400:fb_question.c **** 				case 9:
 401:fb_question.c **** 					thePalette = 2;
 402:fb_question.c **** 					break;
 3011               		.stabn	68,0,402,.LM229-.LFBB11
 3012               	.LM229:
 3013 0bf2 0895      		ret
 3014               	.L70:
 3015 0bf4 83E0      		ldi r24,lo8(3)
 403:fb_question.c **** 				case 10:
 404:fb_question.c **** 				case 11:
 405:fb_question.c **** 				case 12:
 406:fb_question.c **** 					thePalette = 3;
 407:fb_question.c **** 					break;
 3016               		.stabn	68,0,407,.LM230-.LFBB11
 3017               	.LM230:
 3018 0bf6 0895      		ret
 3019               	.L71:
 3020 0bf8 84E0      		ldi r24,lo8(4)
 408:fb_question.c **** 				case 13:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 108


 409:fb_question.c **** 				case 14:
 410:fb_question.c **** 				case 15:
 411:fb_question.c **** 					thePalette = 4;
 412:fb_question.c **** 					break;
 3021               		.stabn	68,0,412,.LM231-.LFBB11
 3022               	.LM231:
 3023 0bfa 0895      		ret
 3024               	.L67:
 413:fb_question.c **** 				default:
 414:fb_question.c **** 					thePalette = p_thisSprite->numPalettes-1;
 3025               		.stabn	68,0,414,.LM232-.LFBB11
 3026               	.LM232:
 3027 0bfc 8091 0000 		lds r24,spriteGOOMBA+6
 3028 0c00 8150      		subi r24,lo8(-(-1))
 3029 0c02 0895      		ret
 3030               	.L66:
 415:fb_question.c **** 		}
 416:fb_question.c **** 
 417:fb_question.c **** 
 418:fb_question.c **** 		//data = getGimpColorVal(&spriteGOOMBA, palette, spriteRow, gCol);
 419:fb_question.c **** 	}
 420:fb_question.c **** 	else
 421:fb_question.c **** 	{
 422:fb_question.c **** 		//data = getGimpColorVal(p_thisSprite, 
 423:fb_question.c **** 		  thePalette = spritePhase%p_thisSprite->numPalettes;
 3031               		.stabn	68,0,423,.LM233-.LFBB11
 3032               	.LM233:
 3033 0c04 6681      		ldd r22,Z+6
 3034 0c06 00D0      		rcall __udivmodqi4
 3035 0c08 892F      		mov r24,r25
 3036 0c0a 0895      		ret
 3037               	.L64:
 3038 0c0c 80E0      		ldi r24,lo8(0)
 424:fb_question.c **** 						//spriteRow, qCol);
 425:fb_question.c **** 	}
 426:fb_question.c **** 
 427:fb_question.c **** 	return thePalette;
 428:fb_question.c **** }
 3039               		.stabn	68,0,428,.LM234-.LFBB11
 3040               	.LM234:
 3041 0c0e 0895      		ret
 3042               		.size	getSpritePalette, .-getSpritePalette
 3043               		.stabs	"thePalette:r(3,2)",64,0,360,24
 3044               		.stabn	192,0,0,.LFBB11-.LFBB11
 3045               		.stabn	224,0,0,.Lscope11-.LFBB11
 3046               	.Lscope11:
 3047               		.stabs	"",36,0,0,.Lscope11-.LFBB11
 3048               		.stabd	78,0,0
 3049               		.stabs	"getSpritePhase:F(3,2)",36,0,434,getSpritePhase
 3050               		.stabs	"p_thisSprite:P(0,16)",64,0,434,18
 3051               		.stabs	"qCount:P(3,2)",64,0,434,24
 3052               		.stabs	"vOffset:P(3,1)",64,0,435,20
 3053               	.global	getSpritePhase
 3054               		.type	getSpritePhase, @function
 3055               	getSpritePhase:
 3056               		.stabd	46,0,0
 429:fb_question.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 109


 430:fb_question.c **** //This does NOT handle COIN, see getRowPixelValCOIN()...
 431:fb_question.c **** // vOffset is whether the sprite is above the frame-buffer or below...
 432:fb_question.c **** // centered = 0
 433:fb_question.c **** // so, e.g. vOffset = spriteRow - rowToDrawAt
 434:fb_question.c **** uint8_t getSpritePhase(sprite_t *p_thisSprite, uint8_t qCount, int8_t
 435:fb_question.c **** 		vOffset)
 436:fb_question.c **** {
 3057               		.stabn	68,0,436,.LM235-.LFBB12
 3058               	.LM235:
 3059               	.LFBB12:
 3060               	/* prologue: function */
 3061               	/* frame size = 0 */
 3062 0c10 9C01      		movw r18,r24
 3063 0c12 862F      		mov r24,r22
 437:fb_question.c **** 	uint8_t spritePhase = qCount;
 438:fb_question.c **** 
 439:fb_question.c **** 	if(p_thisSprite == &spriteQ)
 3064               		.stabn	68,0,439,.LM236-.LFBB12
 3065               	.LM236:
 3066 0c14 90E0      		ldi r25,hi8(spriteQ)
 3067 0c16 2030      		cpi r18,lo8(spriteQ)
 3068 0c18 3907      		cpc r19,r25
 3069 0c1a 01F4      		brne .L75
 440:fb_question.c **** 	{
 441:fb_question.c **** 		switch(spritePhase%12)
 3070               		.stabn	68,0,441,.LM237-.LFBB12
 3071               	.LM237:
 3072 0c1c 6CE0      		ldi r22,lo8(12)
 3073 0c1e 00D0      		rcall __udivmodqi4
 3074 0c20 9C30      		cpi r25,lo8(12)
 3075 0c22 00F0      		brlo .L76
 3076 0c24 82E0      		ldi r24,lo8(2)
 3077 0c26 0895      		ret
 3078               	.L76:
 3079 0c28 E92F      		mov r30,r25
 3080 0c2a F0E0      		ldi r31,lo8(0)
 3081 0c2c E050      		subi r30,lo8(-(CSWTCH.51))
 3082 0c2e F040      		sbci r31,hi8(-(CSWTCH.51))
 3083 0c30 8081      		ld r24,Z
 3084 0c32 0895      		ret
 3085               	.L75:
 442:fb_question.c **** 		{
 443:fb_question.c **** 			case 0:
 444:fb_question.c **** 			case 1:
 445:fb_question.c **** 			case 2:
 446:fb_question.c **** 
 447:fb_question.c **** 			case 9:
 448:fb_question.c **** 			case 10:
 449:fb_question.c **** 			case 11:
 450:fb_question.c **** 				spritePhase = 0; //yellow background
 451:fb_question.c **** 				break;
 452:fb_question.c **** 			case 3:
 453:fb_question.c **** 			case 4:
 454:fb_question.c **** 
 455:fb_question.c **** 			case 7:
 456:fb_question.c **** 			case 8:
 457:fb_question.c **** 				spritePhase = 1; //red background
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 110


 458:fb_question.c **** 				break;
 459:fb_question.c **** 			case 5:
 460:fb_question.c **** 			case 6:
 461:fb_question.c **** 
 462:fb_question.c **** 			default:
 463:fb_question.c **** 				spritePhase = 2; //brown background
 464:fb_question.c **** 				break;
 465:fb_question.c **** 		}
 466:fb_question.c **** 
 467:fb_question.c **** 	}
 468:fb_question.c **** 	//else if(p_thisSprite == &spriteCOIN) //handled in getRowPixelValCOIN()
 469:fb_question.c **** 	else if(p_thisSprite == &spriteGOOMBA)
 3086               		.stabn	68,0,469,.LM238-.LFBB12
 3087               	.LM238:
 3088 0c34 90E0      		ldi r25,hi8(spriteGOOMBA)
 3089 0c36 2030      		cpi r18,lo8(spriteGOOMBA)
 3090 0c38 3907      		cpc r19,r25
 3091 0c3a 01F4      		brne .L77
 470:fb_question.c **** 	{
 471:fb_question.c **** 		if (vOffset < 0) //(spriteRow < rowToDrawAt)
 3092               		.stabn	68,0,471,.LM239-.LFBB12
 3093               	.LM239:
 3094 0c3c 47FF      		sbrs r20,7
 3095 0c3e 00C0      		rjmp .L79
 3096 0c40 80E0      		ldi r24,lo8(0)
 3097 0c42 00C0      		rjmp .L80
 3098               	.L79:
 472:fb_question.c **** 			spritePhase = 0;
 473:fb_question.c **** 		if (vOffset > 0) //(spriteRow > rowToDrawAt)
 3099               		.stabn	68,0,473,.LM240-.LFBB12
 3100               	.LM240:
 3101 0c44 4423      		tst r20
 3102 0c46 01F0      		breq .L80
 3103 0c48 80E3      		ldi r24,lo8(48)
 3104 0c4a 0895      		ret
 3105               	.L80:
 474:fb_question.c **** 			spritePhase = GOOMBA_QCOUNT;
 475:fb_question.c **** 		else
 476:fb_question.c **** 			spritePhase /=3;
 3106               		.stabn	68,0,476,.LM241-.LFBB12
 3107               	.LM241:
 3108 0c4c 63E0      		ldi r22,lo8(3)
 3109 0c4e 00D0      		rcall __udivmodqi4
 3110               	.L77:
 477:fb_question.c **** 
 478:fb_question.c **** 	}
 479:fb_question.c **** 
 480:fb_question.c **** 	return spritePhase;
 481:fb_question.c **** 
 482:fb_question.c **** }
 3111               		.stabn	68,0,482,.LM242-.LFBB12
 3112               	.LM242:
 3113 0c50 0895      		ret
 3114               		.size	getSpritePhase, .-getSpritePhase
 3115               		.stabs	"spritePhase:r(3,2)",64,0,437,24
 3116               		.stabn	192,0,0,.LFBB12-.LFBB12
 3117               		.stabn	224,0,0,.Lscope12-.LFBB12
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 111


 3118               	.Lscope12:
 3119               		.stabs	"",36,0,0,.Lscope12-.LFBB12
 3120               		.stabd	78,0,0
 3121               		.stabs	"drawSpriteRow:F(0,15)",36,0,488,drawSpriteRow
 3122               		.stabs	"p_thisSprite:P(0,16)",64,0,488,28
 3123               		.stabs	"qCount:P(3,2)",64,0,488,5
 3124               		.stabs	"spriteRow:P(3,1)",64,0,490,17
 3125               		.stabs	"rowToDrawAt:P(3,2)",64,0,491,12
 3126               	.global	drawSpriteRow
 3127               		.type	drawSpriteRow, @function
 3128               	drawSpriteRow:
 3129               		.stabd	46,0,0
 483:fb_question.c **** 
 484:fb_question.c **** 
 485:fb_question.c **** //spritePhase replaces qCount... for determining e.g. the color palette and
 486:fb_question.c **** //the motion of the goomba...
 487:fb_question.c **** // This does *NOT* handle COIN... use getRowPixelValCOIN() instead.
 488:fb_question.c **** void drawSpriteRow(sprite_t *p_thisSprite, uint8_t qCount,
 489:fb_question.c **** 															//uint8_t spritePhase,
 490:fb_question.c **** 													  int8_t spriteRow, 
 491:fb_question.c **** 													  uint8_t rowToDrawAt)
 492:fb_question.c **** {
 3130               		.stabn	68,0,492,.LM243-.LFBB13
 3131               	.LM243:
 3132               	.LFBB13:
 3133 0c52 4F92      		push r4
 3134 0c54 5F92      		push r5
 3135 0c56 6F92      		push r6
 3136 0c58 7F92      		push r7
 3137 0c5a 8F92      		push r8
 3138 0c5c 9F92      		push r9
 3139 0c5e AF92      		push r10
 3140 0c60 BF92      		push r11
 3141 0c62 CF92      		push r12
 3142 0c64 DF92      		push r13
 3143 0c66 EF92      		push r14
 3144 0c68 FF92      		push r15
 3145 0c6a 0F93      		push r16
 3146 0c6c 1F93      		push r17
 3147 0c6e CF93      		push r28
 3148 0c70 DF93      		push r29
 3149               	/* prologue: function */
 3150               	/* frame size = 0 */
 3151 0c72 EC01      		movw r28,r24
 3152 0c74 562E      		mov r5,r22
 3153 0c76 142F      		mov r17,r20
 3154 0c78 C22E      		mov r12,r18
 493:fb_question.c **** 	uint8_t qCol;
 494:fb_question.c **** 
 495:fb_question.c **** 	uint8_t spritePhase;
 496:fb_question.c **** 
 497:fb_question.c **** 	spritePhase = getSpritePhase(p_thisSprite, qCount, 
 3155               		.stabn	68,0,497,.LM244-.LFBB13
 3156               	.LM244:
 3157 0c7a A42E      		mov r10,r20
 3158 0c7c A21A      		sub r10,r18
 3159 0c7e 4A2D      		mov r20,r10
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 112


 3160 0c80 00D0      		rcall getSpritePhase
 3161 0c82 B82E      		mov r11,r24
 498:fb_question.c **** 												((int8_t)spriteRow - rowToDrawAt) );
 499:fb_question.c **** 
 500:fb_question.c **** 	//This may get overridden (for the sky)
 501:fb_question.c **** 	uint8_t thePalette = getSpritePalette(p_thisSprite, spritePhase,
 3162               		.stabn	68,0,501,.LM245-.LFBB13
 3163               	.LM245:
 3164 0c84 CE01      		movw r24,r28
 3165 0c86 6B2D      		mov r22,r11
 3166 0c88 412F      		mov r20,r17
 3167 0c8a 00D0      		rcall getSpritePalette
 3168 0c8c 782E      		mov r7,r24
 3169 0c8e DD24      		clr r13
 3170 0c90 E4E0      		ldi r30,4
 3171 0c92 CC0C      	1:	lsl r12
 3172 0c94 DD1C      		rol r13
 3173 0c96 EA95      		dec r30
 3174 0c98 01F4      		brne 1b
 3175 0c9a 80E0      		ldi r24,lo8(frameBuffer)
 3176 0c9c 90E0      		ldi r25,hi8(frameBuffer)
 3177 0c9e C80E      		add r12,r24
 3178 0ca0 D91E      		adc r13,r25
 3179 0ca2 00E0      		ldi r16,lo8(0)
 3180               	.LBB209:
 502:fb_question.c **** 																				spriteRow);
 503:fb_question.c **** 	
 504:fb_question.c **** 	for(qCol=0; qCol<Q_WIDTH; qCol++)
 505:fb_question.c ****    {
 506:fb_question.c **** 
 507:fb_question.c **** 		// Should use readImageByte... but it's specific to FB_WIDTH
 508:fb_question.c ****       //uint8_t data=
 509:fb_question.c ****       //  pgm_read_byte((uint8_t *)(&((p_image)[(qRow)*Q_WIDTH+(qCol)])));
 510:fb_question.c ****       uint8_t data;
 511:fb_question.c **** 		uint8_t theCol = qCol;
 512:fb_question.c **** 
 513:fb_question.c **** 
 514:fb_question.c **** 		if(p_thisSprite == &spriteGOOMBA)
 515:fb_question.c **** 		{
 516:fb_question.c **** 			//uint8_t gCol = qCol;
 517:fb_question.c **** 			//Goomba moves by flipping horizontally...
 518:fb_question.c **** 			if((spritePhase < 16) && (spritePhase & 0x01))
 3181               		.stabn	68,0,518,.LM246-.LFBB13
 3182               	.LM246:
 3183 0ca4 8B2C      		mov r8,r11
 3184 0ca6 9924      		clr r9
 3185 0ca8 91E0      		ldi r25,lo8(1)
 3186 0caa 8922      		and r8,r25
 3187 0cac 9924      		clr r9
 3188 0cae 7FE0      		ldi r23,lo8(15)
 3189 0cb0 672E      		mov r6,r23
 3190               	.LBB210:
 519:fb_question.c **** 				theCol = 15-qCol;
 520:fb_question.c **** 		}
 521:fb_question.c **** 
 522:fb_question.c **** 
 523:fb_question.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 113


 524:fb_question.c **** 		uint8_t rawPixVal;
 525:fb_question.c **** 
 526:fb_question.c **** 		if((spriteRow < 0) || (spriteRow >= Q_HEIGHT))
 527:fb_question.c **** 			rawPixVal = 0;
 528:fb_question.c **** 		else if(p_thisSprite == &spriteCOIN)
 529:fb_question.c **** 			rawPixVal = getRawPixelValCOIN(spritePhase, spriteRow, theCol);
 530:fb_question.c **** 		else
 531:fb_question.c **** 			rawPixVal = getRawPixelVal(p_thisSprite, spriteRow, theCol);
 532:fb_question.c **** 
 533:fb_question.c **** 
 534:fb_question.c **** 		sprite_t *p_spriteForColor = p_thisSprite;
 535:fb_question.c **** 		uint8_t paletteForColor = thePalette;
 536:fb_question.c **** 
 537:fb_question.c **** 		if( (rawPixVal == 0) && (skyOverrideSprite != NULL) )
 538:fb_question.c **** 		{
 539:fb_question.c **** 			p_spriteForColor = skyOverrideSprite;
 540:fb_question.c **** 			int8_t vOffset = spriteRow - rowToDrawAt;
 541:fb_question.c **** 
 542:fb_question.c **** 			if (skyOverrideSprite != p_thisSprite)
 543:fb_question.c **** 				vOffset = -vOffset;
 3191               		.stabn	68,0,543,.LM247-.LFBB13
 3192               	.LM247:
 3193 0cb2 4A2C      		mov r4,r10
 3194 0cb4 4194      		neg r4
 3195               	.L94:
 3196               	.LBE210:
 514:fb_question.c **** 		if(p_thisSprite == &spriteGOOMBA)
 3197               		.stabn	68,0,514,.LM248-.LFBB13
 3198               	.LM248:
 3199 0cb6 A0E0      		ldi r26,hi8(spriteGOOMBA)
 3200 0cb8 C030      		cpi r28,lo8(spriteGOOMBA)
 3201 0cba DA07      		cpc r29,r26
 3202 0cbc 01F4      		brne .L84
 518:fb_question.c **** 			if((spritePhase < 16) && (spritePhase & 0x01))
 3203               		.stabn	68,0,518,.LM249-.LFBB13
 3204               	.LM249:
 3205 0cbe BFE0      		ldi r27,lo8(15)
 3206 0cc0 BB15      		cp r27,r11
 3207 0cc2 00F0      		brlo .L84
 3208 0cc4 8114      		cp r8,__zero_reg__
 3209 0cc6 9104      		cpc r9,__zero_reg__
 3210 0cc8 01F0      		breq .L84
 3211 0cca 462D      		mov r20,r6
 3212 0ccc 401B      		sub r20,r16
 3213 0cce 00C0      		rjmp .L85
 3214               	.L84:
 3215 0cd0 402F      		mov r20,r16
 3216               	.L85:
 526:fb_question.c **** 		if((spriteRow < 0) || (spriteRow >= Q_HEIGHT))
 3217               		.stabn	68,0,526,.LM250-.LFBB13
 3218               	.LM250:
 3219 0cd2 1031      		cpi r17,lo8(16)
 3220 0cd4 00F4      		brsh .L86
 528:fb_question.c **** 		else if(p_thisSprite == &spriteCOIN)
 3221               		.stabn	68,0,528,.LM251-.LFBB13
 3222               	.LM251:
 3223 0cd6 E0E0      		ldi r30,hi8(spriteCOIN)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 114


 3224 0cd8 C030      		cpi r28,lo8(spriteCOIN)
 3225 0cda DE07      		cpc r29,r30
 3226 0cdc 01F4      		brne .L87
 529:fb_question.c **** 			rawPixVal = getRawPixelValCOIN(spritePhase, spriteRow, theCol);
 3227               		.stabn	68,0,529,.LM252-.LFBB13
 3228               	.LM252:
 3229 0cde 8B2D      		mov r24,r11
 3230 0ce0 612F      		mov r22,r17
 3231 0ce2 00D0      		rcall getRawPixelValCOIN
 3232 0ce4 00C0      		rjmp .L88
 3233               	.L87:
 531:fb_question.c **** 			rawPixVal = getRawPixelVal(p_thisSprite, spriteRow, theCol);
 3234               		.stabn	68,0,531,.LM253-.LFBB13
 3235               	.LM253:
 3236 0ce6 CE01      		movw r24,r28
 3237 0ce8 612F      		mov r22,r17
 3238 0cea 00D0      		rcall getRawPixelVal
 3239               	.L88:
 537:fb_question.c **** 		if( (rawPixVal == 0) && (skyOverrideSprite != NULL) )
 3240               		.stabn	68,0,537,.LM254-.LFBB13
 3241               	.LM254:
 3242 0cec 8823      		tst r24
 3243 0cee 01F0      		breq .L86
 3244 0cf0 272D      		mov r18,r7
 3245 0cf2 7E01      		movw r14,r28
 3246 0cf4 00C0      		rjmp .L89
 3247               	.L86:
 3248 0cf6 E090 0000 		lds r14,skyOverrideSprite
 3249 0cfa F090 0000 		lds r15,(skyOverrideSprite)+1
 3250 0cfe E114      		cp r14,__zero_reg__
 3251 0d00 F104      		cpc r15,__zero_reg__
 3252 0d02 01F4      		brne .L90
 3253 0d04 272D      		mov r18,r7
 3254 0d06 7E01      		movw r14,r28
 3255 0d08 00C0      		rjmp .L97
 3256               	.L90:
 3257               	.LBB211:
 542:fb_question.c **** 			if (skyOverrideSprite != p_thisSprite)
 3258               		.stabn	68,0,542,.LM255-.LFBB13
 3259               	.LM255:
 3260 0d0a EC16      		cp r14,r28
 3261 0d0c FD06      		cpc r15,r29
 3262 0d0e 01F4      		brne .L91
 3263 0d10 4A2D      		mov r20,r10
 3264 0d12 00C0      		rjmp .L92
 3265               	.L91:
 3266               		.stabn	68,0,543,.LM256-.LFBB13
 3267               	.LM256:
 3268 0d14 442D      		mov r20,r4
 3269               	.L92:
 544:fb_question.c **** 
 545:fb_question.c **** 			uint8_t spritePhaseForColor = 
 546:fb_question.c **** 						getSpritePhase(p_spriteForColor, qCount, vOffset);
 3270               		.stabn	68,0,546,.LM257-.LFBB13
 3271               	.LM257:
 3272 0d16 C701      		movw r24,r14
 3273 0d18 652D      		mov r22,r5
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 115


 3274 0d1a 00D0      		rcall getSpritePhase
 3275 0d1c 682F      		mov r22,r24
 547:fb_question.c **** 									//				(spriteRow - rowToDrawAta)); 
 548:fb_question.c **** 			paletteForColor = getSpritePalette(p_spriteForColor, 
 3276               		.stabn	68,0,548,.LM258-.LFBB13
 3277               	.LM258:
 3278 0d1e C701      		movw r24,r14
 3279 0d20 412F      		mov r20,r17
 3280 0d22 00D0      		rcall getSpritePalette
 3281 0d24 282F      		mov r18,r24
 3282               	.L97:
 3283 0d26 80E0      		ldi r24,lo8(0)
 3284               	.L89:
 3285               	.LBE211:
 3286               	.LBB212:
 3287               	.LBB213:
 3288               		.stabs	"icons/iconPacking.h",132,0,0,.Ltext42
 3289               	.Ltext42:
  67:icons/iconPacking.h **** 	pgm_read_byte(
 3290               		.stabn	68,0,67,.LM259-.LFBB13
 3291               	.LM259:
 3292 0d28 30E0      		ldi r19,lo8(0)
 3293 0d2a 220F      		lsl r18
 3294 0d2c 331F      		rol r19
 3295 0d2e 220F      		lsl r18
 3296 0d30 331F      		rol r19
 3297 0d32 280F      		add r18,r24
 3298 0d34 311D      		adc r19,__zero_reg__
 3299 0d36 D701      		movw r26,r14
 3300 0d38 1496      		adiw r26,4
 3301 0d3a ED91      		ld r30,X+
 3302 0d3c FC91      		ld r31,X
 3303 0d3e 1597      		sbiw r26,4+1
 3304 0d40 E20F      		add r30,r18
 3305 0d42 F31F      		adc r31,r19
 3306               	/* #APP */
 3307               	 ;  67 "icons/iconPacking.h" 1
 3308 0d44 8491      		lpm r24, Z
 3309               		
 3310               	 ;  0 "" 2
 3311               	/* #NOAPP */
 3312               	.LBE213:
 3313               	.LBE212:
 3314               		.stabs	"fb_question.c",132,0,0,.Ltext43
 3315               	.Ltext43:
 549:fb_question.c **** 															spritePhaseForColor,
 550:fb_question.c **** 															spriteRow);
 551:fb_question.c **** 		}
 552:fb_question.c **** 
 553:fb_question.c **** 
 554:fb_question.c **** 		data = rawPixValToGimpColorVal(rawPixVal, p_spriteForColor,
 555:fb_question.c **** 																		paletteForColor); 
 556:fb_question.c **** 		
 557:fb_question.c ****       data = gimpPixelValToLColor(data);
 3316               		.stabn	68,0,557,.LM260-.LFBB13
 3317               	.LM260:
 3318 0d46 282F      		mov r18,r24
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 116


 3319 0d48 30E0      		ldi r19,lo8(0)
 3320 0d4a 2073      		andi r18,lo8(48)
 3321 0d4c 3070      		andi r19,hi8(48)
 3322 0d4e 2032      		cpi r18,32
 3323 0d50 3105      		cpc r19,__zero_reg__
 3324 0d52 04F0      		brlt .L93
 3325 0d54 805F      		subi r24,lo8(-(16))
 3326               	.L93:
 558:fb_question.c **** 
 559:fb_question.c **** 		frameBuffer[rowToDrawAt][qCol] = data;
 3327               		.stabn	68,0,559,.LM261-.LFBB13
 3328               	.LM261:
 3329 0d56 F601      		movw r30,r12
 3330 0d58 8193      		st Z+,r24
 3331 0d5a 6F01      		movw r12,r30
 3332               	.LBE209:
 504:fb_question.c **** 	for(qCol=0; qCol<Q_WIDTH; qCol++)
 3333               		.stabn	68,0,504,.LM262-.LFBB13
 3334               	.LM262:
 3335 0d5c 0F5F      		subi r16,lo8(-(1))
 3336 0d5e 0031      		cpi r16,lo8(16)
 3337 0d60 01F0      		breq .+2
 3338 0d62 00C0      		rjmp .L94
 3339               	/* epilogue start */
 560:fb_question.c **** 	}
 561:fb_question.c **** }
 3340               		.stabn	68,0,561,.LM263-.LFBB13
 3341               	.LM263:
 3342 0d64 DF91      		pop r29
 3343 0d66 CF91      		pop r28
 3344 0d68 1F91      		pop r17
 3345 0d6a 0F91      		pop r16
 3346 0d6c FF90      		pop r15
 3347 0d6e EF90      		pop r14
 3348 0d70 DF90      		pop r13
 3349 0d72 CF90      		pop r12
 3350 0d74 BF90      		pop r11
 3351 0d76 AF90      		pop r10
 3352 0d78 9F90      		pop r9
 3353 0d7a 8F90      		pop r8
 3354 0d7c 7F90      		pop r7
 3355 0d7e 6F90      		pop r6
 3356 0d80 5F90      		pop r5
 3357 0d82 4F90      		pop r4
 3358 0d84 0895      		ret
 3359               		.size	drawSpriteRow, .-drawSpriteRow
 3360               		.stabs	"qCol:r(3,2)",64,0,493,16
 3361               		.stabs	"spritePhase:r(3,2)",64,0,495,11
 3362               		.stabs	"thePalette:r(3,2)",64,0,501,7
 3363               		.stabn	192,0,0,.LFBB13-.LFBB13
 3364               		.stabs	"data:r(3,2)",64,0,510,24
 3365               		.stabs	"theCol:r(3,2)",64,0,511,20
 3366               		.stabs	"rawPixVal:r(3,2)",64,0,524,24
 3367               		.stabs	"p_spriteForColor:r(0,16)",64,0,534,14
 3368               		.stabs	"paletteForColor:r(3,2)",64,0,535,18
 3369               		.stabn	192,0,0,.LBB209-.LFBB13
 3370               		.stabs	"vOffset:r(3,1)",64,0,540,20
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 117


 3371               		.stabs	"spritePhaseForColor:r(3,2)",64,0,545,22
 3372               		.stabn	192,0,0,.LBB210-.LFBB13
 3373               		.stabn	224,0,0,.LBE210-.LFBB13
 3374               		.stabs	"vOffset:r(3,1)",64,0,540,20
 3375               		.stabs	"spritePhaseForColor:r(3,2)",64,0,545,22
 3376               		.stabn	192,0,0,.LBB211-.LFBB13
 3377               		.stabn	224,0,0,.LBE211-.LFBB13
 3378               		.stabn	224,0,0,.LBE209-.LFBB13
 3379               		.stabn	224,0,0,.Lscope13-.LFBB13
 3380               	.Lscope13:
 3381               		.stabs	"",36,0,0,.Lscope13-.LFBB13
 3382               		.stabd	78,0,0
 3383               		.stabs	"fbQuestion_update:F(0,15)",36,0,146,fbQuestion_update
 3384               	.global	fbQuestion_update
 3385               		.type	fbQuestion_update, @function
 3386               	fbQuestion_update:
 3387               		.stabd	46,0,0
 147:fb_question.c **** {
 3388               		.stabn	68,0,147,.LM264-.LFBB14
 3389               	.LM264:
 3390               	.LFBB14:
 3391 0d86 0F93      		push r16
 3392 0d88 1F93      		push r17
 3393 0d8a CF93      		push r28
 3394 0d8c DF93      		push r29
 3395               	/* prologue: function */
 3396               	/* frame size = 0 */
 148:fb_question.c **** 	callCount++;
 3397               		.stabn	68,0,148,.LM265-.LFBB14
 3398               	.LM265:
 3399 0d8e 8091 0000 		lds r24,callCount
 3400 0d92 8F5F      		subi r24,lo8(-(1))
 3401 0d94 8093 0000 		sts callCount,r24
 180:fb_question.c **** 	if(p_nextSprite == NULL)
 3402               		.stabn	68,0,180,.LM266-.LFBB14
 3403               	.LM266:
 3404 0d98 8091 0000 		lds r24,p_nextSprite
 3405 0d9c 9091 0000 		lds r25,(p_nextSprite)+1
 3406 0da0 0097      		sbiw r24,0
 3407 0da2 01F0      		breq .+2
 3408 0da4 00C0      		rjmp .L99
 183:fb_question.c **** 	if(p_selectedSprite == &spriteDEADGOOMBA)
 3409               		.stabn	68,0,183,.LM267-.LFBB14
 3410               	.LM267:
 3411 0da6 8091 0000 		lds r24,p_selectedSprite
 3412 0daa 9091 0000 		lds r25,(p_selectedSprite)+1
 3413 0dae 20E0      		ldi r18,hi8(spriteDEADGOOMBA)
 3414 0db0 8030      		cpi r24,lo8(spriteDEADGOOMBA)
 3415 0db2 9207      		cpc r25,r18
 3416 0db4 01F4      		brne .L100
 185:fb_question.c **** 		if(qCount >= 16)
 3417               		.stabn	68,0,185,.LM268-.LFBB14
 3418               	.LM268:
 3419 0db6 8091 0000 		lds r24,qCount
 3420 0dba 8031      		cpi r24,lo8(16)
 3421 0dbc 00F0      		brlo .L99
 187:fb_question.c **** 			qCount = Q_QSTART; //0;
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 118


 3422               		.stabn	68,0,187,.LM269-.LFBB14
 3423               	.LM269:
 3424 0dbe 87E0      		ldi r24,lo8(7)
 3425 0dc0 8093 0000 		sts qCount,r24
 188:fb_question.c **** 			p_nextSprite = &spriteQ;
 3426               		.stabn	68,0,188,.LM270-.LFBB14
 3427               	.LM270:
 3428 0dc4 80E0      		ldi r24,lo8(spriteQ)
 3429 0dc6 90E0      		ldi r25,hi8(spriteQ)
 3430 0dc8 00C0      		rjmp .L119
 3431               	.L100:
 191:fb_question.c **** 	else if(p_selectedSprite == &spriteGOOMBA)
 3432               		.stabn	68,0,191,.LM271-.LFBB14
 3433               	.LM271:
 3434 0dca 20E0      		ldi r18,hi8(spriteGOOMBA)
 3435 0dcc 8030      		cpi r24,lo8(spriteGOOMBA)
 3436 0dce 9207      		cpc r25,r18
 3437 0dd0 01F4      		brne .L101
 193:fb_question.c **** 		if(qCount >= GOOMBA_QCOUNT)
 3438               		.stabn	68,0,193,.LM272-.LFBB14
 3439               	.LM272:
 3440 0dd2 8091 0000 		lds r24,qCount
 3441 0dd6 8033      		cpi r24,lo8(48)
 3442 0dd8 00F0      		brlo .L99
 3443 0dda 00C0      		rjmp .L120
 3444               	.L101:
 199:fb_question.c **** 	else if(p_selectedSprite == &spriteCOIN)
 3445               		.stabn	68,0,199,.LM273-.LFBB14
 3446               	.LM273:
 3447 0ddc 20E0      		ldi r18,hi8(spriteCOIN)
 3448 0dde 8030      		cpi r24,lo8(spriteCOIN)
 3449 0de0 9207      		cpc r25,r18
 3450 0de2 01F4      		brne .L102
 201:fb_question.c **** 		if(qCount >= 8)
 3451               		.stabn	68,0,201,.LM274-.LFBB14
 3452               	.LM274:
 3453 0de4 8091 0000 		lds r24,qCount
 3454 0de8 8830      		cpi r24,lo8(8)
 3455 0dea 00F0      		brlo .L99
 3456 0dec 00C0      		rjmp .L120
 3457               	.L102:
 207:fb_question.c **** 	else if(p_selectedSprite == &spriteSOLID)
 3458               		.stabn	68,0,207,.LM275-.LFBB14
 3459               	.LM275:
 3460 0dee 20E0      		ldi r18,hi8(spriteSOLID)
 3461 0df0 8030      		cpi r24,lo8(spriteSOLID)
 3462 0df2 9207      		cpc r25,r18
 3463 0df4 01F4      		brne .L103
 209:fb_question.c **** 		if(qCount >= 8)
 3464               		.stabn	68,0,209,.LM276-.LFBB14
 3465               	.LM276:
 3466 0df6 8091 0000 		lds r24,qCount
 3467 0dfa 8830      		cpi r24,lo8(8)
 3468 0dfc 00F0      		brlo .L99
 211:fb_question.c **** 			qCount = Q_QSTART; //0;
 3469               		.stabn	68,0,211,.LM277-.LFBB14
 3470               	.LM277:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 119


 3471 0dfe 87E0      		ldi r24,lo8(7)
 3472 0e00 8093 0000 		sts qCount,r24
 212:fb_question.c **** 			p_selectedSprite = &spriteQ;
 3473               		.stabn	68,0,212,.LM278-.LFBB14
 3474               	.LM278:
 3475 0e04 80E0      		ldi r24,lo8(spriteQ)
 3476 0e06 90E0      		ldi r25,hi8(spriteQ)
 3477 0e08 9093 0000 		sts (p_selectedSprite)+1,r25
 3478 0e0c 8093 0000 		sts p_selectedSprite,r24
 3479 0e10 00C0      		rjmp .L99
 3480               	.L103:
 215:fb_question.c **** 	else if(p_selectedSprite != &spriteQ)
 3481               		.stabn	68,0,215,.LM279-.LFBB14
 3482               	.LM279:
 3483 0e12 20E0      		ldi r18,hi8(spriteQ)
 3484 0e14 8030      		cpi r24,lo8(spriteQ)
 3485 0e16 9207      		cpc r25,r18
 3486 0e18 01F0      		breq .L99
 217:fb_question.c **** 		if(qCount >= 16)
 3487               		.stabn	68,0,217,.LM280-.LFBB14
 3488               	.LM280:
 3489 0e1a 8091 0000 		lds r24,qCount
 3490 0e1e 8031      		cpi r24,lo8(16)
 3491 0e20 00F0      		brlo .L99
 3492               	.L120:
 219:fb_question.c **** 			qCount = 0;
 3493               		.stabn	68,0,219,.LM281-.LFBB14
 3494               	.LM281:
 3495 0e22 1092 0000 		sts qCount,__zero_reg__
 221:fb_question.c **** 				p_nextSprite = &spriteSOLID;
 3496               		.stabn	68,0,221,.LM282-.LFBB14
 3497               	.LM282:
 3498 0e26 80E0      		ldi r24,lo8(spriteSOLID)
 3499 0e28 90E0      		ldi r25,hi8(spriteSOLID)
 3500               	.L119:
 3501 0e2a 9093 0000 		sts (p_nextSprite)+1,r25
 3502 0e2e 8093 0000 		sts p_nextSprite,r24
 3503               	.L99:
 278:fb_question.c **** 	if(p_nextSprite != NULL)
 3504               		.stabn	68,0,278,.LM283-.LFBB14
 3505               	.LM283:
 3506 0e32 8091 0000 		lds r24,p_nextSprite
 3507 0e36 9091 0000 		lds r25,(p_nextSprite)+1
 3508 0e3a 0097      		sbiw r24,0
 3509 0e3c 01F4      		brne .+2
 3510 0e3e 00C0      		rjmp .L104
 281:fb_question.c **** 		setSpriteSkyColorOverride(p_selectedSprite);
 3511               		.stabn	68,0,281,.LM284-.LFBB14
 3512               	.LM284:
 3513 0e40 8091 0000 		lds r24,p_selectedSprite
 3514 0e44 9091 0000 		lds r25,(p_selectedSprite)+1
 3515               	.LBB214:
 3516               	.LBB215:
 3517               		.stabs	"icons/iconPacking.h",132,0,0,.Ltext44
 3518               	.Ltext44:
  48:icons/iconPacking.h **** 	skyOverrideSprite = sprite;
 3519               		.stabn	68,0,48,.LM285-.LFBB14
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 120


 3520               	.LM285:
 3521 0e48 9093 0000 		sts (skyOverrideSprite)+1,r25
 3522 0e4c 8093 0000 		sts skyOverrideSprite,r24
 3523               	.LBE215:
 3524               	.LBE214:
 3525               		.stabs	"fb_question.c",132,0,0,.Ltext45
 3526               	.Ltext45:
 283:fb_question.c **** 		if(p_selectedSprite == &spriteQ) 
 3527               		.stabn	68,0,283,.LM286-.LFBB14
 3528               	.LM286:
 3529 0e50 20E0      		ldi r18,hi8(spriteQ)
 3530 0e52 8030      		cpi r24,lo8(spriteQ)
 3531 0e54 9207      		cpc r25,r18
 3532 0e56 01F4      		brne .L105
 3533 0e58 10E0      		ldi r17,lo8(0)
 3534 0e5a 00C0      		rjmp .L106
 3535               	.L107:
 3536               	.LBB216:
 291:fb_question.c **** 				drawSpriteRow(p_nextSprite, qCount, spriteRow, qRow);
 3537               		.stabn	68,0,291,.LM287-.LFBB14
 3538               	.LM287:
 3539 0e5c 462F      		mov r20,r22
 3540 0e5e 4051      		subi r20,lo8(-(-16))
 3541 0e60 410F      		add r20,r17
 3542 0e62 8091 0000 		lds r24,p_nextSprite
 3543 0e66 9091 0000 		lds r25,(p_nextSprite)+1
 3544 0e6a 212F      		mov r18,r17
 3545 0e6c 00D0      		rcall drawSpriteRow
 288:fb_question.c **** 			for(qRow=0; qRow<qCount; qRow++)
 3546               		.stabn	68,0,288,.LM288-.LFBB14
 3547               	.LM288:
 3548 0e6e 1F5F      		subi r17,lo8(-(1))
 3549               	.L106:
 3550 0e70 6091 0000 		lds r22,qCount
 3551 0e74 1617      		cp r17,r22
 3552 0e76 00F0      		brlo .L107
 3553 0e78 00E0      		ldi r16,lo8(0)
 3554 0e7a 00C0      		rjmp .L108
 3555               	.L109:
 303:fb_question.c **** 				drawSpriteRow(&spriteSOLID, qCount, spriteRow, qRow);
 3556               		.stabn	68,0,303,.LM289-.LFBB14
 3557               	.LM289:
 3558 0e7c 80E0      		ldi r24,lo8(spriteSOLID)
 3559 0e7e 90E0      		ldi r25,hi8(spriteSOLID)
 3560 0e80 6091 0000 		lds r22,qCount
 3561 0e84 402F      		mov r20,r16
 3562 0e86 212F      		mov r18,r17
 3563 0e88 00D0      		rcall drawSpriteRow
 304:fb_question.c **** 				spriteRow++;
 3564               		.stabn	68,0,304,.LM290-.LFBB14
 3565               	.LM290:
 3566 0e8a 0F5F      		subi r16,lo8(-(1))
 301:fb_question.c **** 			for( ; qRow<Q_HEIGHT; qRow++)
 3567               		.stabn	68,0,301,.LM291-.LFBB14
 3568               	.LM291:
 3569 0e8c 1F5F      		subi r17,lo8(-(1))
 3570               	.L108:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 121


 3571 0e8e 1031      		cpi r17,lo8(16)
 3572 0e90 00F0      		brlo .L109
 3573 0e92 00C0      		rjmp .L110
 3574               	.L105:
 3575               	.LBE216:
 3576               	.LBB217:
 311:fb_question.c **** 			uint8_t spriteRow = qCount; 
 3577               		.stabn	68,0,311,.LM292-.LFBB14
 3578               	.LM292:
 3579 0e94 0091 0000 		lds r16,qCount
 3580 0e98 10E0      		ldi r17,lo8(0)
 313:fb_question.c **** 			for(displayRow = 0; displayRow < (Q_HEIGHT-qCount); displayRow++)
 3581               		.stabn	68,0,313,.LM293-.LFBB14
 3582               	.LM293:
 3583 0e9a C0E1      		ldi r28,lo8(16)
 3584 0e9c D0E0      		ldi r29,hi8(16)
 3585 0e9e 00C0      		rjmp .L111
 3586               	.L112:
 315:fb_question.c **** 				drawSpriteRow(p_selectedSprite, qCount, spriteRow, displayRow);
 3587               		.stabn	68,0,315,.LM294-.LFBB14
 3588               	.LM294:
 3589 0ea0 412F      		mov r20,r17
 3590 0ea2 400F      		add r20,r16
 3591 0ea4 8091 0000 		lds r24,p_selectedSprite
 3592 0ea8 9091 0000 		lds r25,(p_selectedSprite)+1
 3593 0eac 212F      		mov r18,r17
 3594 0eae 00D0      		rcall drawSpriteRow
 313:fb_question.c **** 			for(displayRow = 0; displayRow < (Q_HEIGHT-qCount); displayRow++)
 3595               		.stabn	68,0,313,.LM295-.LFBB14
 3596               	.LM295:
 3597 0eb0 1F5F      		subi r17,lo8(-(1))
 3598               	.L111:
 3599 0eb2 6091 0000 		lds r22,qCount
 3600 0eb6 212F      		mov r18,r17
 3601 0eb8 30E0      		ldi r19,lo8(0)
 3602 0eba CE01      		movw r24,r28
 3603 0ebc 861B      		sub r24,r22
 3604 0ebe 9109      		sbc r25,__zero_reg__
 3605 0ec0 2817      		cp r18,r24
 3606 0ec2 3907      		cpc r19,r25
 3607 0ec4 04F0      		brlt .L112
 3608 0ec6 00E0      		ldi r16,lo8(0)
 3609 0ec8 00C0      		rjmp .L113
 3610               	.L114:
 323:fb_question.c **** 				drawSpriteRow(p_nextSprite, qCount, spriteRow, displayRow);
 3611               		.stabn	68,0,323,.LM296-.LFBB14
 3612               	.LM296:
 3613 0eca 8091 0000 		lds r24,p_nextSprite
 3614 0ece 9091 0000 		lds r25,(p_nextSprite)+1
 3615 0ed2 6091 0000 		lds r22,qCount
 3616 0ed6 402F      		mov r20,r16
 3617 0ed8 212F      		mov r18,r17
 3618 0eda 00D0      		rcall drawSpriteRow
 326:fb_question.c **** 				spriteRow++;
 3619               		.stabn	68,0,326,.LM297-.LFBB14
 3620               	.LM297:
 3621 0edc 0F5F      		subi r16,lo8(-(1))
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 122


 321:fb_question.c **** 			for( ; displayRow<Q_HEIGHT; displayRow++)
 3622               		.stabn	68,0,321,.LM298-.LFBB14
 3623               	.LM298:
 3624 0ede 1F5F      		subi r17,lo8(-(1))
 3625               	.L113:
 3626 0ee0 1031      		cpi r17,lo8(16)
 3627 0ee2 00F0      		brlo .L114
 3628               	.L110:
 3629               	.LBE217:
 330:fb_question.c **** 		qCount++;
 3630               		.stabn	68,0,330,.LM299-.LFBB14
 3631               	.LM299:
 3632 0ee4 8091 0000 		lds r24,qCount
 3633 0ee8 8F5F      		subi r24,lo8(-(1))
 3634 0eea 8093 0000 		sts qCount,r24
 331:fb_question.c **** 		if(qCount >= Q_HEIGHT)
 3635               		.stabn	68,0,331,.LM300-.LFBB14
 3636               	.LM300:
 3637 0eee 8031      		cpi r24,lo8(16)
 3638 0ef0 00F0      		brlo .L117
 333:fb_question.c **** 			qCount = 0;
 3639               		.stabn	68,0,333,.LM301-.LFBB14
 3640               	.LM301:
 3641 0ef2 1092 0000 		sts qCount,__zero_reg__
 334:fb_question.c **** 			p_selectedSprite = p_nextSprite;
 3642               		.stabn	68,0,334,.LM302-.LFBB14
 3643               	.LM302:
 3644 0ef6 8091 0000 		lds r24,p_nextSprite
 3645 0efa 9091 0000 		lds r25,(p_nextSprite)+1
 3646 0efe 9093 0000 		sts (p_selectedSprite)+1,r25
 3647 0f02 8093 0000 		sts p_selectedSprite,r24
 335:fb_question.c **** 			p_nextSprite = NULL;
 3648               		.stabn	68,0,335,.LM303-.LFBB14
 3649               	.LM303:
 3650 0f06 1092 0000 		sts (p_nextSprite)+1,__zero_reg__
 3651 0f0a 1092 0000 		sts p_nextSprite,__zero_reg__
 3652 0f0e 00C0      		rjmp .L117
 3653               	.L104:
 3654               	.LBB218:
 3655               	.LBB219:
 3656               		.stabs	"icons/iconPacking.h",132,0,0,.Ltext46
 3657               	.Ltext46:
  48:icons/iconPacking.h **** 	skyOverrideSprite = sprite;
 3658               		.stabn	68,0,48,.LM304-.LFBB14
 3659               	.LM304:
 3660 0f10 1092 0000 		sts (skyOverrideSprite)+1,__zero_reg__
 3661 0f14 1092 0000 		sts skyOverrideSprite,__zero_reg__
 3662 0f18 10E0      		ldi r17,lo8(0)
 3663               	.L116:
 3664               	.LBE219:
 3665               	.LBE218:
 3666               		.stabs	"fb_question.c",132,0,0,.Ltext47
 3667               	.Ltext47:
 344:fb_question.c **** 			drawSpriteRow(p_selectedSprite, qCount, qRow, qRow);
 3668               		.stabn	68,0,344,.LM305-.LFBB14
 3669               	.LM305:
 3670 0f1a 8091 0000 		lds r24,p_selectedSprite
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 123


 3671 0f1e 9091 0000 		lds r25,(p_selectedSprite)+1
 3672 0f22 6091 0000 		lds r22,qCount
 3673 0f26 412F      		mov r20,r17
 3674 0f28 212F      		mov r18,r17
 3675 0f2a 00D0      		rcall drawSpriteRow
 343:fb_question.c **** 		for(qRow=0; qRow<Q_HEIGHT; qRow++)
 3676               		.stabn	68,0,343,.LM306-.LFBB14
 3677               	.LM306:
 3678 0f2c 1F5F      		subi r17,lo8(-(1))
 3679 0f2e 1031      		cpi r17,lo8(16)
 3680 0f30 01F4      		brne .L116
 346:fb_question.c **** 		qCount++;
 3681               		.stabn	68,0,346,.LM307-.LFBB14
 3682               	.LM307:
 3683 0f32 8091 0000 		lds r24,qCount
 3684 0f36 8F5F      		subi r24,lo8(-(1))
 3685 0f38 8093 0000 		sts qCount,r24
 350:fb_question.c **** 		if(qCount >= ((255 / 12) * 12))
 3686               		.stabn	68,0,350,.LM308-.LFBB14
 3687               	.LM308:
 3688 0f3c 8C3F      		cpi r24,lo8(-4)
 3689 0f3e 00F0      		brlo .L117
 351:fb_question.c **** 			qCount = 0;
 3690               		.stabn	68,0,351,.LM309-.LFBB14
 3691               	.LM309:
 3692 0f40 1092 0000 		sts qCount,__zero_reg__
 3693               	.L117:
 3694               	/* epilogue start */
 354:fb_question.c **** }
 3695               		.stabn	68,0,354,.LM310-.LFBB14
 3696               	.LM310:
 3697 0f44 DF91      		pop r29
 3698 0f46 CF91      		pop r28
 3699 0f48 1F91      		pop r17
 3700 0f4a 0F91      		pop r16
 3701 0f4c 0895      		ret
 3702               		.size	fbQuestion_update, .-fbQuestion_update
 3703               		.stabs	"qRow:r(3,2)",64,0,165,17
 3704               		.stabn	192,0,0,.LFBB14-.LFBB14
 3705               		.stabs	"spriteRow:r(3,2)",64,0,285,16
 3706               		.stabn	192,0,0,.LBB216-.LFBB14
 3707               		.stabn	224,0,0,.LBE216-.LFBB14
 3708               		.stabs	"displayRow:r(3,2)",64,0,310,17
 3709               		.stabs	"spriteRow:r(3,2)",64,0,311,16
 3710               		.stabn	192,0,0,.LBB217-.LFBB14
 3711               		.stabn	224,0,0,.LBE217-.LFBB14
 3712               		.stabn	224,0,0,.Lscope14-.LFBB14
 3713               	.Lscope14:
 3714               		.stabs	"",36,0,0,.Lscope14-.LFBB14
 3715               		.stabd	78,0,0
 3716               		.stabs	"lcd_Init:F(0,15)",36,0,956,lcd_Init
 3717               	.global	lcd_Init
 3718               		.type	lcd_Init, @function
 3719               	lcd_Init:
 3720               		.stabd	46,0,0
 3721               		.stabs	"_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c",132,0,0,.Ltext48
 3722               	.Ltext48:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 124


   1:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //lcdStuff 0.55ncf-1
   2:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
   3:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.55ncf-1 - adding BLUE_DIAG_SCROLL_FLASH
   4:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.55ncf - drawPix had uint8_t rowNum... switching to uint16_t
   5:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          a/o LCDdirectLVDS-62 (attempting to use DE_BLUE with ChiMei
   6:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          display)
   7:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          Also added BLUE_DIAG_BAR_SCROLL
   8:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.52ncf-1 - Adding notes re: old mental hurdles.
   9:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.52ncf - getting rid of git in this directory...
  10:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.51ncf-git-1ish Adding a few notes remaining from LCDdirectLVDS:
  11:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //						"SCOPING has been removed in LVDS, revisit LCDdirect50"
  12:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.51ncf-git first attempt at using git for uploading to googleCode...
  13:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        this version isn't yet used by any projects
  14:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.50ncf cleanup, colorOverride is unused...
  15:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //				SMILEY -> LCD_SMILEY
  16:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.40ncf-1 loadRow unused... removal untested...
  17:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.40ncf drawPix...
  18:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf-6 HSYNC_INACTIVE, etc. definable elsewhere
  19:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf-5 Adding BLUE_VERT_BAR_REVERSED
  20:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf-4 Adding NOTES: DON'T START WITH BLUE_DIAG_BAR
  21:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf-3 T_DV and T_Vlow overrideable
  22:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf-2 Not sure if I've modified it between... but here: 
  23:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        FRAME_COUNT_TO_DELAY wasn't defined, giving warnings
  24:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf-1 updateLCD() has return-values for state-switches
  25:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          (VFP, VSync, VBP, DE)
  26:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        ACTUALLY, that's unnecessary... state-transitions can be
  27:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        determined by vSync and dataEnable...
  28:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.30ncf Haven't been keeping these backed up regularly...
  29:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        More toward realtime adjustable timing values
  30:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        V Front Porch now occurs at the beginning of the frame, instead
  31:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        of at the end...
  32:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  33:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.20ncf More Timing Value experiment preparation... 
  34:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.10ncf-3ish looking into reloading methods for e.g. experimenting with
  35:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          timing values: sdramThing2.0-7
  36:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          How to "move" timing-values around data which needn't be
  37:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          changed...
  38:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.10ncf-andsomemore
  39:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          Added MAKELONG to fix integer overflow warnings
  40:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          Revised it from "... + MAKELONG" to "MAKELONG(...)"
  41:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          (The +MAKELONG version is lost in the ether... if you *really*
  42:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //           want it, there's a localized version in sdramThing2.0-6)
  43:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.10ncf-1ish - Adding HSYNC_COUNT_FRAME_COMPLETE
  44:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //               Removal of LVDS_PRESCALER stuff...
  45:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //0.10ncf - Stolen from LCDdirectLVDS/54-moreColorStuff/main.c
  46:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          Removal of LCDdirectLVDS-specific stuff...
  47:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //				A little bit of rewriting of notes to be more generalized
  48:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          All delay_cyc references replaced with delay_Dots,
  49:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //					math changed accordingly...
  50:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
  51:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
  52:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // I hereby declare this FPD-Link simulation technique to forever be called
  53:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  PW-BANGing
  54:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
  55:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // a/o 0.10ncf-4: (sdramThing2.0v8-28)
  56:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   DON'T START WITH BLUE_DIAG_BAR
  57:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Unless you want to be depressed
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 125


  58:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Good Starting Point DE_BLUE
  59:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
  60:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
  61:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
  62:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // GENERAL TIMING NOTES
  63:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // a/o 0.52ncf-1:
  64:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Upon revisiting an ancient display controller project I did 15 years
  65:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   ago, I'm finding myself falling into similar thought-hurdles I had
  66:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   the first go-round with a graphic LCD display... so here're some
  67:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   concepts:
  68:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  69:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Most graphical displays without onboard memory have basically these 
  70:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // same signals:
  71:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  72:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //	Pixel Clock: Each clock-pulse *generally* corresponds to one pixel...
  73:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Whether these clock-pulses are used for drawing actual pixels, or
  74:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   otherwise...
  75:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  76:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Horizontal Sync: Each time the Hsync pin is active, the display starts a
  77:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // 	new row. It syncs up the pixels horizontally, at the left of the
  78:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // 	screen.
  79:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  80:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (This was one of my biggest mental-hurdles from those old days...
  81:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    aided by the fact that my display's timing-chips had different names
  82:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    for the Pixexl-Clock, Hsync, and Vsync pins.) 
  83:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Hsync is only pulsed *once* at the *beginning* of each row. 
  84:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   It is *not* pulsed with each pixel. It syncs the edge of the
  85:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   pixel-data with the edge of the screen.
  86:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  87:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Vertical Sync: Each time the Vsync pin is active, the display starts a
  88:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // new frame. It syncs the pixel-data with the top of the screen.
  89:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  90:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (Data Enable: This tells the (usually LCD) display that actual pixels
  91:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  are now being transmitted. It's a bit redundant, and some displays,
  92:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  especially older non-TFT displays don't even have it. 
  93:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Some newer TFT displays *only* use Data-Enable, determining the
  94:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  horizontal and vertical positions of the pixels based on the delay
  95:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  between Data-Enable pulses).
  96:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
  97:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // I can't recall what the names were on my old display... but they were
  98:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // danged confusing. Especially to someone who'd never messed with graphics
  99:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // prior and had to reverse-engineer the whole thing. 
 100:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Oh yes, here they are: CPX, Frame, and Load. 
 101:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 102:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // As far as these three signals (Pixel Clock, Hsync, and Vsync):
 103:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  The actual timing-requirements may vary from display to display.
 104:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  But, it's pretty-well-established that for most displays these signals
 105:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  remain pretty constant. For example, an Hsync pulse may arrive at a
 106:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  specific rate (the duration of a "row"). Vsync, therefore, remains
 107:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  active for a number of "rows", even though no pixel-data is being sent
 108:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  during this time. And, again, even though no pixel-data is being sent,
 109:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  the Hsync pulse still occurs at the same rate it would if pixels were
 110:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  being drawn.
 111:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 112:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  This, I guess, is a remnant of ancient times, probably something to do
 113:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  with analog TV signals... the durations necessary for the electro-
 114:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  magnets to be moved from one side of the screen to the next, and the
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 126


 115:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  time necessary to move them again from top-to-bottom.
 116:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 117:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  In this digital era, it doesn't seem these timings would be necessary,
 118:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  and, in fact, most displays I've gotten working are highly tolerant of
 119:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  timing that doesn't match this rigidity.
 120:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 121:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  E.G. my *ancient* LCD project was designed long before I understood
 122:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  these "standard" timing specifications. As I recall, I don't have any
 123:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  delays between the "Frame" signal indicating the beginning of the next
 124:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  frame and the "Load" signal indicating the beginning of the first row
 125:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  of data. Certainly not several "rows" of Frame (aka Vsync)
 126:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  pulse-active.
 127:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 128:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Further, most of these standardized timings involve "porches", both
 129:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  front and back. The "Horizontal Front Porch" is the time between the
 130:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  end of a row and the Hsync signal. The "Horizontal Back Porch" is the
 131:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  time between the Hsync signal and the beginning of the actual 
 132:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  pixel-data. During these "porches", no pixel-data is sent, and the
 133:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Hsync signal is not active. Again, in the digital era these are pretty
 134:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  much unnecessary, but some displays still rely on them, and most
 135:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  specify timing-values for them.
 136:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 137:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 138:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 139:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //new notes a/o 0.10ncf-3ish:
 140:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // The basic idea is that timing is something that needs to be experimented
 141:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // with, often... so, for cases where LCD timing/drawing data is loaded
 142:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // beforehand (e.g. sdramThing2.0-7), it would be nice not to have to
 143:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // reload *all* the data, only to change the necessary timing data
 144:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 145:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Neglecting the SDRAM for a second, we have essentially:
 146:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (The exact placement is not necessarily in order... e.g. DH_DOTS could
 147:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  be at the end of a row, or at the beginning... VSYNC rows could be at
 148:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  the top, or at the bottom.....)
 149:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (See also notes "Here's how it worked pre-lvds:", which actually are a
 150:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   bit off, e.g. I don't think VSYNC L->H was delayed by DE_TIME after
 151:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Hsync)
 152:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 153:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // H_LOW_DOTS + HD_DOTS + DH_DOTS = "Horizontal Blank Time"
 154:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (This "front/back" thing always confused me...
 155:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  DH_DOTS is *in front of* Hsync as far as *time* is concerned...
 156:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  i.e. looking at a 'scope trace... But something about reading left-to-
 157:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  right causes me to feel like "front" is the furthest to the right
 158:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  which would be *later* in time... weird.
 159:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  
 160:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 161:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        |--|<--H_LOW_DOTS                       "Horiz Front Porch"
 162:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        |  |--|<--HD_DOTS="Horiz Back Porch"    |<---->|<--DH_DOTS
 163:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        |  .  .                                 .      |
 164:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        |<............................................./
 165:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        |  .  .                                 .    
 166:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        v  v  .                                 .      
 167:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /V _______________________________________________  \ VSYNC Rows
 168:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /H |__|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 169:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     DE _______________________________________________  /  T_Vlow times)
 170:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              .                                 .
 171:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              .                                 .      "Vsync Back Porch"
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 127


 172:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 173:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /H |__|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 174:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     DE _______________________________________________  /  T_VD times)
 175:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              .                                 .         "Vbp should be
 176:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              v                                 v          static"
 177:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              ***********************************
 178:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *                                 *
 179:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 180:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /H |__|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 181:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     DE ______|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|______   /
 182:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *                                 *
 183:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *<------ DE_ACTIVE_DOTS --------->*        (Repeat V_COUNT
 184:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *      .                          *         =1024 times)
 185:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                     .   Displayed Pixels
 186:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *      .                          *
 187:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *                                 *
 188:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *                                 *
 189:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 190:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /H |__|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 191:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     DE ______|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|______   /
 192:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              *                                 *
 193:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              ***********************************      
 194:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                                                      "Vsync Front Porch"
 195:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 196:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     /H |__|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 197:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     DE _______________________________________________  /  T_DV times)
 198:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 199:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 200:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #warning "TODO Maybe: LCDdirectLVDS (which so far is the only version which synced with such low re
 201:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 202:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Front vs. Back porches....
 203:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   If I were to draw a car driving down a street... 
 204:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   I would draw it with its front to the right, driving to the right...
 205:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 206:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       _____/¯¯¯¯\________     \O/
 207:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   ...|__   _________   __\     |
 208:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      ...\_/         \_/       / \							//
 209:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 210:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   The person is *in front of* the car... which means the car has not yet
 211:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   arrived at the person, but will soon... 
 212:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (later in time, not *before* in time)
 213:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  This is my logic...
 214:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   So The "Horizontal Front Porch", to me, should be to the RIGHT of the
 215:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Horizontal Sync Pulse...
 216:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   But that ain't how it is (unless I've confused myself into a circle
 217:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   where my logic is actually right, and I just think it's wrong?)
 218:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   
 219:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  By the logic that the front porch occurs *before* the sync pulse,
 220:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   ... I suppose we could think of a person in front of a house... it
 221:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   makes more sense, anyhow, since it's a porch in front of a house, 
 222:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   not person in front of a car.
 223:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   The person's walking into the house, crosses the *front*-porch 
 224:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   *before* enterring the doorway. If he continues walking all the way
 225:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   through the house and out the back-door, he'll be crossing the *back*
 226:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   porch later in time...
 227:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 228:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Right, so the logic makes sense... but for some reason I have to run 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 128


 229:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  through this whole diatribe every time I see the terms.
 230:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Heh, and even after going through it, the damned thing seems backwards.
 231:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (Probably because I drew it with the front-porch to the right side...)
 232:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (AND THEN there's the issue that it seems to me like the front-porch
 233:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   should be to the left of the drawing-area whereas the back-porch
 234:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   should be to the right of it... rather than to the HSYNC pulse)
 235:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 236:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 237:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Anyways, all that drawing was to figure out where to position this
 238:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // in memory, such that it would be the least processing-effort to modify
 239:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // timing values for testing... (because loading the SDRAM's free-running 
 240:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // data takes ~20minutes!)
 241:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 242:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 243:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 244:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Options LTN, IDT, or TESTVALS
 245:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IDT display *still* doesn't sync... maybe my H/V signals aren't right
 246:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef DISPLAY
 247:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DISPLAY TESTVALS //LTN //TESTVALS //IDT //LTN
 248:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 249:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 250:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //oldNote:
 251:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // TODO: Between OSCCAL_VAL and FRAME_UPDATE_DELAY
 252:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  it seems the speed (at least for the LTN) isn't so important after all
 253:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  This could be used to my advantage...
 254:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Maybe bump OSCCAL_VAL all the way up, but use a slower "bit-rate"
 255:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Thus, pixels could be skinnier, thus higher-resolution.
 256:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Or more instructions could be used for the same resolution
 257:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   allowing, e.g. sprites from program-memory, without necessitating a
 258:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   large (or any?) frame-buffer...
 259:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 260:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 261:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //This would normally be 0 for the highest-speed frame-refresh possible
 262:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // However, increasing this value can slow the frame-refresh rate
 263:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   if desired
 264:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // e.g. 50000 causes it to refresh ~ every few seconds
 265:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (durn-near the limit for how long the LCD will retain an image)
 266:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // The benefit being that it doesn't flicker at annoying rates for
 267:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  stationary images
 268:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  worth exploring...
 269:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This may be highly dependent on the screen capabilities...
 270:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   of course, this sorta thing is undocumented
 271:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   it just has to be experimented with
 272:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Further, it may be quite hard on the Liquid Crystals, since they'd 
 273:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   likely be driven DC... not sure what the long term effects are.
 274:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This could be a hell of a lot more sophisticated...
 275:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // e.g. refresh after a frameBuffer change
 276:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      refresh based on a seconds-timer
 277:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      ...
 278:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // AS-IS: Does refreshes completely independent of the frame-buffer
 279:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      if it's too slow, some images may be missed completely.
 280:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      This is not true for FRAME_SYNC TRUE (below)
 281:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      (and it's not really useful anymore with FRAME_SYNC)
 282:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // a/o sdramThing2.0, this is not really relevent...
 283:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // 	if the frame needs updating, just stop free-running, right?
 284:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // 	well, doing-so might cause issues, since the LVDS clock will not be
 285:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    running... this is a TBD
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 129


 286:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define FRAME_UPDATE_DELAY 0//5000//50000 //2000 //5000 //20000 //50000
 287:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 288:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 289:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //New Idea:
 290:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Disable the Hsync timer interrupt after the frame completes
 291:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  and reenable elsewhere...
 292:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (It seems pixels changing from one shade to another take an
 293:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   intermediate step halfway between)
 294:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (Thus, two updates then a pause might clear that up)
 295:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (Duh... it doesn't clear that up, because the fastest refresh rate
 296:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   is the same...)
 297:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (but it is an interesting effect)
 298:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (Double-Duh... I was using a slow refresh with FRAME_UPDATE_DELAY)
 299:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Reworded: Having several frame refreshes before a pause helps to
 300:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  "solidify" the color changes... especially the sharp changes 
 301:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (e.g. yellow<->black)
 302:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (Side Note: I saw this effect on a regular (NON-LVDS) TFT display 
 303:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   in LCDdirect that was only connected such that R, G, and B were each
 304:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   either full-off or full-on, i.e. all Red bits were connected to a
 305:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   single output pin (full on when 1, full off when 0).
 306:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   I hadn't attributed it to improper refresh synchronization
 307:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   as the refresh rate was too fast to see... That's a handy way to get
 308:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   intermediate shades/colors without refresh-flicker from pulsing them!)
 309:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  connected with each color 
 310:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  0 means no delay (except FRAME_UPDATE_DELAY) via interrupt disabling
 311:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  If you WANT this effect (for intermediate shades?) 
 312:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   set FRAME_COUNT_TO_DELAY to 1
 313:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Then, each change of color will (apparently) result in a value halfway
 314:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   between the old color and the new color
 315:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Not sure whether it's an electrical problem, but these half-shades 
 316:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   appear dithered, sometimes ugilly, sometimes it's nice. I guess it
 317:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   depends on the goal...
 318:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define FRAME_COUNT_TO_DELAY 2//7//1//5//2//3
 319:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 320:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 321:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //A/O v13: Using the Samsung LTN display, instead of the IDTech IAXG
 322:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LTN appears to be content with my pseudo-LVDS scheme.
 323:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IAXG has never unblanked
 324:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      Even though suitable timings were found with SwitchResX
 325:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      Maybe due to psuedo-LVDS
 326:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            slight timing issues // It probably doesn't work with all cases...
 327:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Definitely with drawPix/Images...(RC oscillator variances?)
 328:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            glitches when switching LVDS states 
 329:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 (thought I had that figured out, originally)
 330:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      The fact the LTN appears to recognize the signalling suggests the
 331:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      IAXG would be worth further exploration...
 332:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //         Unfortunately, the CCFT blew out my inverter
 333:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                        And I must have put it back together incorrectly
 334:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                        (backlight filters out of order or flipped?)
 335:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                        (which actually makes for some very interesting
 336:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                         visuals, but hard to develop with)
 337:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      IAXG: uses DE, V, and H
 338:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             At low pixel-clock DE is active for fewer pixels...
 339:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              Last Tested: 680 was full-screen
 340:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             Nice because it increases the frame-rate!
 341:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      LTN:  uses DE only
 342:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 130


 343:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 344:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // The idea is to use FastPWM with the PLL to implement 64-85Mbits/sec
 345:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (the PLL on the Tiny861 supposedly maxes out at 85MHz)
 346:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (Though I am currently running with OSCAL set to the highest frequency
 347:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   and the PLL seems to be syncing at about 128MHz)
 348:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (New Note, a/o sdramThing2.0v5... it's kinda ironic that I was able to
 349:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   run it at 128MHz with nothing more than an AVR and some gates...
 350:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   seeing as how sdramThing has been fidgetty just running at 8MHz
 351:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Anyways, an eventual goal is to run at 133MHz+, using basically
 352:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   nothing more than the SDRAM itself for timing and refreshes...
 353:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   would allow for full resolution and full color-depth)
 354:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 355:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 356:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 357:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 358:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Wiring:
 359:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Many iterations of AVR->Differential "LVDS" circuitry resulted in the
 360:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   simplest of all:
 361:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 362:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Believe it or not, the XOR is a standard TTL LS-series XOR: 74LS86
 363:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     Specifically: TI SN74LS86N from 1980 (the only XOR in my collection)
 364:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   It's spec'd to run from 4.5-5.5V, and its propagation delays and slew
 365:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     rates aren't really spec'd to be good enough for 128MHz pixel clock
 366:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     yet it's working...
 367:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Further, the output voltages are right in the LVDS range,
 368:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     IIRC (last I 'scoped) around 1.5V High and 1.0V Low
 369:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      (Don't forget the LCD has a 100ohm resistor between
 370:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //         RXinN/clk+ and RXinN/clk-)
 371:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 372:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   It's probably best to use two XORs from the same chip for a single
 373:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    LVDS channel, since different chips may have slightly different
 374:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    characteristics. 
 375:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 376:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   The entire circuit, thus, requires TWO 74LS86's 
 377:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    (four XORs apiece, two per LVDS channel, 8-total)
 378:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 379:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 380:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              VCC3V3   VCC3V3
 381:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                |        |                           ______________
 382:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                +---\ \¯¯¯-_                        |  LCD (1 channel
 383:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                     | |    ¯-                      |       of 4)
 384:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                     | | XOR   >------> RXinN/clk-  | ----.
 385:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   AVR, etc.         | |    _-                      |     |
 386:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   3.3V TTL >---+---/ /___-¯                        |     \ 100
 387:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   output       |                                   |     /
 388:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                |                                   |     \ ohms
 389:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                |                                   |     /
 390:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                `---\ \¯¯¯-_                        |     |
 391:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                     | |    ¯-                      |     |
 392:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                     | | XOR   >------> RXinN/clk+  | ----'
 393:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                     | |    _-                      |
 394:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                +---/ /___-¯                        |
 395:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                |        |                          |
 396:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //               GND      GND
 397:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 398:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  
 399:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Also used: The TTL 74AHC series...
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 131


 400:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    I found some one-gang 74AHC1G32 and 74AHC1G86's on an old iBook
 401:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     motherboard. (An OR and an XOR, respectively). These are spec'd for
 402:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     3.3V operation, and faster. The output voltages appear OK for LVDS
 403:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     (with a 100ohm load in the LCD)
 404:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 405:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  NOTE: Since I only had enough of these 1-gang devices for two LVDS
 406:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     channels, I had to implement Red and Green with the LS 
 407:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     before switching all channels to the LS... Using different chips
 408:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     (specifically, different TYPES of chips) for different channels
 409:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     caused timing issues: Since the AHC is faster, the clock and Blue
 410:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     signals are synchronized, but the red and green signals were shifted
 411:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     a bit or two (resulting in "Black" appearing green)
 412:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 413:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  For other circuits attempted, see oldNotes.txt
 414:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     (and boy there were many, involving voltage dividers, AC coupling,
 415:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      reference voltages, BJT differential amplifiers... I doubt I 
 416:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      documented them all, or even most. Whoda thunk the simplest, 
 417:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      especially under- AND over-spec'd--timing, supply voltage, and
 418:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      output voltage--would be the one...?)
 419:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 420:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LVDS/FPD-Link timing:
 421:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 422:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |<--- (LCDdirectLVDS: "pixel") --->|
 423:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Timer1:   |<-- One Timer1 Cycle (OCR1C=6) -->|
 424:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  TCNT:     |  0   1    2    3    4    5    6  |  0   1    2    3    
 425:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |____.____.____.____               |____.____.____.____
 426:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  RXclk+:   /         |         \    .    .    /         |         \ //
 427:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |         |          ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|         |
 428:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // One Pixel: |         |<--- One FPD-Link Pixel Cycle --->|
 429:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |                                  |
 430:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // "Blue/DVH" |____ ____v____ ____ ____v____ ____|____ ____
 431:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  RXin2:    X B3 X B2 X DE X /V X /H X B5 X B4 X B3 X B2 X ...
 432:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯|¯¯¯¯ ¯¯¯¯
 433:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |         |<--Not Blue-->|         |
 434:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |                                  |
 435:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // "Green"    |____ ____v____ ____v____ ____ ____|____ ____
 436:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  RXin1:    X G2 X G1 X B1 X B0 X G5 X G4 X G3 X G2 X G1 X ...
 437:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ ¯¯¯¯ 
 438:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |         |<------->|-Not Green    |
 439:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 440:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // "Red"      |____ ____v____v____ ____ ____ ____|____ ____
 441:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  RXin0:    X R1 X R0 X G0 X R5 X R4 X R3 X R2 X R1 X R0 X ...
 442:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |¯¯¯¯ ¯¯¯¯^¯¯¯¯^¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯
 443:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |         |<-->|-Not Red
 444:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 445:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Of course: The "Not Green/Red" bits above are least-significant-bits
 446:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              and basically have little/no visible effect
 447:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 448:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 449:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Implementations/prospects:
 450:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  * rowBuffer.c (more like row-settings-buffer)
 451:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     calculate a row's worth of pixels before drawing that row
 452:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     (uses packed color settings in a single byte per drawable pixel)
 453:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     64 drawable pixels across, regardless of LVDS speed
 454:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  * For faster pixels: these settings values could be stored 
 455:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     in individual bytes. Gives about 1/3 more pixels at 3x the memory
 456:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     (not implemented)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 132


 457:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  * rowSegBuffer.c
 458:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     also calculates an entire row before drawing it
 459:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     instead of storing pixels, store "segments"
 460:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     i.e. each segment is defined by a color value and a length
 461:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     Number of segments is limited only by memory...
 462:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      e.g. 64 segments per row (max) is 64*3Bytes
 463:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       Three bytes for color, and *really simple* packing for seg-length
 464:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      BUT: at slow LVDS speeds, the resolution of these segments could be
 465:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       as high as one LCD pixel.
 466:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      possibly: at *really* low LVDS speeds we could be 64*2Bytes
 467:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      (with packing)
 468:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      Actually: Using GB_COMBINED gives 2Bytes per segment
 469:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      only adds two clock cycles to each "pixel", so probably worth it
 470:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 471:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   In Any Case: There's not enough RAM for a full frame
 472:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          64 pixels across * 64 pixels down is 4096 bytes
 473:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          So whatever method, we need to precalculate each row before
 474:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          displaying it
 475:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          Could be as simple as loading direct from program memory
 476:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 477:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 478:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Since low-bits are barely visible, their effect is neglected.
 479:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 480:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 481:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE/V/H Timing (LCDdirectLVDS):
 482:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  
 483:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 484:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |  0   1    2    3    4    5    6       All: set @ 0
 485:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            |____.____.____.____                         OCR1C = 6 
 486:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Clock:    /                   \    .    .    /         Complementary-
 487:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                                 ¯¯¯¯ ¯¯¯¯ ¯¯¯¯          Output Mode
 488:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                                                          required for DT
 489:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Signal:    B3   B2   DE   /V   /H   B5   B4 | B3
 490:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ____ ____ ____ ____ ____ ____ ____|____    
 491:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   DE:      X B3 X B2 /    .    .    \ B5 X B4 X B3 X    
 492:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   state2    ¯¯¯¯ ¯¯¯¯                ¯¯¯¯ ¯¯¯¯|¯¯¯¯    
 493:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   DE_BLUE: >¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|    DT=X, OCR=0
 494:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                         Watch the transition!! -------^
 495:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   DE_NORM: >_________/¯¯¯¯¯¯¯¯¯¯¯¯¯¯\_________|    DT=2, OCR=4
 496:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   DC_DISABLED:
 497:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   maxBlue: >¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯\____|		DT=0, OCR=5
 498:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             See below for more blue settings...
 499:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 500:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ____ ____      ____      ____ ____|____ 
 501:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H (only): X xx X xx \    /    \    / xx X xx X xx X    
 502:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   state1    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯      ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ 
 503:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >______________/¯¯¯¯\______________|    DT=3, OCR=3
 504:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  DC_DISABLED:
 505:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Not much can be done...
 506:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 507:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ____ ____           ____ ____ ____|____ 
 508:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V w/o H:  X xx X xx \    .    /    \ xx X xx X xx X
 509:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   state3    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯      ¯¯¯¯ ¯¯¯¯|¯¯¯¯
 510:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >___________________/¯¯¯¯\_________|    DT=4, OCR=4 (+?)
 511:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DC_DISABLED:
 512:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >___________________/¯¯¯¯¯¯¯¯¯\____|		DT=4, OCR=5
 513:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 133


 514:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ____ ____                ____ ____|____ 
 515:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V w/ H:   X xx X xx \    .    .    / xx X xx X xx X
 516:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   state4    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯ ¯¯¯¯|¯¯¯¯ 
 517:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >__________________________________|    DT=X, OCR=0
 518:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                             TransitionWatch!!! -------^
 519:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                             Shouldn't matter... DT from no-edge
 520:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DC_DISABLED:
 521:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >¯¯¯¯¯¯¯¯¯\________________________|		DT=0, OCR=1
 522:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 523:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ____ ____      ____ ____ ____ ____|____ 
 524:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Nada:     X xx X xx \    /    .    \ xx X xx X xx X    
 525:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   state0    ¯¯¯¯ ¯¯¯¯ ¯¯¯¯           ¯¯¯¯ ¯¯¯¯|¯¯¯¯     
 526:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >______________/¯¯¯¯¯¯¯¯¯\_________|    DT=3, OCR=4 (+?)
 527:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DC_DISABLED:
 528:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //            >______________/¯¯¯¯¯¯¯¯¯¯¯¯¯¯\____|		DT=3, OCR=5
 529:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 530:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //So far this is the only case I've seen:
 531:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // /Vsync
 532:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef VSYNC_ACTIVE
 533:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define VSYNC_ACTIVE		0
 534:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 535:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef VSYNC_INACTIVE
 536:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define VSYNC_INACTIVE	1
 537:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 538:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // /Hsync
 539:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef HSYNC_ACTIVE
 540:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define HSYNC_ACTIVE		0
 541:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 542:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef HSYNC_INACTIVE
 543:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define HSYNC_INACTIVE	1
 544:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 545:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE (active high)
 546:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef DE_ACTIVE
 547:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DE_ACTIVE			1
 548:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 549:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef DE_INACTIVE
 550:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DE_INACTIVE		0
 551:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 552:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 553:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // HERE!
 554:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 555:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 556:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 557:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 558:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Transitions: OLD!!!!! WRONG!!!!
 559:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (are they? There're several additional transitions, now, for one.)
 560:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  The idea is to reduce the number of instructions between each
 561:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  LVDS "state."
 562:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  These are implemented below in the case:
 563:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    "#else //NOT FULL_INIT_TESTS"
 564:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Since each instruction takes *longer than* a single pixel
 565:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    two instructions would *at best* occur on two consecutive pixels
 566:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    Thus, there's likely to be a transition-glitch
 567:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    (e.g. old OCR value with new DT value)
 568:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Note that the new DT values are implemented at the next corresponding
 569:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    edge after the DT-write instruction completes
 570:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    (for +OC1A/DT1H, when TCNT is reset to 0)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 134


 571:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    (for -OC1A/DT1L, when TCNT passes OCR1A)
 572:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    New OCR values are delayed until the next TCNT reset to 0
 573:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 574:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Initial:
 575:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Nada					DT=2  NADA_OCR = (3<=OCR<(=?)6)
 576:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 577:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Nada	->	H			OCR=2
 578:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H		->	Nada		OCR=NADA_OCR
 579:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  
 580:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Nada	->	V			DT=3
 581:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V		->	V+H		OCR=0
 582:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V+H	->	V			OCR=NADA_OCR
 583:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V		->	Nada		DT=2
 584:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 585:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Nada	->	DE			DT=1
 586:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  DE	->	Nada		DT=2
 587:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 588:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0
 589:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (defined(REMOVE_DC) && REMOVE_DC)
 590:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Nada_init()         { DT1=(3<<4); OCR1A=5; }
 591:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 592:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //Unused, normally...
 593:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Vsync_init()       { DT1=(4<<4);  OCR1A=5; }
 594:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define VplusH_init()      { DT1=0;       OCR1A=1; }
 595:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Hsync_init()       { DT1=(3<<4);  OCR1A=3; }
 596:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DEonly_init()      { DT1=(2<<4);  OCR1A=4; }
 597:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DEblue_init()		 { DT1=0;       OCR1A=5; }
 598:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 599:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else //!REMOVE_DC
 600:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Nada init
 601:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Nada_init()         { DT1=(3<<4); OCR1A=4; }
 602:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 603:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Unused, normally...
 604:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Vsync_init()			{ DT1=(4<<4);	OCR1A=4; }
 605:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define VplusH_init()		{ DT1=0;			OCR1A=0; }
 606:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Hsync_init()			{ DT1=(3<<4);	OCR1A=3; }
 607:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // #define DE_init()				{ DT1=(2<<4);	OCR1A=4; } //...SHOULD BE
 608:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DEonly_init()			{ DT1=(2<<4);  OCR1A=4; }
 609:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DEblue_init()			{ DT1=0;       OCR1A=6; }
 610:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define DE_init()				{ DT1=(1<<4);	OCR1A=2; } //Works with DE_ONLY
 611:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //#define DE_init()				{ DT1=0;			OCR1A=0xff; }	//DE_BLUE
 612:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif //REMOVE_DC
 613:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 614:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 615:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define FULL_INIT_TESTS TRUE
 616:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 617:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Display is DE-Only (doesn't use H/Vsync)
 618:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Shouldn't be necessary to select this if it is,
 619:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // since DE timing is the same either way
 620:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // but I want to test whether a single-bit is being detected
 621:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (e.g. maybe the rise/fall-times of the output aren't fast enough for a
 622:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  single bit, which might explain why the other display didn't work)
 623:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //These are just examples... the project should define them:
 624:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0
 625:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (defined(DE_ONLY_DISPLAY) && DE_ONLY_DISPLAY)
 626:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Vsync_fromNada()      Nada_init()
 627:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define VplusH_fromVsync()    Nada_init()
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 135


 628:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Vsync_fromVplusH()    Nada_init()
 629:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromVsync()      Nada_init()
 630:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Hsync_fromNada()      Nada_init()
 631:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromHsync()      Nada_init()
 632:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEonly_fromNada()     DE_init()
 633:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEblue_fromDEonly()	DE_init()
 634:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromDEblue()		Nada_init()
 635:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #if(DE_BLUE)
 636:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "DE_BLUE is true, but not implemented with DE_ONLY_DISPLAY"
 637:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "...The display should be blank"
 638:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #endif
 639:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Use full initialization of each LVDS state
 640:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (might not be good during transitions, but should guarantee
 641:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  steady-state, in case my transitions aren't correct...)
 642:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (defined(FULL_INIT_TESTS) && FULL_INIT_TESTS)
 643:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Vsync_fromNada()		Vsync_init()
 644:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define VplusH_fromVsync()		VplusH_init()
 645:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Vsync_fromVplusH()		Vsync_init()
 646:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromVsync()		Nada_init()
 647:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Hsync_fromNada()		Hsync_init()
 648:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromHsync()		Nada_init()
 649:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEonly_fromNada()		DEonly_init()
 650:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEblue_fromDEonly()	DEblue_init()
 651:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromDEonly()		Nada_init()
 652:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromDEblue()		Nada_init()
 653:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 654:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 655:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else	//NOT FULL_INIT_TESTS
 656:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define Vsync_fromNada()   { DT1=(4<<4); }
 657:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Vsync_fromNada()   { DT1=(4<<4); OCR1A=5; } //Leave two bits high
 658:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 																	 //for easy-scoping
 659:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 						//Three would be nicer, but I'm pretty sure OCR=TOP=ON
 660:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define VplusH_fromVsync() { OCR1A=0; }
 661:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define Vsync_fromVplusH() { OCR1A=4; }
 662:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Vsync_fromVplusH() { OCR1A=5; }				//Extra bits for scoping
 663:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define Nada_fromVsync()   { DT1=(3<<4); }
 664:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromVsync()   { DT1=(3<<4); OCR1A=4; } //scoping...
 665:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Hsync_fromNada()   { OCR1A=3; }
 666:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromHsync()   { OCR1A=4; }
 667:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 668:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromDEblue()	{ DT1=(3<<4); OCR1A=4; }
 669:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define Nada_fromDEonly()	{ DT1=(3<<4); }
 670:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEonly_fromNada()	{ DT1=(2<<4); }
 671:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEblue_fromNada()	{ OCR1A=0xff; }
 672:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DEblue_fromDEonly() { OCR1A=0xff; }
 673:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 674:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif //End Of FULL_INIT_TESTS
 675:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 676:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 677:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 678:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 679:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // The typical patterns look like this (not at all to scale):
 680:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   ----______------------------------------------------______-- V
 681:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ....
 682:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      --_--_--_--_--_--_--_--_--_--_--_--_--_--_--_--_--_--_--_--_ H
 683:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ....
 684:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      __________-__-__-__-__-__-__-__-__-__-__________________  DE
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 136


 685:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 
 686:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             ^^^^\														//blah
 687:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //             1234 5?
 688:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Pixels are sent during DE High (basically all the CPU will be used here)
 689:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Ideally, 
 690:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  there won't be any glitches when changing from one state to another
 691:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 692:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Init (pre 1):
 693:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    DeadTimerRising=1
 694:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 695:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  The states are:
 696:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (Not necessarily accurate, just looking into necessary changes)
 697:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (from Vsync L->H)
 698:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 699:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   1  NothingActive (long, No DE, VporchFrontTimes)
 700:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 701:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   2  Hsync
 702:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 703:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   3  NothingActive (short)
 704:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 705:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   4  DE
 706:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 707:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   5  NothingActive(?)
 708:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 709:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   7  Repeat 2-5 for each row
 710:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 711:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   8  NothingActive (long, No DE, VporchBackTimes)
 712:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 713:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   9  V w/o H
 714:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 715:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   10 V w/  H
 716:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 717:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   11 Repeat 9-10 for Vsync time...
 718:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 719:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 720:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Here's how it worked pre-lvds:
 721:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // HSYNC, VSYNC, and DE refer to the actual pins
 722:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // In the LVDS setup, there're modes corresponding to each pin-combination
 723:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 724:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Timer Interrupt:
 725:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  loadData:
 726:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   HSYNC active
 727:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   HSYNC Low delay
 728:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   HSYNC inactive
 729:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   if(dataEnable)
 730:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    DE active
 731:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     Send row data
 732:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    DE inactive
 733:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  //Prep for next interrupt
 734:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  switch(hsyncCount++)
 735:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    //Vsync H->L (active)
 736:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    1:
 737:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          dataEnable=FALSE
 738:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          VSYNC active
 739:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    //Vsync L->H (inactive)
 740:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    T_Vlow:
 741:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          VSYNC inactive
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 137


 742:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    //Start of frame
 743:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    T_VD +(T_Vlow):
 744:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          dataEnable=TRUE
 745:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    //All rows have been displayed
 746:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    V_COUNT +(T_VD+T_Vlow):
 747:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          dataEnable=FALSE
 748:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    //Frame Complete
 749:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    T_DV +(V_COUNT+T_VD+T_Vlow): 
 750:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          hsyncCount=0
 751:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  if(dataEnable)
 752:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    Use the remaining time to load the next row to memory
 753:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 754:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  So:
 755:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Interrupt0       End
 756:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |  Interrupt1
 757:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v  v
 758:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 759:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___________________________________________________ ...
 760:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯|_____________________________________ ...
 761:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       |        ||
 762:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DETIME^--------^|
 763:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 |
 764:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 VSYNC active
 765:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 dataEnable=FALSE (not necessary?)
 766:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 767:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptT_Vlow   End
 768:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |
 769:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v
 770:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 771:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___________________________________________________ ...
 772:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V _____________|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ...
 773:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       |        ||
 774:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DETIME^--------^|
 775:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 |
 776:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 VSYNC inactive
 777:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 778:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 779:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptT_VD   End  InterruptT_VD+1
 780:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |  |            End
 781:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v  v            v
 782:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 783:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ____________________|¯¯¯¯¯¯¯¯|_______|¯¯¯¯¯¯¯¯|____ ...
 784:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 785:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       |        ||      |        |
 786:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DETIME^--------^|      ^--------^
 787:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 |
 788:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 dataEnable=TRUE
 789:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 790:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptV_COUNT  End
 791:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |
 792:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v
 793:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 794:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___|¯¯¯¯¯¯¯¯|______________________________________ ...
 795:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 796:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       |        ||      |        |
 797:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DETIME^--------^|      ^--------^
 798:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 |
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 138


 799:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 dataEnable=FALSE
 800:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 801:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 802:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This isn't really a state, it's basically just:
 803:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // if(hsyncCount == NUM_HYSYNCS_PER_FRAME)
 804:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    hsyncCount = 0;
 805:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    .....................................
 806:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    .                                   .
 807:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptT_DV   End .Interrupt0                         .
 808:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             | .|                                  .
 809:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v .v                                  .
 810:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 811:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___________________________________________________ .
 812:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|____________________ .
 813:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       |        ||  .   |        |                      .
 814:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DETIME^--------^|  .   ^--------^                      .
 815:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 |  .                                   .
 816:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                 hsyncCount=0 (repeat from Interrupt0)  .
 817:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    .                                   .
 818:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    .....................................
 819:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 820:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 821:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 822:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // THESE STATES ARE NO LONGER ACCURATE
 823:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // ESPECIALLY THIS FIRST STATE.
 824:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // V Front Porch originally (and in these drawings) occurred at the end
 825:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // of the frame...
 826:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // More logically, it now starts at the beginning of the frame
 827:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (Also removing this initial "glitch" of a single interrupt with
 828:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  NothingActive)
 829:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 830:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // THESE STATES ARE NO LONGER ACCURATE (a/o 0.30, for certain)
 831:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // NOW to compare with LVDS states:
 832:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 833:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Interrupt0       End
 834:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |  Interrupt1
 835:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v  v
 836:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 837:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___________________________________________________ ...
 838:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯|_____________________________________ ...
 839:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    ^ ^          ^   ^ ^
 840:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |   | |
 841:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |   | +--- V w/o H  \ These two toggle until
 842:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |   +----- V w/ H   / next LCD state...
 843:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |
 844:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          +--------- V w/o H > Intermediate change of state
 845:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |
 846:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | +----- NothingActive  \ From Previous State (?)
 847:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    +------- H_Only         /
 848:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 849:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 850:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptT_Vlow   End
 851:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |
 852:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v
 853:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 854:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___________________________________________________ ...
 855:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V _____________|¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ...
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 139


 856:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    ^ ^          ^   ^ ^
 857:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |   | |
 858:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |   | +--- NothingActive  \ These two toggle until
 859:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |   +----- H_Only         / next LCD state...
 860:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          |
 861:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |          +--------- NothingActive > Intermediate change of state
 862:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |
 863:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | +----- V w/o H   \ From previous state
 864:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    +------- V w/ H    /
 865:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 866:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 867:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptT_VD   End  InterruptT_VD+1
 868:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |  |            End
 869:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v  v            v
 870:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 871:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ____________________|¯¯¯¯¯¯¯¯|_______|¯¯¯¯¯¯¯¯|____ ...
 872:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 873:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    ^ ^              ^ ^^        ^ 
 874:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |              | ||        |
 875:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |              | ||        +--- NothingActive  \  These four
 876:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |              | |+------------ DE              | cycle until
 877:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |              | +------------- NothingActive   | next LCD state...
 878:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |              +--------------- H_Only  ^      /
 879:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |                                       |
 880:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | +----- NothingActive  \ From previous   |
 881:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    +------- H_Only         / state           +-This intermediate state
 882:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                                                may not be necessary
 883:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                                                (IAXG01 shows 160 dots!)
 884:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 885:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 886:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 887:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptV_COUNT  End
 888:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             |
 889:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v
 890:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 891:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___|¯¯¯¯¯¯¯¯|______________________________________ ...
 892:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 893:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    ^ ^^        ^    ^ ^
 894:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | ||        |    | |
 895:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | ||        |    | +--- NothingActive \  These two toggle
 896:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | ||        |    +----- H_Only        /  until next LCD state
 897:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | ||        |
 898:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | ||        +---- NothingActive \ 								//blah
 899:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |+------------- DE             |  From previous state
 900:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | +-------------- NothingActive  |
 901:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    +---------------- H_Only        /
 902:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 903:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This isn't really a state, it's essentially just:
 904:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  if(hsyncCount == NUM_HSYNCS_PER_FRAME)
 905:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    hsyncCount = 0;
 906:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    .....................................
 907:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    .                                   .
 908:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //InterruptT_DV   End .Interrupt0                         .
 909:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    |             | .|                                  .
 910:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    v             v .v                                  .
 911:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H |_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯|_|¯¯¯¯¯¯¯¯¯¯¯¯¯¯
 912:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE ___________________________________________________ .
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 140


 913:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯|____________________ .
 914:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    ^ ^             .                                   .
 915:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | |             .....................................
 916:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    | +--- NothingActive \											//blah
 917:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    +----- H_Only        / From previous state...
 918:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 919:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 920:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 921:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  LVDS State transitions:
 922:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   1 H_Only
 923:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   2 NothingActive
 924:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 925:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   3 V w/o H
 926:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   4 V w/ H
 927:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    
 928:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (repeat 3,4)
 929:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 930:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   5 V w/o H
 931:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 932:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   6 NothingActive
 933:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   7 H_Only
 934:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 935:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (repeat 6,7)
 936:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 937:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   8 NothingActive
 938:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 939:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   9 H_Only
 940:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  10 NothingActive
 941:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  11 DE
 942:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  12 NothingActive
 943:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 944:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (repeat 9-12)
 945:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 946:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  13 H_Only
 947:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  14 NothingActive
 948:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 949:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (repeat 13-14)
 950:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 951:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   These should be reviewed to determine which changes are necessary
 952:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   between each state...
 953:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (the fewer changes, the less likely we'll glitch...?)
 954:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 955:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 956:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void lcd_Init(void)
 957:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
 3723               		.stabn	68,0,957,.LM311-.LFBB15
 3724               	.LM311:
 3725               	.LFBB15:
 3726               	/* prologue: function */
 3727               	/* frame size = 0 */
 958:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  	Nada_init();
 3728               		.stabn	68,0,958,.LM312-.LFBB15
 3729               	.LM312:
 3730 0f4e 80E3      		ldi r24,lo8(48)
 3731 0f50 84BD      		out 68-0x20,r24
 3732 0f52 84E0      		ldi r24,lo8(4)
 3733 0f54 8DBD      		out 77-0x20,r24
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 141


 3734               	/* epilogue start */
 959:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
 3735               		.stabn	68,0,959,.LM313-.LFBB15
 3736               	.LM313:
 3737 0f56 0895      		ret
 3738               		.size	lcd_Init, .-lcd_Init
 3739               	.Lscope15:
 3740               		.stabs	"",36,0,0,.Lscope15-.LFBB15
 3741               		.stabd	78,0,0
 3742               		.stabs	"updateLCD:F(3,2)",36,0,1251,updateLCD
 3743               	.global	updateLCD
 3744               		.type	updateLCD, @function
 3745               	updateLCD:
 3746               		.stabd	46,0,0
 960:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 961:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 962:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define TESTVALS	0
 963:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define LTN 1
 964:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define IDT 2
 965:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 966:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 967:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //TIMING:
 968:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Measurements below (in microseconds) are referring to preLVDS
 969:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  There may be other such old-notes...
 970:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 971:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 972:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        |<--T_Hhigh-->| |<-T_Hlow
 973:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    __   _____________   ____________  3.6V
 974:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // H    |_|             |_|           _  0V
 975:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 976:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    Data Enable
 977:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       Only active when there's valid pixel data
 978:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       (For a dual-pixel 1024x768 display:
 979:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //         for 512 of the 717 clocks in HSYNC-active)
 980:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       Low during Vsync... (~720us)
 981:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
 982:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 983:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //IDTech display: 136 dots
 984:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //2-136+
 985:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //IDTech, last used: 40
 986:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //LTN Last used 8
 987:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LTN: 1072<=1344<=1500 clocks per line, 1024DE... Hsync unused
 988:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // SEE Hlow_Delay() notes if this value is large!
 989:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
 990:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef H_LOW_DOTS
 991:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
 992:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define H_LOW_DOTS	8
 993:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
 994:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define H_LOW_DOTS   40//8//1//40 //30 //2//136
 995:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
 996:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define H_LOW_DOTS	100//0 //LTN doesn't use H_LOW (DE-only)
 997:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 							  // And having a value here increases codesize
 998:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
 999:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1000:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1001:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //H is set low immediately upon entry of the timer interrupt
1002:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // its low-time is controlled via nops
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 142


1003:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (so if HLow is long for a particular display, this might need revising)
1004:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1005:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if((!defined(HLOW_DELAY_OVERRIDE) || !HLOW_DELAY_OVERRIDE) \
1006:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		                                         && !defined(Hlow_Delay))
1007:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define Hlow_Delay() \
1008:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	delay_Dots(H_LOW_DOTS)
1009:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1010:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1011:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1012:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1013:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1014:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //This was found expermentally with SwitchResX
1015:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //IDTech Last Used: 680
1016:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (IDTech had some oddities regarding slow pixel-clocks, where pixels
1017:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  would be repeated, regardless of the pixel-clock, thus, for slow clocks
1018:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  it has the effect of *stretching* the image, thus 680 "pixels" across
1019:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  instead of its 1024 *physical* pixels)
1020:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //LTN last used 1024
1021:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Oddly: For the LTN, this doesn't seem to affect the horizontal
1022:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //        it does, however, affect the vertical(!)
1023:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // If I recall Correctly, this is used only for setting the timer interrupt
1024:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  rate...
1025:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1026:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DE_ACTIVE_DOTS	1024
1027:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1028:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DE_ACTIVE_DOTS	680 //1024 //800 //920 //943 //812 //472 //1024
1029:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1030:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DE_ACTIVE_DOTS	1024
1031:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1032:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1033:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1034:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Horizontal Blank Time: HD_DOTS + H_LOW + DH_DOTS
1035:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  90-320+
1036:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Horizontal Total Time: 1206<=1344<=2047
1037:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // ... but Total = Blank + Pixels, so 90+1024 != 1206
1038:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Excess waits should be thrown in DH (since that's between interrupts)
1039:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //T_HD is the time from H inactivated to DE activated
1040:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //aka H back-porch: 1-160+
1041:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //IDTech Last Used: 50
1042:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //LTN last used 5
1043:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1044:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef HD_DOTS
1045:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1046:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define HD_DOTS 5
1047:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1048:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define HD_DOTS	50 //5 //0//20//5 //50 //30 //1 //160
1049:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1050:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define HD_DOTS 50//5
1051:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1052:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1053:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1054:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef HD_Delay
1055:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define HD_Delay()	delay_Dots(HD_DOTS)
1056:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1057:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1058:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // I think this was just a mistake. This change to delay_Dots a/o 0.10ncf
1059:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (untested in LCDdirectLVDS)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 143


1060:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //delay_cyc(HD_DOTS)
1061:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1062:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1063:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This is the number of CPU cycles between DE->L and Horiz->L
1064:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This is just used in calculating the OCR value...
1065:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // aka H Front Porch: 0-24+
1066:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IDTech Last Used: 24
1067:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LTN last used 46
1068:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // 1072-1024-1-1 = 46
1069:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef DH_DOTS
1070:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1071:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DH_DOTS	46
1072:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1073:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DH_DOTS	24 //46 //480//6//12//24 //46 //24 //122//30 //0 //24
1074:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1075:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define DH_DOTS	0//1000//100//46
1076:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1077:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1078:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1079:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       |
1080:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       v
1081:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      T_DH
1082:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      ||    |<-T_DE->|  |  |<--T_HD (Hsync->DE)
1083:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // H   __.  ____________  .___________
1084:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      .|_|  .        .|_|  .
1085:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     _.     .________.     .___________
1086:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE   |_____| 512clk |_____|
1087:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //      ^              ^
1088:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //       \___________   \                        (just avoiding \ warning)
1089:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                   \  |     768 Hsyncs
1090:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                    v v
1091:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     _             _ _ _ _ _ _ _ _ _ _ 
1092:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE   |___________| | | | | | | | | | |______
1093:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
1094:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // one Hsync = T_HD+T_DH+T_Hlow+T_DE = 19.865us
1095:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1096:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //aka V-sync back porch: 7-29-63 "Vbp should be static"
1097:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IDTech Last Used: 29
1098:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LTN last used 3
1099:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //LTN Frame: 772<=806<=1000 lines...
1100:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1101:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef T_VD
1102:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1103:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_VD 3
1104:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1105:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define  T_VD 29 //3//29 //7 //29
1106:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1107:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_VD 3
1108:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1109:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1110:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1111:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //aka V-sync front porch: 1-3+
1112:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IDTech Last Used: 3
1113:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LTN last used 3
1114:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef T_DV
1115:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1116:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_DV 3
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 144


1117:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1118:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_DV 3//3 //1 //3
1119:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1120:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_DV 3
1121:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1122:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1123:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1124:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //1-6+ (1 is used by the first switch-case...)
1125:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IDTech Last Used: 6
1126:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // LTN Last used 16
1127:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // 772 - 768 - 1 - 1 = 2
1128:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef T_Vlow
1129:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1130:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_Vlow 16
1131:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1132:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_Vlow	6 //16//6 //2 //6
1133:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1134:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define T_Vlow 32
1135:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1136:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1137:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1138:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // IDTech Last Used: 768
1139:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #ifndef V_COUNT
1140:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (DISPLAY == LTN)
1141:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define V_COUNT	768
1142:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == IDT)
1143:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define V_COUNT	768
1144:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif (DISPLAY == TESTVALS)
1145:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // #if (LVDS_PRESCALER == 8)
1146:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define V_COUNT 768
1147:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // #else
1148:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  #define V_COUNT	(768*2/3)
1149:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // #endif
1150:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1151:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1152:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1153:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                       
1154:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                      |           
1155:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                      V           
1156:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              |<-T_DV>|           |<-T_VD-->|
1157:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              .       .           .         .
1158:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     _____________||__.   124us   .____||___________________
1159:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V           .   ||  |___________|    ||   .
1160:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     _ _ _ _ _ _ _|| _ _ _ _ _ _ _ _ _ ||_ _ _ _ _ _ _ _ _ _ _
1161:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H   | | | | | | ||| | | | | | | | | ||| | | | | | | | | | |
1162:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //              .   ||                   ||   .
1163:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     _ _ _ _ _.   ||       720us       ||   ._ _ _ _ _ _ _ _ _
1164:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE   | | | | |___||___________________||___| | | | | | | | |
1165:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                  ||                   ||
1166:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
1167:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                        1
1168:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                        |
1169:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                        v               
1170:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     _________________   ___________________   _____________
1171:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  V                   |_|                   |_|
1172:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  H  |||||||||||||||||||||||||||||||||||||||||||||||||||||||
1173:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE  ||||||||||||||||_____|||||||||||||||||_____||||||||||||
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 145


1174:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                          ^
1175:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                          |
1176:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //                          2
1177:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1178:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1179:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1180:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define HSYNC_COUNT_FRAME_COMPLETE  \
1181:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	(T_DV +(V_COUNT+T_VD+T_Vlow) + FRAME_UPDATE_DELAY)
1182:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // T_DV = 3
1183:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // V_COUNT = 768 
1184:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // T_VD = 3
1185:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // T_Vlow = 32
1186:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // FRAME_UPDATE_DELAY = 0
1187:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // TOTAL = 806
1188:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1189:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(FRAME_UPDATE_DELAY != 0)
1190:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #error "FRAME_UPDATE_DELAY is no longer implemented..."
1191:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1192:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1193:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1194:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#if(HSYNC_COUNT_FRAME_COMPLETE & 0x01)
1195:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // #warning "Total vertical lines might need to be even!"
1196:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //This should be fixed...
1197:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#endif
1198:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1199:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1200:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DOT_COUNT_PER_HSYNC \
1201:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	(H_LOW_DOTS + HD_DOTS + DE_ACTIVE_DOTS + DH_DOTS)
1202:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // H_LOW_DOTS = 100
1203:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // HD_DOTS = 50 
1204:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DE_ACTIVE_DOTS = 1024
1205:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DH_DOTS = 0
1206:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // TOTAL = 1174
1207:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1208:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1209:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define MAKELONG (0L)
1210:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1211:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DOT_COUNT_PER_FRAME \
1212:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  ((MAKELONG(HSYNC_COUNT_FRAME_COMPLETE)) * (MAKELONG(DOT_COUNT_PER_HSYNC)))
1213:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // TOTAL = 946,244
1214:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1215:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Hlow_Delay 		H_LOW_DOTS
1216:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //HD_Delay			HD_DOTS	
1217:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //DE_ACTIVE_DOTS
1218:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //DH_DOTS
1219:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1220:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1221:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1222:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ \
1223:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void loadData(uint16_t rowNum, uint8_t dataEnable) \
1224:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	  __attribute__((__always_inline__));
1225:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1226:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1227:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** uint8_t dataEnable = 0;
1228:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** uint8_t vSync = 0;
1229:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** uint16_t hsyncCount = 0;
1230:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 146


1231:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //frameCount=0 can be used in main to detect whether we've completed a 
1232:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  a frame AND its FRAME_UPDATE_DELAY
1233:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (defined(FRAME_COUNT_TO_DELAY) && (FRAME_COUNT_TO_DELAY != 0))
1234:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** uint8_t frameCount = 0;
1235:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1236:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1237:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** /*
1238:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ \
1239:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void loadRow(uint16_t rowNum) \
1240:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	__attribute__((__always_inline__));
1241:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** */
1242:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1243:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Returns TRUE when the frame is complete
1244:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Should send nada (and maybe hsyncs?) thereafter(?)
1245:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // In sdramThing2.0, when this returns TRUE, the SDRAM loading is complete
1246:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // EXCEPT: the final HD_Dots' FR_READ/ACTIVATE commands will point to a
1247:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  non-existent "next" Hsync... these commands need to be rewritten to
1248:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  point to the "first" Hsync. This is handled in sdramThing2.0's code
1249:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Used to be:
1250:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //SIGNAL(TIMER0_COMPA_vect)
1251:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** uint8_t updateLCD(void)
1252:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
 3747               		.stabn	68,0,1252,.LM314-.LFBB16
 3748               	.LM314:
 3749               	.LFBB16:
 3750               	/* prologue: function */
 3751               	/* frame size = 0 */
1253:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	uint8_t frameComplete = FALSE;
1254:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1255:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//static uint8_t frameCount = 0;
1256:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1257:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0 // (defined(SLOW_EVERYTHING_TEST) && SLOW_EVERYTHING_TEST)
1258:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	while(TCNT0L != 7){};
1259:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//This won't work... who knows how many cycles interrupt-entry will be
1260:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//Above should fix that...
1261:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//I think this was just an indicator for scope triggering...
1262:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// not relevent for 
1263:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	setpinPORT(PB2, PORTB);
1264:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	clrpinPORT(PB2, PORTB);
1265:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1266:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1267:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//Hsync and Actually draw the pixels... (when DE is active)
1268:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// This takes a LONG time and will occupy most of the CPU...
1269:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//  ... IN THIS INTERRUPT
1270:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//loadData(((hsyncCount-T_VD-T_Vlow)>>3)&31, dataEnable,colorOverride);
1271:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	loadData(hsyncCount-T_DV-T_VD-T_Vlow, dataEnable);
 3752               		.stabn	68,0,1271,.LM315-.LFBB16
 3753               	.LM315:
 3754 0f58 8091 0000 		lds r24,hsyncCount
 3755 0f5c 9091 0000 		lds r25,(hsyncCount)+1
 3756 0f60 4091 0000 		lds r20,dataEnable
 3757               	.LBB220:
 3758               	.LBB221:
1272:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1273:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	hsyncCount++;
1274:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1275:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	switch(hsyncCount)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 147


1276:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	{
1277:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//V Front Porch, begins with initLCD
1278:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1279:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Vsync H->L (Begin V-Sync)
1280:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		case T_DV:
1281:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			dataEnable = FALSE;
1282:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			//clrpinPORT(VSYNC_PIN, VSYNC_PORT);
1283:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			vSync = TRUE;
1284:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			Vsync_fromNada();
1285:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			break;
1286:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Vsync L->H (Begin V Back Porch)
1287:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		case T_Vlow + T_DV:
1288:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//	if(hfm_nextOutput(&modulator))
1289:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//		colorOverride = 0xff;
1290:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//	else
1291:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//		colorOverride = 7;
1292:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			//setpinPORT(VSYNC_PIN, VSYNC_PORT);
1293:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			vSync = FALSE;
1294:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			Nada_fromVsync();
1295:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			break;
1296:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Start of frame (DE active)
1297:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		case T_VD +(T_Vlow + T_DV):
1298:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			dataEnable = TRUE;
1299:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			break;
1300:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// All rows have been displayed
1301:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// Return to V Front Porch
1302:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		case V_COUNT +(T_VD + T_Vlow + T_DV):
1303:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			dataEnable = FALSE;
1304:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//	break;
1305:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Frame complete
1306:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//case HSYNC_COUNT_FRAME_COMPLETE:
1307:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			//T_DV +(V_COUNT+T_VD+T_Vlow) + FRAME_UPDATE_DELAY:
1308:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			hsyncCount = 0;
1309:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0 //(FRAME_COUNT_TO_DELAY != 0)
1310:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			//static uint8_t frameCount = 0;
1311:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			frameCount++;
1312:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			if(frameCount == FRAME_COUNT_TO_DELAY)
1313:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			{
1314:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 				frameCount = 0;
1315:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 				timer_compareMatchIntSetup(0, OUT_CHANNELA, FALSE);
1316:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 				//timer_compareMatchIntDisable(0, OUT_CHANNELA);
1317:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			}
1318:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1319:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			
1320:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#warning "NewNote: WTF, are we relying on loadData to have properly set the mode?"
1321:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Yeah, guess that makes sense... Must be Nada...
1322:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			frameComplete = TRUE;
1323:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			break;
1324:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		default:
1325:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			break;
1326:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	}
1327:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1328:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1329:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0 // (defined(LOADROW) && LOADROW)
1330:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//Load the next row into the row(seg)buffer
1331:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//data is enabled after T_VD+T_Vlow...
1332:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	if((hsyncCount >= T_VD+T_Vlow) && (hsyncCount < T_VD+T_Vlow+V_COUNT))
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 148


1333:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		loadRow(hsyncCount - (T_VD+T_Vlow));
1334:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1335:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1336:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//This note was written long before the above was commented-out...
1337:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//So...?
1338:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// Here is where loadRow used to be called
1339:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// it has been moved to oldNotes.txt, but it would make more sense
1340:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// to look at LCDdirectLVDS <25 or LCDdirect
1341:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// loadRow used the time between DE inactive and the next Hsync
1342:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// to load a row to a row-buffer (as opposed to a frame-buffer)
1343:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// thus, DE could gain more pixels because there would be fewer
1344:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// calculations to determine the memory location to write from
1345:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// This effect has since been minimized
1346:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// BUT loadRow might be necessary for program-memory-based images...
1347:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1348:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	return frameComplete;
1349:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1350:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1351:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1352:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //See LCDdirectLVDS for an example...
1353:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // basically it loads a single row into a buffer for the next dateEnable
1354:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  (either the row-buffer or the row-segment-buffer) 
1355:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This has been *greatly* reduced, is not at all functional, just
1356:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // to give an idea of loadRow's purpose.
1357:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0 //(defined(LOADROW) && LOADROW)
1358:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void loadRow(uint16_t rowNum)
1359:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1360:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//e.g....
1361:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	tet_drawRow(rbRowNum, rowBuffer);
1362:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	
1363:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//and...	
1364:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	rowBuffer[i] = fb_to_rb(colorVal);
1365:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	
1366:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//and...
1367:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	if((rbRowNum >= SMILE_TOP_ROW) &&
1368:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			(rbRowNum < (SMILE_HEIGHT+SMILE_TOP_ROW)))
1369:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	{
1370:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			for(i=0; i<FB_WIDTH; i++)
1371:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			{
1372:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****          	temp=pgm_readImageByte(pimage, rbRowNum-SMILE_TOP_ROW, i);
1373:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 				if(!(temp & 0xC0))
1374:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 					rowBuffer[i+SMILE_SHIFT] = fb_to_rb(temp);
1375:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			}
1376:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	}
1377:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1378:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	life_drawRow(rbRowNum, &(rowBuffer[RB_WIDTH-LIFE_WIDTH]));
1379:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1380:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//HORIZONTAL_COLOR_BARS
1381:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	for(i=0; i<RB_WIDTH; i++)
1382:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		rowBuffer[i] = fb_to_rb(rowNum);
1383:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1384:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//Good for syncing to have white on both borders...
1385:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	newSeg(1, 0x06, (6<<4) | 3);
1386:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	
1387:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1388:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif //LOAD_ROW
1389:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 149


1390:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1391:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Including inactive pixel-clocks (timing)
1392:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // DotCount per row...
1393:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  TOTAL_CYC_COUNT was used for the timer-interrupt in LCDdirectLVDS
1394:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  This was DOTS_TO_CYC(DISPLAY_DOT_COUNT) + ROW_CALCULATION_CYCS
1395:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  ROW_CALCULATION_CYCS was 50,000 (!!!)
1396:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   DOTS_TO_CYC(dots), last-used, was dots*7 (LVDS_PRESCALER nullified /8)
1397:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   So, the overall dot-count per row was... 
1398:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     DISPLAY_DOT_COUNT + ROW_CALCULATION_DOTS
1399:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     where ROW_CALCULATION_DOTS = 50,000cyc/7 = 7142 dots
1400:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //     So... the overall dot-count per row was *MUCH* longer than usual
1401:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  Pretty certain there's not nearly enough memory to simulate that
1402:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (in sdramThing2.0)
1403:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   But It does suggest that it would be worthwhile to try to stretch
1404:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   the rows as much as possible...
1405:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   During this time, NADA is sent normally, (V=H, H=H, DE=L)
1406:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //    Or Vsync (V=L, H=H, DE=L)
1407:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   Maybe something could be simulated with PWM again, if necessary...
1408:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //   (Certainly not at full-speed)
1409:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DISPLAY_DOT_COUNT \
1410:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	(H_LOW_DOTS + HD_DOTS + DE_ACTIVE_DOTS + DH_DOTS)
1411:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1412:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0
1413:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1414:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define T_Hlow_CYC 1//8 //(T_Halow_REAL*3)
1415:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define T_Hlow_CYC DOTS_TO_CYC(H_LOW_DOTS)
1416:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1417:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define T_DE_CYC	DOTS_TO_CYC(DE_ACTIVE_DOTS)
1418:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1419:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define T_HD_CYC 1//3//(T_HD_REAL*3)
1420:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define T_HD_CYC	DOTS_TO_CYC(HD_DOTS)
1421:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1422:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define T_DH_CYC	DOTS_TO_CYC(DH_DOTS)
1423:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1424:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1425:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1426:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1427:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1428:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void init_timer0Hsync(void)
1429:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1430:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//T_HD + T_DH + T_low + T_DE
1431:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// For the original system, 19.865us = 695 dot-clocks
1432:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// We'd need to take advantage of the 16-bit timer
1433:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//  OCR1A may not be written properly (with a temporary high-byte)
1434:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//  ... not sure.
1435:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// TIMER0 DOES NOT HAVE CTC MODE in 16-bit mode
1436:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1437:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This is a hack, for testing syncability with long row-calculations
1438:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // before actually drawing it... e.g. loading from program memory
1439:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This value needs to be larger than the calculation time
1440:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // otherwise, it seems, syncing isn't stable
1441:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // BUT THIS IS A HACK, has nothing to do with actual calculation time
1442:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // And for slow LVDS or whatnot, this may be unnecessarily HUGE
1443:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1444:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define DISPLAY_CYC_COUNT	(DOTS_TO_CYC(DISPLAY_DOT_COUNT))
1445:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //	(T_Hlow_CYC + T_HD_CYC + T_DE_CYC + T_DH_CYC)
1446:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 150


1447:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //NOTE that with longer ROW_CALCULATION_CYCS, lines can be repeated...
1448:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // apparently an effect of the display, definitely not a code-thing
1449:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // in which case the vertical resolution decreases
1450:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // though, this could be used to advantage... 
1451:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (e.g. more processing time outside the drawing interrupts?)
1452:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // NOTE that if the value is too small and calculations take longer in some
1453:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // lines than others (?), those lines may repeat, or syncing could be off
1454:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (LVDS_PRESCALER == 8)
1455:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //#define ROW_CALCULATION_DELAY 1//20
1456:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define ROW_CALCULATION_CYCS (50000) //0 //(70000) //(100000)
1457:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else
1458:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //#define ROW_CALCULATION_DELAY 9//7//5//2//1//10
1459:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define ROW_CALCULATION_CYCS	(8*DISPLAY_CYC_COUNT)
1460:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1461:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1462:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define TOTAL_CYC_COUNT \
1463:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	(ROW_CALCULATION_CYCS + DISPLAY_CYC_COUNT)
1464:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //	(ROW_CALCULATION_DELAY * (T_Hlow_CYC + T_HD_CYC + T_DE_CYC + T_DH_CYC))
1465:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //#define TOTAL_CYC_COUNT 2000
1466:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (TOTAL_CYC_COUNT > 255)
1467:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //Adding +7 causes it to round up (hopefully)
1468:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define TIMER0_TCNTS ((TOTAL_CYC_COUNT+7)/8)
1469:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define TIMER0_CLKDIV	CLKDIV8
1470:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #warning "TIMER0_TCNTS = (TOTAL_CYC_COUNT+7)/8: Timer0 CLKDIV8"
1471:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #if (TIMER0_TCNTS > 255)
1472:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "TIMER0_TCNTS = (TOTAL_CYC_COUNT+63)/64: Timer0 CLKDIV64"
1473:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_TCNTS ((TOTAL_CYC_COUNT+63)/64)
1474:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_CLKDIV CLKDIV64
1475:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #if (TIMER0_TCNTS > 255)
1476:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	 #warning "TIMER0_TCNTS = (TOTAL_CYC_COUNT+255)/256: Timer0 CLKDIV256"
1477:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	 #define TIMER0_TCNTS ((TOTAL_CYC_COUNT+255)/256)
1478:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	 #define TIMER0_CLKDIV CLKDIV256
1479:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	 #if (TIMER0_TCNTS > 255)
1480:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		#warning "TIMER0_TCNTS = (TOTAL_CYC_COUNT+1023)/1024: Timer0 CLKDIV1024"
1481:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		#define TIMER0_TCNTS ((TOTAL_CYC_COUNT+1023)/1024)
1482:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		#define TIMER0_CLKDIV	CLKDIV1024
1483:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	 #endif
1484:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #endif
1485:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #endif
1486:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #if (TIMER0_TCNTS == 0)
1487:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #error "TIMER0_OCRVAL == 0"
1488:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #endif
1489:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else
1490:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define TIMER0_TCNTS TOTAL_CYC_COUNT
1491:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define TIMER0_CLKDIV CLKDIV1
1492:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1493:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1494:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (defined(SLOW_EVERYTHING_TEST) && SLOW_EVERYTHING_TEST)
1495:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //For testing, I want to see the pulses with the 'scope
1496:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  // Unless the timer is divisible by 7 the pulses will not align with the
1497:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  // timer overflow...
1498:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //but shit... it's running at clkdiv8 so each TCNT is 64 bits!
1499:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  // but this shouldn't matter for visualizing, that's only ~10 pixel clocks
1500:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  // and we'll only start visualizing *after* the extra TCNTs...
1501:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  //Since the timer counts from 0 to (and including) OCR1A
1502:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  // Add one to this test...
1503:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #if (((TIMER0_TCNTS + 1) % 7) == 0)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 151


1504:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS + 1) % 7 == 0"
1505:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS"
1506:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS)
1507:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1508:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #elif (((TIMER0_TCNTS + 2) % 7) == 0)
1509:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS + 2) % 7 == 0"
1510:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS + 1"
1511:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS + 1)
1512:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1513:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #elif (((TIMER0_TCNTS + 3) % 7) == 0)
1514:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS + 3) % 7 == 0"
1515:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS + 2"
1516:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS + 2)
1517:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1518:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #elif (((TIMER0_TCNTS + 4) % 7) == 0)
1519:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS + 4) % 7 == 0"
1520:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS + 3"
1521:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS + 3)
1522:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1523:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #elif (((TIMER0_TCNTS + 5) % 7) == 0)
1524:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS + 5) % 7 == 0"
1525:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS + 4"
1526:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS + 4)
1527:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1528:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #elif (((TIMER0_TCNTS + 6) % 7) == 0)
1529:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS + 6) % 7 == 0"
1530:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS + 5"
1531:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS + 5)
1532:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1533:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #elif (((TIMER0_TCNTS) % 7) == 0)
1534:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "(TIMER0_TCNTS) % 7 == 0"
1535:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #warning "   so... TIMER0_OCRVAL = TIMER0_TCNTS - 1"
1536:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #define TIMER0_OCRVAL (TIMER0_TCNTS - 1)
1537:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1538:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #else
1539:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****   #error "WTF?"
1540:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #endif
1541:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else
1542:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #define TIMER0_OCRVAL (TIMER0_TCNTS-1)
1543:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1544:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1545:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (TIMER0_OCRVAL > 255)
1546:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #error "Despite all my efforts, TIMER0_OCRVAL is *still* > 255!"
1547:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1548:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1549:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    OCR0A = TIMER0_OCRVAL; //T_Hlow_CYC + T_HD_CYC + T_DE_CYC + T_DH_CYC;
1550:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	timer_setWGM(0, WGM_CLR_ON_COMPARE);
1551:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    timer_selectDivisor(0, TIMER0_CLKDIV); //CLKDIV1);
1552:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    timer_compareMatchIntEnable(0, OUT_CHANNELA);
1553:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1554:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1555:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #define fullBlue()	DEblue_init()
1556:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1557:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1558:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1559:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //Either use one of the ones here, or define your own...
1560:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // rowNum is the drawable row number on the LCD...
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 152


1561:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //static __inline__ void drawPix(uint16_t rowNum);
1562:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1563:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // This should have a uint16 rowNum!
1564:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // But, so far, the only cases which use all 768 rows are LCDdirectLVDS
1565:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // with RowSegBuffer, and sdramThing (how did this uint8_t thing not cause
1566:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // trouble there?!)
1567:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // RowSegBuffer doesn't pay attention to rowNum in drawPix...
1568:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1569:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1570:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ \
1571:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void drawPix(uint16_t rowNum) \
1572:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	  __attribute__((__always_inline__));
1573:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0
1574:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if (!defined(ROW_SEG_BUFFER) || !ROW_SEG_BUFFER)
1575:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //drawPix loads each pixel individually... It doesn't use a for-loop
1576:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // since that would take away from actual pixel-drawing time...
1577:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // I think it's been removed... but here's a (non-functional) example...
1578:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void drawPix(uint8_t rowNum)
1579:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1580:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	writeColor(*(color+1));	 
1581:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	writeColor(*(color+2));	 
1582:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	writeColor(*(color+3)); 
1583:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	...
1584:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	writeColor(*(color+61));
1585:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	writeColor(*(color+62));
1586:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	writeColor(*(color+63));
1587:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// WriteColor writes the pixel *after* the calculations...
1588:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// thus the pixel appears basically after writeColor completes
1589:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	// These nops assure the 64th pixel is fully-displayed before exitting
1590:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	asm("nop");
1591:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	...
1592:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	asm("nop");
1593:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1594:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** /*		reg[17] = colorBuffer[rowNum][17];                         
1595:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		writeColor(reg[17]);                         
1596:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		...
1597:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		reg[20] = colorBuffer[rowNum][20];                         
1598:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		writeColor(reg[20]);  
1599:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		
1600:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//REPEATING to fill screen... (delayDots = 342 worked prior to this)
1601:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		reg[0] = colorBuffer[rowNum][0];
1602:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		writeColor(reg[0]);
1603:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		...
1604:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		reg[10] = colorBuffer[rowNum][10];
1605:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		writeColor(reg[10]);
1606:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** */
1607:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Display the rest as black...
1608:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		writeColor(0);
1609:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1610:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else		//ROW_SEG_BUFFER
1611:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void drawPix(uint8_t rowNum)
1612:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1613:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
1614:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	         | (0<<COM1B1) | (1<<COM1B0)
1615:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	         | (1<<PWM1A) | (1<<PWM1B) );
1616:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1617:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** /* This bit was in loadData, just some notes, now...
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 153


1618:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1619:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  WTF, how did this work?! Am I not using drawPix?!
1620:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    Yes, but drawPix calls drawSegs, which doesn't have an argument
1621:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    because loadRow takes the row argument elsewhere, drawSegs just
1622:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    draws 'em
1623:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       //#warning "see 'shouldBe' here..."
1624:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       //Should be:
1625:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       rowNum = rowNum*FB_HEIGHT/V_COUNT;
1626:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       //rowNum = rowNum / (768/FB_HEIGHT);
1627:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1628:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	So, rowNum change left-over from the ol' FrameBuffer days had no effect
1629:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	on drawSegs.
1630:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** */
1631:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1632:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1633:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1634:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		drawSegs();
1635:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1636:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1637:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//DE->Nada transition expects fullBlue...
1638:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Also helps to show the edge of the DE timing...
1639:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1640:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//!!! Not sure what the state is at this point...
1641:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// could be any DE+Blue level, or could be NADA...
1642:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// Nada: DT1=3, still leaves one bit for clocking, might be OK
1643:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****          
1644:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Among the things that don't make sense...
1645:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// This appears to go into affect BEFORE delay_cyc (?)
1646:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// as, without a pull-up resistor on the /OC1B output, 
1647:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// green seems to be floating between the last pixel and the
1648:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// delay_cyc (!)
1649:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Disable complementary-output for Green 
1650:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//  (on /OC1B, where CLK is OC1B)
1651:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// Since Nada, V, and H DT's might be bad for clocking.
1652:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
1653:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****          | (1<<COM1B1) | (0<<COM1B0)
1654:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****          | (1<<PWM1A) | (1<<PWM1B) );
1655:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1656:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		fullBlue();
1657:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1658:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif //0
1659:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1660:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1661:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
1662:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //          G) groovy little spiral...
1663:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
1664:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1665:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0 //(defined(CLOCK_INSENSITIVITY_TESTING) && CLOCK_INSENSITIVITY_TESTING)
1666:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromNada();
1667:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Enable complementary-output for Green (on /OC1B, where CLK is OC1B)
1668:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
1669:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 				   | (0<<COM1B1) | (1<<COM1B0)
1670:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 					| (1<<PWM1A) | (1<<PWM1B) );
1671:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1672:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1673:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1674:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 154


1675:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1676:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1677:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1678:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1679:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1680:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1681:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** /* These are old tests from above, under if(dataEnable)
1682:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    They should all be implemented in lcdStuff.c, but have not been
1683:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    retested since...
1684:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_DIAG_BAR) && BLUE_DIAG_BAR)
1685:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       uint16_t blueCyc = DOTS_TO_CYC(rowNum);
1686:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       uint16_t notBlueCyc = DOTS_TO_CYC(DE_ACTIVE_DOTS)-blueCyc;
1687:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       
1688:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       DEonly_fromNada();
1689:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       delay_cyc(notBlueCyc);
1690:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       DEblue_fromDEonly();
1691:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       delay_cyc(blueCyc);
1692:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1693:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Nada_fromDEblue();
1694:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif(defined(BLUE_VERT_BAR) && BLUE_VERT_BAR)
1695:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       DEonly_fromNada();
1696:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS)/3);
1697:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       DEblue_fromDEonly();
1698:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS)*2/3);
1699:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Nada_fromDEblue();
1700:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #elif(defined(DE_BLUE) && DE_BLUE)
1701:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       DEblue_fromNada();
1702:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS));
1703:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Nada_fromDEblue();
1704:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else  //NOT BLUE_DIAG_BAR, BLUE_VERT_BAR, NOR DE_BLUE
1705:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #if ( defined(COLOR_BAR_SCROLL) && COLOR_BAR_SCROLL)
1706:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       if(rowNum <= 256)
1707:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****          rowNum=0;
1708:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       else
1709:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****          rowNum=1;
1710:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #else //NOT COLOR_BAR_SCROLL... drawPix...
1711:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** */
1712:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1713:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1714:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1715:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //a/o LCDdirectLVDS62:
1716:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // These BLUE_... tests are being reimplemented.
1717:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // They're *quite* handy for initial-testing of an untested display.
1718:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //
1719:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // Realistically, they should probably be less LVDS-specific
1720:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (non-LVDS displays needn't be coded with these transition-specific
1721:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // functions like DEonly_fromNada() or DEblue_fromDEonly(), and certainly
1722:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // needn't be limited to blue/black testing. LVDS displays contain their
1723:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // syncing signals on the same wire as the blue pixel-data, thus these
1724:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // tests...)
1725:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // In the long-run, maybe they should be moved to an lvdsLCD commonCode
1726:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // and the transition-specific code removed from here, but I've yet to
1727:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // explore this.
1728:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // For non-LVDS displays, these should still be pretty good tests, and
1729:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // implementing transition-specific functions shouldn't be too difficult...
1730:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // e.g. "#define DEonly_fromNada()    setpinPORT(DE_PIN, DE_PORT)"
1731:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // or   "#define DEblue_fromDEonly()  BLUE_PORT = 0xff"
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 155


1732:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (Actually, transition-specific functions make it faster regardless of
1733:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // the LVDS/non-LVDS nature of the display, as some things are redundant...
1734:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // e.g. if calls to DEonly_fromNada() were replaced with calls to DEonly(),
1735:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // it would require disabling H-sync and V-sync, in addition to enabling DE
1736:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // in every call. When we start getting into worrying about aligning pixels
1737:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // with the edge of the display and making them as skinny as possible, each
1738:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // cpu instruction counts.
1739:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // So, I guess, the only LVDS-specific stuff here is the blue-related
1740:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // transitions (and, more specifically, the fact that there are *only*
1741:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // blue-related transitions, as opposed to red and green)
1742:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1743:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //a/o sdramThing2.0v8 early... appears to be syncing on Blue signal
1744:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // thus we get diagonal data including Hsync (colored in red) along the
1745:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // as a diagonal stripe at the right
1746:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_DIAG_BAR) && BLUE_DIAG_BAR)
1747:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1748:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1749:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//uint16_t blueCyc = DOTS_TO_CYC(rowNum);
1750:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//uint16_t notBlueCyc = DOTS_TO_CYC(DE_ACTIVE_DOTS)-blueCyc;
1751:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		uint16_t blueDots = rowNum;
1752:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		uint16_t notBlueDots = DE_ACTIVE_DOTS - blueDots;
1753:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1754:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromNada();
1755:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(notBlueCyc);
1756:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(notBlueDots);
1757:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(notBlueDots);
1758:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromDEonly();
1759:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(blueCyc);
1760:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(blueDots);
1761:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(blueDots);
1762:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEblue();
1763:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1764:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1765:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1766:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1767:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //a/o LCDdirectLVDS62: This is the same as above, but scrolls vertically
1768:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // one line per refresh... so it's easy to calculate the refresh-rate
1769:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_DIAG_BAR_SCROLL) && BLUE_DIAG_BAR_SCROLL)
1770:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1771:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1772:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	static uint16_t rowOffset;
1773:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	if(rowNum == 0)
1774:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		rowOffset++;
1775:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//uint16_t blueCyc = DOTS_TO_CYC(rowNum);
1776:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//uint16_t notBlueCyc = DOTS_TO_CYC(DE_ACTIVE_DOTS)-blueCyc;
1777:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		uint16_t blueDots = (rowNum + rowOffset)%DE_ACTIVE_DOTS;
1778:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		uint16_t notBlueDots = DE_ACTIVE_DOTS - blueDots;
1779:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1780:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromNada();
1781:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(notBlueCyc);
1782:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(notBlueDots);
1783:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(notBlueDots);
1784:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromDEonly();
1785:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(blueCyc);
1786:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(blueDots);
1787:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(blueDots);
1788:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEblue();
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 156


1789:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1790:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1791:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1792:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1793:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1794:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //a/o LCDdirectLVDS62: This is the same as above, but alternates colors
1795:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //between each frame...
1796:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // (Careful, this one'll cause seizures!)
1797:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_DIAG_SCROLL_FLASH) && BLUE_DIAG_SCROLL_FLASH)
1798:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1799:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1800:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	static uint16_t rowOffset;
1801:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	if(rowNum == 0)
1802:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		rowOffset++;
1803:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//uint16_t blueCyc = DOTS_TO_CYC(rowNum);
1804:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//uint16_t notBlueCyc = DOTS_TO_CYC(DE_ACTIVE_DOTS)-blueCyc;
1805:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		uint16_t blueDots = (rowNum + rowOffset)%DE_ACTIVE_DOTS;
1806:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		uint16_t notBlueDots = DE_ACTIVE_DOTS - blueDots;
1807:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1808:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BDSF_ALTERNATE_ROWS) && BDSF_ALTERNATE_ROWS)
1809:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	if(rowNum&0x01)
1810:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #else
1811:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	if(rowOffset&0x01)
1812:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1813:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	{
1814:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromNada();
1815:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(notBlueCyc);
1816:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(notBlueDots);
1817:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(notBlueDots);
1818:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromDEonly();
1819:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(blueCyc);
1820:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(blueDots);
1821:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(blueDots);
1822:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEblue();
1823:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	}
1824:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	else
1825:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	{
1826:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromNada();
1827:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(notBlueCyc);
1828:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(notBlueDots);
1829:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(notBlueDots);
1830:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromDEblue();
1831:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(blueCyc);
1832:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(blueDots);
1833:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(blueDots);
1834:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEonly();
1835:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	}
1836:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1837:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1838:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1839:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1840:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //a/o sdramThing2.0v8-31ish: LooksPromising, but delayed
1841:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // also LVDS bit-shifts causing vertical striping
1842:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_VERT_BAR) && BLUE_VERT_BAR)
1843:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1844:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1845:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromNada();
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 157


1846:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS)/3);
1847:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(DE_ACTIVE_DOTS/3);
1848:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(DE_ACTIVE_DOTS/3);
1849:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromDEonly();
1850:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS)*2/3);
1851:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(DE_ACTIVE_DOTS - DE_ACTIVE_DOTS/3);
1852:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(DE_ACTIVE_DOTS - DE_ACTIVE_DOTS/3);
1853:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEblue();
1854:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1855:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1856:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1857:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //a/o sdramThing2.0v8-32 nogo... syncs at end of blue instead of Hsync
1858:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_VERT_BAR_REVERSED) && BLUE_VERT_BAR_REVERSED)
1859:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1860:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1861:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromNada();
1862:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS)/3);
1863:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(DE_ACTIVE_DOTS/3);
1864:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(DE_ACTIVE_DOTS/3);
1865:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromDEblue();
1866:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS)*2/3);
1867:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(DE_ACTIVE_DOTS - DE_ACTIVE_DOTS/3);
1868:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(DE_ACTIVE_DOTS - DE_ACTIVE_DOTS/3);
1869:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEonly();
1870:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1871:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1872:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1873:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1874:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(DE_BLUE) && DE_BLUE)
1875:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1876:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1877:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromNada();
1878:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_cyc(DOTS_TO_CYC(DE_ACTIVE_DOTS));
1879:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//delay_Dots(DE_ACTIVE_DOTS);
1880:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(DE_ACTIVE_DOTS);
1881:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEblue();
1882:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1883:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1884:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1885:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if(defined(BLUE_BORDER) && (BLUE_BORDER!=0))
1886:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** static __inline__ void drawPix(uint16_t rowNum)
1887:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1888:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromNada();
1889:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(BLUE_BORDER);
1890:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEonly_fromDEblue();
1891:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(DE_ACTIVE_DOTS - BLUE_BORDER*2);
1892:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DEblue_fromDEonly();
1893:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		DE_DotDelay(BLUE_BORDER);
1894:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEblue();
1895:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
1896:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1897:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1898:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0
1899:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //NOT BLUE_DIAG_BAR, BLUE_VERT_BAR, NOR DE_BLUE
1900:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #if ( defined(COLOR_BAR_SCROLL) && COLOR_BAR_SCROLL)
1901:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		if(rowNum <= 256)
1902:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			rowNum=0;
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 158


1903:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		else
1904:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			rowNum=1;
1905:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #else //NOT COLOR_BAR_SCROLL... drawPix...
1906:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//#warning "see 'shouldBe' here..."
1907:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Should be:
1908:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		rowNum = rowNum*FB_HEIGHT/V_COUNT;
1909:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//rowNum = rowNum / (768/FB_HEIGHT);
1910:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #endif
1911:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1912:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//DEonly_fromNada();
1913:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       drawPix(rowNum);
1914:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Nada_init();
1915:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****  #warning "THIS ISN'T SAFE"
1916:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		Nada_fromDEonly();
1917:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//Drawing Methods...
1918:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1919:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #if 0 //(defined(CLOCK_INSENSITIVITY_TESTING) && CLOCK_INSENSITIVITY_TESTING)
1920:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//!!! Not sure what the state is at this point...
1921:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// could be any DE+Blue level, or could be NADA...
1922:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// Nada: DT1=3, still leaves one bit for clocking, might be OK
1923:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1924:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       //Disable complementary-output for Green 
1925:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//  (on /OC1B, where CLK is OC1B)
1926:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		// Since Nada, V, and H DT's might be bad for clocking.
1927:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       TCCR1A = ( (0<<COM1A1) | (1<<COM1A0)
1928:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****                | (1<<COM1B1) | (0<<COM1B0)
1929:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****                | (1<<PWM1A) | (1<<PWM1B) );
1930:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1931:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1932:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//colorOverride removed in LVDS, revisit LCDdirect50
1933:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** #endif
1934:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1935:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1936:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1937:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // AND HERE!!!
1938:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1939:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** // rowNum is only used when DE is active...
1940:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** //  and should be 0 at *drawn row* 0
1941:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** void loadData(uint16_t rowNum, uint8_t dataEnable)
1942:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** {
1943:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	//H Active pulse...
1944:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    if(vSync)
 3759               		.stabn	68,0,1944,.LM316-.LFBB16
 3760               	.LM316:
 3761 0f64 2091 0000 		lds r18,vSync
 3762 0f68 2223      		tst r18
 3763 0f6a 01F0      		breq .L124
1945:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    {
1946:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 		//Vsync_fromNada() is called at the end of the last interupt
1947:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       VplusH_fromVsync();
 3764               		.stabn	68,0,1947,.LM317-.LFBB16
 3765               	.LM317:
 3766 0f6c 1DBC      		out 77-0x20,__zero_reg__
 3767 0f6e 20E0      		ldi r18,lo8(0)
 3768 0f70 30E0      		ldi r19,hi8(0)
 3769               	.L125:
 3770               	.LBB222:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 159


 3771               	.LBB223:
 3772               		.stabs	"delayCyc.c",132,0,0,.Ltext49
 3773               	.Ltext49:
 182:delayCyc.c    ****       asm("nop");
 3774               		.stabn	68,0,182,.LM318-.LFBB16
 3775               	.LM318:
 3776               	/* #APP */
 3777               	 ;  182 "delayCyc.c" 1
 3778 0f72 0000      		nop
 3779               	 ;  0 "" 2
 3780               		.stabn	68,0,183,.LM319-.LFBB16
 3781               	.LM319:
 3782               	 ;  183 "delayCyc.c" 1
 3783 0f74 0000      		nop
 3784               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 3785               		.stabn	68,0,158,.LM320-.LFBB16
 3786               	.LM320:
 3787               	/* #NOAPP */
 3788 0f76 2F5F      		subi r18,lo8(-(1))
 3789 0f78 3F4F      		sbci r19,hi8(-(1))
 3790 0f7a 2631      		cpi r18,22
 3791 0f7c 3105      		cpc r19,__zero_reg__
 3792 0f7e 01F4      		brne .L125
 184:delayCyc.c    ****    }
 185:delayCyc.c    **** 
 186:delayCyc.c    **** 	//This addition a/o v62-20
 187:delayCyc.c    **** 	// When delay_cyc is called with a constant-value, it should optimize
 188:delayCyc.c    **** 	// out to merely the number of nops... but if it's non-constant, then
 189:delayCyc.c    **** 	// this will slow things a bit... UNTESTED.
 190:delayCyc.c    **** 	// (Actually, briefly tested with BLUE_DIAG_BAR_SCROLL and seems to
 191:delayCyc.c    **** 	// work, but not highly precise, as expected)
 192:delayCyc.c    **** 
 193:delayCyc.c    **** 	//Realistically, this should probably be done in assembly, the whole
 194:delayCyc.c    **** 	//thing...
 195:delayCyc.c    **** 	// but doing-so might make optimization more difficult...?
 196:delayCyc.c    **** 	switch(loopRemainder)
 197:delayCyc.c    **** 	{
 198:delayCyc.c    **** 		case 7:
 199:delayCyc.c    **** 			asm("nop");
 3793               		.stabn	68,0,199,.LM321-.LFBB16
 3794               	.LM321:
 3795               	/* #APP */
 3796               	 ;  199 "delayCyc.c" 1
 3797 0f80 0000      		nop
 3798               	 ;  0 "" 2
 200:delayCyc.c    **** 		case 6:
 201:delayCyc.c    **** 			asm("nop");
 3799               		.stabn	68,0,201,.LM322-.LFBB16
 3800               	.LM322:
 3801               	 ;  201 "delayCyc.c" 1
 3802 0f82 0000      		nop
 3803               	 ;  0 "" 2
 202:delayCyc.c    **** 		case 5:
 203:delayCyc.c    **** 			asm("nop");
 3804               		.stabn	68,0,203,.LM323-.LFBB16
 3805               	.LM323:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 160


 3806               	 ;  203 "delayCyc.c" 1
 3807 0f84 0000      		nop
 3808               	 ;  0 "" 2
 204:delayCyc.c    **** 		case 4:
 205:delayCyc.c    **** 			asm("nop");
 3809               		.stabn	68,0,205,.LM324-.LFBB16
 3810               	.LM324:
 3811               	 ;  205 "delayCyc.c" 1
 3812 0f86 0000      		nop
 3813               	 ;  0 "" 2
 206:delayCyc.c    **** 		case 3:
 207:delayCyc.c    **** 			asm("nop");
 3814               		.stabn	68,0,207,.LM325-.LFBB16
 3815               	.LM325:
 3816               	 ;  207 "delayCyc.c" 1
 3817 0f88 0000      		nop
 3818               	 ;  0 "" 2
 208:delayCyc.c    **** 		case 2:
 209:delayCyc.c    **** 			asm("nop");
 3819               		.stabn	68,0,209,.LM326-.LFBB16
 3820               	.LM326:
 3821               	 ;  209 "delayCyc.c" 1
 3822 0f8a 0000      		nop
 3823               	 ;  0 "" 2
 210:delayCyc.c    **** 		case 1:
 211:delayCyc.c    **** 			asm("nop");
 3824               		.stabn	68,0,211,.LM327-.LFBB16
 3825               	.LM327:
 3826               	 ;  211 "delayCyc.c" 1
 3827 0f8c 0000      		nop
 3828               	 ;  0 "" 2
 3829               	/* #NOAPP */
 3830               	.LBE223:
 3831               	.LBE222:
 3832               		.stabs	"_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c",132,0,0,.Ltext50
 3833               	.Ltext50:
1948:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Hlow_Delay();
1949:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Vsync_fromVplusH();
 3834               		.stabn	68,0,1949,.LM328-.LFBB16
 3835               	.LM328:
 3836 0f8e 25E0      		ldi r18,lo8(5)
 3837 0f90 2DBD      		out 77-0x20,r18
 3838 0f92 20E0      		ldi r18,lo8(0)
 3839 0f94 30E0      		ldi r19,hi8(0)
 3840               	.L126:
 3841               	.LBB224:
 3842               	.LBB225:
 3843               		.stabs	"delayCyc.c",132,0,0,.Ltext51
 3844               	.Ltext51:
 182:delayCyc.c    ****       asm("nop");
 3845               		.stabn	68,0,182,.LM329-.LFBB16
 3846               	.LM329:
 3847               	/* #APP */
 3848               	 ;  182 "delayCyc.c" 1
 3849 0f96 0000      		nop
 3850               	 ;  0 "" 2
 183:delayCyc.c    ****       asm("nop");
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 161


 3851               		.stabn	68,0,183,.LM330-.LFBB16
 3852               	.LM330:
 3853               	 ;  183 "delayCyc.c" 1
 3854 0f98 0000      		nop
 3855               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 3856               		.stabn	68,0,158,.LM331-.LFBB16
 3857               	.LM331:
 3858               	/* #NOAPP */
 3859 0f9a 2F5F      		subi r18,lo8(-(1))
 3860 0f9c 3F4F      		sbci r19,hi8(-(1))
 3861 0f9e 2B30      		cpi r18,11
 3862 0fa0 3105      		cpc r19,__zero_reg__
 3863 0fa2 01F4      		brne .L126
 3864 0fa4 00C0      		rjmp .L143
 3865               	.L124:
 3866               	.LBE225:
 3867               	.LBE224:
 3868               		.stabs	"_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c",132,0,0,.Ltext52
 3869               	.Ltext52:
1950:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       HD_Delay();
1951:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    }
1952:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    else
1953:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    {
1954:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Hsync_fromNada();
 3870               		.stabn	68,0,1954,.LM332-.LFBB16
 3871               	.LM332:
 3872 0fa6 23E0      		ldi r18,lo8(3)
 3873 0fa8 2DBD      		out 77-0x20,r18
 3874 0faa 20E0      		ldi r18,lo8(0)
 3875 0fac 30E0      		ldi r19,hi8(0)
 3876               	.L128:
 3877               	.LBB226:
 3878               	.LBB227:
 3879               		.stabs	"delayCyc.c",132,0,0,.Ltext53
 3880               	.Ltext53:
 182:delayCyc.c    ****       asm("nop");
 3881               		.stabn	68,0,182,.LM333-.LFBB16
 3882               	.LM333:
 3883               	/* #APP */
 3884               	 ;  182 "delayCyc.c" 1
 3885 0fae 0000      		nop
 3886               	 ;  0 "" 2
 183:delayCyc.c    ****       asm("nop");
 3887               		.stabn	68,0,183,.LM334-.LFBB16
 3888               	.LM334:
 3889               	 ;  183 "delayCyc.c" 1
 3890 0fb0 0000      		nop
 3891               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 3892               		.stabn	68,0,158,.LM335-.LFBB16
 3893               	.LM335:
 3894               	/* #NOAPP */
 3895 0fb2 2F5F      		subi r18,lo8(-(1))
 3896 0fb4 3F4F      		sbci r19,hi8(-(1))
 3897 0fb6 2631      		cpi r18,22
 3898 0fb8 3105      		cpc r19,__zero_reg__
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 162


 3899 0fba 01F4      		brne .L128
 199:delayCyc.c    **** 			asm("nop");
 3900               		.stabn	68,0,199,.LM336-.LFBB16
 3901               	.LM336:
 3902               	/* #APP */
 3903               	 ;  199 "delayCyc.c" 1
 3904 0fbc 0000      		nop
 3905               	 ;  0 "" 2
 201:delayCyc.c    **** 			asm("nop");
 3906               		.stabn	68,0,201,.LM337-.LFBB16
 3907               	.LM337:
 3908               	 ;  201 "delayCyc.c" 1
 3909 0fbe 0000      		nop
 3910               	 ;  0 "" 2
 203:delayCyc.c    **** 			asm("nop");
 3911               		.stabn	68,0,203,.LM338-.LFBB16
 3912               	.LM338:
 3913               	 ;  203 "delayCyc.c" 1
 3914 0fc0 0000      		nop
 3915               	 ;  0 "" 2
 205:delayCyc.c    **** 			asm("nop");
 3916               		.stabn	68,0,205,.LM339-.LFBB16
 3917               	.LM339:
 3918               	 ;  205 "delayCyc.c" 1
 3919 0fc2 0000      		nop
 3920               	 ;  0 "" 2
 207:delayCyc.c    **** 			asm("nop");
 3921               		.stabn	68,0,207,.LM340-.LFBB16
 3922               	.LM340:
 3923               	 ;  207 "delayCyc.c" 1
 3924 0fc4 0000      		nop
 3925               	 ;  0 "" 2
 209:delayCyc.c    **** 			asm("nop");
 3926               		.stabn	68,0,209,.LM341-.LFBB16
 3927               	.LM341:
 3928               	 ;  209 "delayCyc.c" 1
 3929 0fc6 0000      		nop
 3930               	 ;  0 "" 2
 3931               		.stabn	68,0,211,.LM342-.LFBB16
 3932               	.LM342:
 3933               	 ;  211 "delayCyc.c" 1
 3934 0fc8 0000      		nop
 3935               	 ;  0 "" 2
 3936               	/* #NOAPP */
 3937               	.LBE227:
 3938               	.LBE226:
 3939               		.stabs	"_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c",132,0,0,.Ltext54
 3940               	.Ltext54:
1955:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Hlow_Delay();
1956:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       Nada_fromHsync();
 3941               		.stabn	68,0,1956,.LM343-.LFBB16
 3942               	.LM343:
 3943 0fca 24E0      		ldi r18,lo8(4)
 3944 0fcc 2DBD      		out 77-0x20,r18
 3945 0fce 20E0      		ldi r18,lo8(0)
 3946 0fd0 30E0      		ldi r19,hi8(0)
 3947               	.L129:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 163


 3948               	.LBB228:
 3949               	.LBB229:
 3950               		.stabs	"delayCyc.c",132,0,0,.Ltext55
 3951               	.Ltext55:
 182:delayCyc.c    ****       asm("nop");
 3952               		.stabn	68,0,182,.LM344-.LFBB16
 3953               	.LM344:
 3954               	/* #APP */
 3955               	 ;  182 "delayCyc.c" 1
 3956 0fd2 0000      		nop
 3957               	 ;  0 "" 2
 183:delayCyc.c    ****       asm("nop");
 3958               		.stabn	68,0,183,.LM345-.LFBB16
 3959               	.LM345:
 3960               	 ;  183 "delayCyc.c" 1
 3961 0fd4 0000      		nop
 3962               	 ;  0 "" 2
 158:delayCyc.c    ****    for(i=0; i<numLoops; i++)
 3963               		.stabn	68,0,158,.LM346-.LFBB16
 3964               	.LM346:
 3965               	/* #NOAPP */
 3966 0fd6 2F5F      		subi r18,lo8(-(1))
 3967 0fd8 3F4F      		sbci r19,hi8(-(1))
 3968 0fda 2B30      		cpi r18,11
 3969 0fdc 3105      		cpc r19,__zero_reg__
 3970 0fde 01F4      		brne .L129
 3971               	.L143:
 199:delayCyc.c    **** 			asm("nop");
 3972               		.stabn	68,0,199,.LM347-.LFBB16
 3973               	.LM347:
 3974               	/* #APP */
 3975               	 ;  199 "delayCyc.c" 1
 3976 0fe0 0000      		nop
 3977               	 ;  0 "" 2
 201:delayCyc.c    **** 			asm("nop");
 3978               		.stabn	68,0,201,.LM348-.LFBB16
 3979               	.LM348:
 3980               	 ;  201 "delayCyc.c" 1
 3981 0fe2 0000      		nop
 3982               	 ;  0 "" 2
 203:delayCyc.c    **** 			asm("nop");
 3983               		.stabn	68,0,203,.LM349-.LFBB16
 3984               	.LM349:
 3985               	 ;  203 "delayCyc.c" 1
 3986 0fe4 0000      		nop
 3987               	 ;  0 "" 2
 205:delayCyc.c    **** 			asm("nop");
 3988               		.stabn	68,0,205,.LM350-.LFBB16
 3989               	.LM350:
 3990               	 ;  205 "delayCyc.c" 1
 3991 0fe6 0000      		nop
 3992               	 ;  0 "" 2
 207:delayCyc.c    **** 			asm("nop");
 3993               		.stabn	68,0,207,.LM351-.LFBB16
 3994               	.LM351:
 3995               	 ;  207 "delayCyc.c" 1
 3996 0fe8 0000      		nop
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 164


 3997               	 ;  0 "" 2
 209:delayCyc.c    **** 			asm("nop");
 3998               		.stabn	68,0,209,.LM352-.LFBB16
 3999               	.LM352:
 4000               	 ;  209 "delayCyc.c" 1
 4001 0fea 0000      		nop
 4002               	 ;  0 "" 2
 4003               		.stabn	68,0,211,.LM353-.LFBB16
 4004               	.LM353:
 4005               	 ;  211 "delayCyc.c" 1
 4006 0fec 0000      		nop
 4007               	 ;  0 "" 2
 4008               	/* #NOAPP */
 4009               	.LBE229:
 4010               	.LBE228:
 4011               		.stabs	"_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c",132,0,0,.Ltext56
 4012               	.Ltext56:
1957:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****       HD_Delay();
1958:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    }
1959:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 
1960:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c ****    if(dataEnable)
 4013               		.stabn	68,0,1960,.LM354-.LFBB16
 4014               	.LM354:
 4015 0fee 4423      		tst r20
 4016 0ff0 01F0      		breq .L130
 4017               	.LBB230:
 4018               	.LBB231:
 4019               		.stabs	"main.c",132,0,0,.Ltext57
 4020               	.Ltext57:
   1:main.c        **** #include "projInfo.h"   //Don't include in main.h 'cause that's included in other .c's?
   2:main.c        **** #include "main.h"
   3:main.c        **** #include <util/delay.h> //For delay_us in pll_enable
   4:main.c        **** #include <avr/pgmspace.h>
   5:main.c        **** #include _TIMERCOMMON_HEADER_
   6:main.c        **** //#include "../../../_commonCode/charBitmap/0.10/charBitmap.h"
   7:main.c        **** #include _CHARBITMAP_HEADER_
   8:main.c        **** #include "fbColors.h"
   9:main.c        **** 
  10:main.c        **** #include _SINETABLE_HEADER_
  11:main.c        **** 
  12:main.c        **** 
  13:main.c        **** 
  14:main.c        **** #include "mainConfig.h"
  15:main.c        **** 
  16:main.c        **** 
  17:main.c        **** 
  18:main.c        **** #include "delayCyc.h"
  19:main.c        **** 
  20:main.c        **** 
  21:main.c        **** #if (defined(ROW_SEG_BUFFER) && ROW_SEG_BUFFER)
  22:main.c        **** 	 #include "rowSegBuffer.h"
  23:main.c        **** #endif
  24:main.c        **** 
  25:main.c        **** //Nope, can't be removed yet...
  26:main.c        **** //#define ROW_BUFFER FALSE
  27:main.c        **** //#define LOADROW TRUE
  28:main.c        **** #if (defined(ROW_BUFFER) && ROW_BUFFER)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 165


  29:main.c        ****  #include "rowBuffer.c"
  30:main.c        **** #endif
  31:main.c        **** 
  32:main.c        **** #if (defined(SEG_TET) && SEG_TET)
  33:main.c        ****  #include "tetStuff.c"
  34:main.c        **** #endif
  35:main.c        **** 
  36:main.c        **** 
  37:main.c        **** #if ( (defined(BLUE_ADC) && BLUE_ADC) \
  38:main.c        **** 	|| (defined(FB_QUESTION) && FB_QUESTION))
  39:main.c        ****  #include _ADC_HEADER_
  40:main.c        **** #endif
  41:main.c        **** 
  42:main.c        **** 
  43:main.c        **** #define OSCCAL_VAL	0xff//0xDB//0xDC//0xE0//0//0xff//0x20//0xff //0x00
  44:main.c        **** #include "delayCyc.c"
  45:main.c        **** #include "lcdDefines.h"
  46:main.c        **** #include "pll.c"
  47:main.c        **** #include "lvds.c"
  48:main.c        **** 
  49:main.c        **** 
  50:main.c        **** #if (defined(FRAMEBUFFER_TESTING) && FRAMEBUFFER_TESTING)
  51:main.c        ****  #include "_options/writeColor.c"
  52:main.c        **** #endif
  53:main.c        **** 
  54:main.c        **** #if (defined(FB_QUESTION) && FB_QUESTION)
  55:main.c        **** #include "fb_question.c"
  56:main.c        **** #endif
  57:main.c        **** 
  58:main.c        **** // a/o v59:
  59:main.c        **** //PSEGS are the "pixel segments" addressable in RowSegmentBuffer
  60:main.c        **** // e.g. one could load a single row-segment NUM_PSEGS long, and it would 
  61:main.c        **** // reach from one edge of the screen to the other
  62:main.c        **** // or any number <=NUM_SEGMENTS of row segments whose lengths all add up to
  63:main.c        **** // <=NUM_PSEGS. (It's possible to extend beyond NUM_PSEGS, which would draw
  64:main.c        **** // beyond the edge of the screen, but it may affect the screen's ability 
  65:main.c        **** // to sync properly)
  66:main.c        **** // This value isn't exactly adjustable, it's a characteristic of the
  67:main.c        **** // ratio of the pixel-clock and the system-clock, along with the number of
  68:main.c        **** // system clock cycles used to draw each pixel.
  69:main.c        **** // This value was determined by experimentation with the very specific 
  70:main.c        **** // configuration currently in use, though it could probably be calculated 
  71:main.c        **** // from other #defines elsewhere.
  72:main.c        **** // (and probably *should* be, at some point, especially with 
  73:main.c        **** //  experimentations with PLLSYSCLK, LVDS_PRESCALER, SLOW_LVDS, etc...)
  74:main.c        **** // For now, changing this doesn't really do anything except scale some 
  75:main.c        **** // drawings horizontally (E.G. SEG_RACER)
  76:main.c        **** //These notes were determined long ago when developing SEG_RACER:
  77:main.c        **** // Wasn't sure where 357 came from... and now I'm wondering where the
  78:main.c        **** // notes I wrote regarding it disappeared to...
  79:main.c        **** // Anyhow, from line 72, if ROW_SEG_BUFFER && !LVDS_PRESCALER
  80:main.c        **** // "ROW_SEG_BUFFER uses 20cyc/pixel" (doesn't match the math I've 
  81:main.c        **** // elsewhere) 1024/20*7 = 358.4... so maybe that's something to do with it
  82:main.c        **** // TODO: If it was 21cyc/pixel, wouldn't we have perfect alignment with
  83:main.c        **** //       color-transitions and segment widths?
  84:main.c        **** //#define NUM_PSEGS	(1024/3+16) //357
  85:main.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 166


  86:main.c        **** #if (LVDS_PRESCALER == 1)
  87:main.c        ****  #warning "LVDS_PRESCALER == 1 is used extensively a/o v62 to indicate that	we're testing v62... th
  88:main.c        ****  //Let's see if this math can be figured out...
  89:main.c        ****  //
  90:main.c        ****  // Hah, right??? I completely forgot about SQUARE_SEGMENTS in all this
  91:main.c        ****  // Assuming they're always square, for now.
  92:main.c        ****  //
  93:main.c        ****  // H_PIXELS (DE_ACTIVE_DOTS)		1024             pixels
  94:main.c        ****  
  95:main.c        ****  // LVDS_PRESCALER					(1,2,4,8...)     pll_cyc/lvds_bit
  96:main.c        ****  //    PLLCYC_PER_LVDSBIT        LVDS_PRESCALER
  97:main.c        **** 
  98:main.c        ****  // LVDS_BITS_PER_PIXEL				7                lvds_bits/pixel
  99:main.c        ****  // PLL_SYSCLK
 100:main.c        ****  //    TRUE:  PLLCYC_PER_CPUCYC  4                pll_cyc/cpu_cyc
 101:main.c        ****  //    FALSE: PLLCYC_PER_CPUCYC  8                pll_cyc/cpu_cyc
 102:main.c        ****  // DRAWSEG_CPU_CYCS_PER_PSEG		20               cpu_cyc/pseg
 103:main.c        ****  //
 104:main.c        ****  // PIXELS_PER_PSEG = 1pseg * CPUCYCS_PER_PSEG   -> cpu_cycs
 105:main.c        ****  //                         * PLLCYC_PER_CPUCYC  -> pll_cycs
 106:main.c        ****  //                         / PLLCYC_PER_LVDSBIT -> lvds_bits
 107:main.c        ****  //                         / LVDSBITS_PER_PIXEL -> pixels
 108:main.c        ****  //   This is where dimensional-analysis always bites me in the ass...
 109:main.c        ****  //   my units are now PIXELS_PER_PSEG = pix/pseg = pix
 110:main.c        ****  //   I THINK (and this is an epiphany after years of recurring troubles
 111:main.c        ****  //   here) it's possible to, instead, note that 1pseg came from *nowhere*
 112:main.c        ****  //   so should be 1pseg/1pseg * <all the dimensional-analysis stuff>
 113:main.c        ****  //   Then:
 114:main.c        ****  //   (Note, in most cases PIXELS_PER_PSEG will be small, and here
 115:main.c        ****  //   fractions are highly important...)
 116:main.c        ****  #define CPUCYC_PER_PSEG	(DRAWSEG_CPU_CYCS_PER_PSEG)
 117:main.c        ****  #if(defined(PLL_SYSCLK) && PLL_SYSCLK)
 118:main.c        ****   #define PLLCYC_PER_CPUCYC	4
 119:main.c        ****  #else
 120:main.c        ****   #define PLLCYC_PER_CPUCYC	8
 121:main.c        ****  #endif
 122:main.c        ****  #define PLLCYC_PER_LVDSBIT	(LVDS_PRESCALER)
 123:main.c        ****  #define LVDSBITS_PER_PIXEL	7
 124:main.c        **** 
 125:main.c        ****  #define PIXELS_PER_PSEG_F ( MAKEFLOAT( CPUCYC_PER_PSEG   ) \
 126:main.c        **** 		 							* MAKEFLOAT( PLLCYC_PER_CPUCYC  ) \
 127:main.c        **** 		 							/ MAKEFLOAT( PLLCYC_PER_LVDSBIT ) \
 128:main.c        **** 		 							/ MAKEFLOAT( LVDSBITS_PER_PIXEL ) )
 129:main.c        ****  // NUM_PSEGS = H_PIXELS / PIXELS_PER_PSEG
 130:main.c        ****  #define NUM_PSEGS_F (MAKEFLOAT(DE_ACTIVE_DOTS) / PIXELS_PER_PSEG_F)
 131:main.c        ****  // And here, we're leaving NUM_PSEGS_F as a float so it can be used in 
 132:main.c        ****  // macro-comparisons, if necessary...
 133:main.c        ****  // (I don't think MAKELONG or any other such macro could handle this
 134:main.c        ****  // casting... it may be redundant since most uses would be assignments in
 135:main.c        ****  // integers, but if math is used, we don't want floating-point math to be
 136:main.c        ****  // run on it in real-time calculations...)
 137:main.c        ****  #define NUM_PSEGS ((uint16_t)(NUM_PSEGS_F))
 138:main.c        ****  // As a hand-job test: Using old values (when 357 was determined)
 139:main.c        ****  // DE_ACTIVE_DOTS = 1024
 140:main.c        ****  // CPUCYCS_PER_PSEG = 20
 141:main.c        ****  // PLLCYC_PER_CPUCYC = 8
 142:main.c        ****  // PLLCYC_PER_LVDSBIT =8
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 167


 143:main.c        ****  // LVDSBITS_PER_PIXEL =7
 144:main.c        ****  // 1024 / (20 * 8 / 8 / 7) = 358.4
 145:main.c        ****  // (The old NUM_PSEGS = 1024/3+16 = 357.333)
 146:main.c        ****  // (As an aside, if CPUCYCS_PER_PSEG = 21: 1024/(21*8/8/7)=341.333 
 147:main.c        ****  //    == exactly three pixels per pseg)
 148:main.c        **** #else
 149:main.c        ****  #warning "NUM_PSEGS is hardcoded, but should be calculated by many factors, such as LVDS_PRESCALER
 150:main.c        ****  #define NUM_PSEGS (1024/3+16)
 151:main.c        **** #endif
 152:main.c        **** 
 153:main.c        **** //Yes, I know #including C files is bad-practice...
 154:main.c        **** // and yes, this has to be here... for now.
 155:main.c        **** #if(defined(SEG_RACER) && SEG_RACER)
 156:main.c        ****  #include "seg_racer.c"
 157:main.c        **** #endif
 158:main.c        **** 
 159:main.c        **** 
 160:main.c        **** 
 161:main.c        **** 
 162:main.c        **** 
 163:main.c        **** // a/o v60, this note is OLD, and actually is the whole point behind
 164:main.c        **** // ROW_SEG_BUFFER's current implementation.
 165:main.c        **** // TODO: Between OSCCAL_VAL and FRAME_UPDATE_DELAY
 166:main.c        **** //  it seems the speed (at least for the LTN) isn't so important after all
 167:main.c        **** //  This could be used to my advantage...
 168:main.c        **** //  Maybe bump OSCCAL_VAL all the way up, but use a slower "bit-rate"
 169:main.c        **** //  Thus, pixels could be skinnier, thus higher-resolution.
 170:main.c        **** //   Or more instructions could be used for the same resolution
 171:main.c        **** //   allowing, e.g. sprites from program-memory, without necessitating a
 172:main.c        **** //   large (or any?) frame-buffer...
 173:main.c        **** 
 174:main.c        **** 
 175:main.c        **** //This used to be handled by TOOFAST_TEST, but now can be configured here
 176:main.c        **** // 0xff sets the processor to run as fast as possible 
 177:main.c        **** //  (~16MHz? ~128MHz bit-rate)
 178:main.c        **** // 0x00 sets it as slow as possible (~4MHz, ~32MHz bit-rate)
 179:main.c        **** //  good for testing whether odd colors
 180:main.c        **** //  or bad syncing is due to bits being shifted, etc. 
 181:main.c        **** //  Maybe due to slow "LVDS" conversion chips, or whatnot.
 182:main.c        **** //   This seems to be the case right now... 0xff: black is appearing green
 183:main.c        **** //   There should be *some* green in it, but not this much.
 184:main.c        **** //   Likely due to different propagation delays between my under-driven
 185:main.c        **** //    74LS86's (running red and green), from 3.3V!
 186:main.c        **** //    and the happier and newer 74AHC XOR and OR currently driving the
 187:main.c        **** //    clock and DVH/Blue signals
 188:main.c        **** //  Highly dependent on the screen itself, some may not run at all with
 189:main.c        **** //  such slow bitrates... heck, some may not run at all even at the fastest
 190:main.c        **** // If SLOW_EVERYTHING_TEST is true, this value is overridden
 191:main.c        **** // LTN last used 0x20
 192:main.c        **** // a/o v59:
 193:main.c        **** // 0xD8 is the lowest value that syncs reliably, a few glitches from time
 194:main.c        **** // to time.
 195:main.c        **** // The effect of lower values isn't *quite* what I was expecting, but
 196:main.c        **** // definitely suggests that using ROW_SEG_BUFFER at this bit/refresh-rate
 197:main.c        **** // is dang-near right at the minimum required for this display.
 198:main.c        **** // This might be why the other (same model) display didn't work, but its
 199:main.c        **** // flakeyness at 0xff appeared different than this one's at lower OSCCALs
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 168


 200:main.c        **** // --Later note... actually retrying the "flakey" display with the same
 201:main.c        **** //   configuration. Actually, yes, the problem looks dang-near identical to
 202:main.c        **** //   the "reliable" display's being run at OSCCAL_VALs lower than 0xD8
 203:main.c        **** //   Both displays are of the same manufacturer/model.
 204:main.c        **** //    "reliable" has the chip: LXD91810 VS252AG
 205:main.c        **** //    "flakey"   has the chip: LXD91810 VS242AC
 206:main.c        **** //   The only bit I don't get is that I'm dang-near certain I had both
 207:main.c        **** //   displays working at one point, and from the same code...
 208:main.c        **** //   but this OSCCAL value is the maximum, and the only other way to speed
 209:main.c        **** //   up the bit-rate changes the resolution; which I haven't done
 210:main.c        **** //   for quite some time.
 211:main.c        **** //   Also different about this test than when I originally determined it
 212:main.c        **** //   "flakey": I've since switched the 74LS00 and LS32 out for LS86's
 213:main.c        **** //   (These are wired such that one chip is responsible for the + side of
 214:main.c        **** //    every LVDS signal, and one chip is responsible for the - side.
 215:main.c        **** //    The best-practice, probably, would be to have the + and - sides of
 216:main.c        **** //    an LVDS signal on the same chip. It's also plausible that my test was
 217:main.c        **** //    so long ago that it was on the old board which had this configuration
 218:main.c        **** //    but I doubt that, since that board was so hokily-implemented (with
 219:main.c        **** //    chip-clips and grabbers all over the place) that I can't imagine it
 220:main.c        **** //    was ever running again after all those months of disuse. Though...
 221:main.c        **** //    if that *was* the case... it could also be that I'm using a different
 222:main.c        **** //    ATtiny861... in which case, maybe the RC oscillator and/or PLL aren't
 223:main.c        **** //    capable of running as fast... 
 224:main.c        **** //    Not that I have a ton of these things lying around (three total, in
 225:main.c        **** //    various projects already)
 226:main.c        **** //    BUT the end-result may be that I just happen to have the one display
 227:main.c        **** //    and ATtiny861 on the planet that will work together. That'd be lame.)
 228:main.c        **** //#define OSCCAL_VAL	0xff//0xDB//0xDC//0xE0//0//0xff//0x20//0xff //0x00
 229:main.c        **** //This has been moved to the top...
 230:main.c        **** 
 231:main.c        **** 
 232:main.c        **** 
 233:main.c        **** 
 234:main.c        **** //a/o v60: These are old experiments...
 235:main.c        **** // they *are useful* for testing new displays...
 236:main.c        **** // but I can't recall off-hand how to use them instead of (or with?)
 237:main.c        **** // rowSegBuffer...
 238:main.c        **** // They're defined and better-described in lcdStuff.c...
 239:main.c        **** //These three are mutually-exclusive (BLUE_VERT_BAR overrides DE_BLUE)
 240:main.c        **** // (BLUE_DIAG_BAR overrides both...)
 241:main.c        **** //#define BLUE_DIAG_BAR TRUE
 242:main.c        **** //A single black bar, followed by a single blue bar... ~1/3 and 2/3's width
 243:main.c        **** //#define BLUE_VERT_BAR TRUE
 244:main.c        **** //#define DE_BLUE TRUE
 245:main.c        **** // OLD NOTE:
 246:main.c        **** // NONE SELECTED DOESN'T SYNC!!! DE not detected???
 247:main.c        **** 
 248:main.c        **** 
 249:main.c        **** 
 250:main.c        **** // Default is drawPix, from program memory...
 251:main.c        **** // a/o v60: drawPix() has since become the de-facto function for drawing
 252:main.c        **** // a row of pixels, regardless of the method.
 253:main.c        **** // It's defined as necessary...
 254:main.c        **** 
 255:main.c        **** 
 256:main.c        **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 169


 257:main.c        **** //This is where COLOR_BAR_SCROLL and PIXEL_SCROLL were, in part.
 258:main.c        **** 
 259:main.c        **** 
 260:main.c        **** 
 261:main.c        **** 
 262:main.c        **** 
 263:main.c        **** 
 264:main.c        **** //#include "lvds.c"
 265:main.c        **** 
 266:main.c        **** 
 267:main.c        **** 
 268:main.c        **** 
 269:main.c        **** static __inline__ \
 270:main.c        **** void loadRow(uint16_t rowNum) \
 271:main.c        **** 	__attribute__((__always_inline__));
 272:main.c        **** 
 273:main.c        **** 
 274:main.c        **** #include _LCDSTUFF_CFILE_
 275:main.c        **** //#include "../../../_commonCode/lcdStuff/0.50ncf/lcdStuff.c"
 276:main.c        **** 
 277:main.c        **** 
 278:main.c        **** 
 279:main.c        **** volatile uint8_t frameCount = 0;
 280:main.c        **** 
 281:main.c        **** //Nearly everything display-related happens in this interrupt
 282:main.c        **** // It even calls the functions that load (and calculate!) the data for the
 283:main.c        **** // next row.
 284:main.c        **** // So basically, the entire project is running via timer-interrupt.
 285:main.c        **** SIGNAL(TIMER0_COMPA_vect)
 286:main.c        **** {
 287:main.c        **** //	static uint8_t frameCount = 0;
 288:main.c        **** 
 289:main.c        **** 	//Could insert a delay of sorts for scopability...
 290:main.c        **** 	// (otherwise there's not much guarantee that register-assignments
 291:main.c        **** 	//  later will align with the LVDS frame... though ALIGN should help)
 292:main.c        **** 	// see scopeHsync.c
 293:main.c        **** 
 294:main.c        **** 	//So here's the deal:
 295:main.c        **** 	// This handles a single row of pixel/timing data (Hblanks included)
 296:main.c        **** 	// updateLCD()             (from lcdStuff.c) 
 297:main.c        **** 	//  --> loadData()         (from lcdStuff.c)
 298:main.c        **** 	//        HSync
 299:main.c        **** 	//        H-Back-Porch
 300:main.c        **** 	//        --> drawPix()    (drawPix() may be here or elsewhere)
 301:main.c        **** 	//        (H-Front-Porch)
 302:main.c        **** 	//
 303:main.c        **** 	// drawPix is only called for drawn-rows (where DE is active, NOT for
 304:main.c        **** 	// Vblank rows)
 305:main.c        **** 	// H-Front-Porch is handled in the time between completion of this
 306:main.c        **** 	// interrupt and the next interrupt...
 307:main.c        **** 
 308:main.c        **** 	if(updateLCD())
 309:main.c        **** 	{
 310:main.c        **** 		frameCount++;
 311:main.c        **** 		//updateLCD() returns TRUE when the frame is complete
 312:main.c        **** 		// which can be used for whatever purposes 
 313:main.c        **** 		// (e.g. FRAME_COUNT_TO_DELAY)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 170


 314:main.c        **** 	}
 315:main.c        **** 
 316:main.c        **** #if(defined(LOADROW) && LOADROW)
 317:main.c        **** 	//Load the next row into the row(seg)buffer
 318:main.c        **** 	//data is enabled after T_VD+T_Vlow...
 319:main.c        **** 	//a/o v60: Rereading this is confusing...
 320:main.c        **** 	// Basically, there's no reason to call loadRow for display-lines
 321:main.c        **** 	// which don't display data (e.g. V-Sync)
 322:main.c        **** 	if((hsyncCount >= T_VD+T_Vlow) && (hsyncCount < T_VD+T_Vlow+V_COUNT))
 323:main.c        **** 		loadRow(hsyncCount - (T_VD+T_Vlow));
 324:main.c        **** #endif
 325:main.c        **** 	// a/o v60: This is a funny old note... I can't recall a time when
 326:main.c        **** 	// loadRow was written, then removed, then added again. Weird:
 327:main.c        **** 	// Here is where loadRow used to be called
 328:main.c        **** 	// it has been moved to oldNotes.txt, but it would make more sense
 329:main.c        **** 	// to look at LCDdirectLVDS <25 or LCDdirect
 330:main.c        **** 	// loadRow used the time between DE inactive and the next Hsync
 331:main.c        **** 	// to load a row to a row-buffer (as opposed to a frame-buffer)
 332:main.c        **** 	// thus, DE could gain more pixels because there would be fewer
 333:main.c        **** 	// calculations to determine the memory location to write from
 334:main.c        **** 	// This effect has since been minimized
 335:main.c        **** 	// BUT loadRow might be necessary for program-memory-based images...
 336:main.c        **** }
 337:main.c        **** 
 338:main.c        **** 
 339:main.c        **** 
 340:main.c        **** #if(defined(SEG_HFM) && SEG_HFM)
 341:main.c        **** 	#include "seg_hfm.c"
 342:main.c        **** #endif
 343:main.c        **** 
 344:main.c        **** #if(defined(SEG_QUESTION) && SEG_QUESTION)
 345:main.c        **** 	#include "seg_question.c"
 346:main.c        **** #endif
 347:main.c        **** 
 348:main.c        **** #if(defined(SEG_SINE) && SEG_SINE)
 349:main.c        **** 	#include "seg_sine.c"
 350:main.c        **** #endif
 351:main.c        **** 
 352:main.c        **** #if(defined(LOADROW) && LOADROW)
 353:main.c        **** // whatever this means... it's OLD.
 354:main.c        **** //#warning "loadRow is currently in an intermediate phase..."
 355:main.c        **** void loadRow(uint16_t rowNum)
 356:main.c        **** {
 357:main.c        **** 
 358:main.c        **** 
 359:main.c        **** #if(defined(ROW_SEG_BUFFER) && ROW_SEG_BUFFER)
 360:main.c        ****  #if (defined(SEG_RACER) && SEG_RACER)
 361:main.c        **** 	racer_loadRow(rowNum);
 362:main.c        ****  #elif (defined(SEG_HFM) && SEG_HFM)
 363:main.c        ****  	segHFM_loadRow(rowNum);
 364:main.c        ****  #elif (defined(SEG_QUESTION) && SEG_QUESTION)
 365:main.c        ****  	segQuestion_loadRow(rowNum);
 366:main.c        ****  #elif (defined(SEG_SINE) && SEG_SINE)
 367:main.c        ****  	segSine_loadRow(rowNum);
 368:main.c        ****  #elif (defined(SEG_LINE) && SEG_LINE)
 369:main.c        **** 	//Left here for an example...
 370:main.c        **** 	// Draws a diagonal line 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 171


 371:main.c        **** 	//OLD NOTE:
 372:main.c        **** 	//syncing issues due to recursion overflowing the stack???
 373:main.c        **** 	// Apparently was
 374:main.c        **** 	   
 375:main.c        **** 	//Isn't BLAH = 1 necessary so we don't get a row with no data?
 376:main.c        **** 	// *looks* like it's working, but I dunno...
 377:main.c        **** 	#define BLAH 0
 378:main.c        **** 
 379:main.c        **** 	segClear();
 380:main.c        **** 	newSeg(3,0x06, (6<<4) | 3);									//W
 381:main.c        **** 	newSeg((rowNum&0xff) | BLAH, 0x06, (4<<4) | 0);				//R
 382:main.c        **** 	newSeg(1,0x06, (6<<4) | 3);									//W
 383:main.c        **** 	newSeg((255-(rowNum&0xff)) | BLAH, 0x06, (4<<4) | 0 );	//R
 384:main.c        **** 	newSeg(3,0x06, (6<<4) | 3);									//W
 385:main.c        **** 	segTerminate();
 386:main.c        **** 
 387:main.c        ****  #elif (defined(SEG_TET) && SEG_TET)
 388:main.c        **** 	//This isn't particularly functional, anymore
 389:main.c        **** 	// it used to be an intermediate stage between rowBuffer and 
 390:main.c        **** 	//  rowSegBuffer... Left here for an example of how it could be done...
 391:main.c        **** 	//ACTUALLY, a/o v60ish it has been reinstated...
 392:main.c        **** 	// and, in fact, a/o v62, this may become a great early-test for new
 393:main.c        **** 	// displays, as the necessary resolution is low, which would allow for
 394:main.c        **** 	// higher refresh-rates (which some displays may need)
 395:main.c        **** 	// (There are certainly other ways to make things more suitable for new
 396:main.c        **** 	// displays... these'll be explored in later code-revisions, probably)
 397:main.c        **** 
 398:main.c        ****   //SEG_STRETCH is the number of PSEGS that each row-buffer pixel is
 399:main.c        ****   //stretched-across. In this case (SEG_TET) (or any case where *only* the
 400:main.c        ****   //rowbuffer is used to fill the screen), the value of SEG_STRETCH should
 401:main.c        ****   //probably be varied dependent on NUM_PSEGS (which should be dependent on
 402:main.c        ****   //LVDS_PRESCALER and a few other factors) in order to stretch the
 403:main.c        ****   //row-buffer acreoss the entire screen. But I think most of these things
 404:main.c        ****   //are so-far hard-coded...
 405:main.c        ****   // Further, it's entirely possible (in a not-implemented-here case) to
 406:main.c        ****   // have the row-buffer occupy only a certain portion of the screen and
 407:main.c        ****   // modify the remaining psegs directly via other means... (I had this
 408:main.c        ****   // once, when displaying Tetris, Life, and a few others on the same
 409:main.c        ****   // screen, I think, right?)
 410:main.c        ****   //Anyhow, a/o a while back, SEG_TET is the only case using SEG_STRETCH 
 411:main.c        **** //  #if(!defined(SEG_STRETCH))
 412:main.c        **** // And a/o v62 Trying to bump the frame-rate up so the ChiMei display will
 413:main.c        **** // work, using LVDS_PRESCALER, this might help... again hardcoded where
 414:main.c        **** // ideally the thing would calculate itself... Though it's also handy to
 415:main.c        **** // have it hard-coded as it allows for testing the display's immunity (or
 416:main.c        **** // lack thereof) for long/short DEs
 417:main.c        **** #if(LVDS_PRESCALER == 1)
 418:main.c        ****  #define SEG_STRETCH 1
 419:main.c        **** #else
 420:main.c        ****  #define SEG_STRETCH 5 //(((NUM_PSEGS-6)+RB_WIDTH-1)/RB_WIDTH)
 421:main.c        **** #endif
 422:main.c        **** 	//3-5 = white + cyan
 423:main.c        **** 	//6 = letters alternating with above
 424:main.c        **** 	//7-9 = ditto, stretched
 425:main.c        **** 
 426:main.c        **** #define TET_VSTRETCH	16
 427:main.c        **** 	if(rowNum == 0)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 172


 428:main.c        **** 	{
 429:main.c        **** 		//Probably not best to put this here, as we're still in the interrupt
 430:main.c        **** 		// extra-long calculations might cause syncing issues with displays
 431:main.c        **** 		// that require rows to be a constant time
 432:main.c        **** 		tetUpdate();
 433:main.c        **** 	}
 434:main.c        **** 	if(rowNum % TET_VSTRETCH == 0)
 435:main.c        **** 	{
 436:main.c        **** 		uint8_t i;
 437:main.c        **** 		for(i=0; i<RB_WIDTH; i++)
 438:main.c        **** 			rowBuffer[i] = fb_to_rb(_K);
 439:main.c        **** 		//	rowBuffer[i] = fb_to_rb((i+rowNum/TET_VSTRETCH)&0x3f);
 440:main.c        **** 		
 441:main.c        **** 		tet_drawRow(rowNum/TET_VSTRETCH, rowBuffer);
 442:main.c        **** 	}
 443:main.c        **** 	segClear();
 444:main.c        **** 
 445:main.c        **** 	//Good for syncing to have white on both borders...
 446:main.c        **** 	newSeg(3, 0x06, (6<<4) | 3);
 447:main.c        **** 	
 448:main.c        **** 	uint16_t i;
 449:main.c        **** 	//TET_OVERLAY alternates rows between the TETRIS board and
 450:main.c        **** 	// an rgb "gradient" The only purpose is to test the idea of
 451:main.c        **** 	// using the high vertical-resolution to essentially increase the
 452:main.c        **** 	// number of colors available to a low-resolution image
 453:main.c        **** 	// sort of like "dithering" in the ol' days of 256 colors in Windows
 454:main.c        **** 	// but easy to implement in this case with very little overhead 
 455:main.c        **** 	// row-by-row
 456:main.c        **** 	// The effect, from a ways back, looks like the colors are blended
 457:main.c        **** 	// (like the Text and Game-board are translucent)
 458:main.c        **** #define TET_OVERLAY TRUE
 459:main.c        **** 
 460:main.c        **** 	//TET_GRADIENT takes that a step further and attempts to create a
 461:main.c        **** 	// gradient between each color in that rgb-gradient.
 462:main.c        **** 	// It's not as pretty as I'd hoped... though it makes sense...
 463:main.c        **** 	// first we're alternating between TET's color and the background color
 464:main.c        **** 	// then the background color is (roughly) alternating between a couple
 465:main.c        **** 	// colors, several rows between...
 466:main.c        **** 	// so if a color is stretched 16 rows vertically, that only leaves 8
 467:main.c        **** 	// rows for the color-gradient... might work better over more gradual
 468:main.c        **** 	// color-changes
 469:main.c        **** #define TET_GRADIENT TRUE
 470:main.c        **** 
 471:main.c        **** #if (defined(TET_OVERLAY) && TET_OVERLAY)
 472:main.c        **** 	if(rowNum & 0x01)
 473:main.c        **** 	{
 474:main.c        **** #endif
 475:main.c        **** 	for(i=0; i<RB_WIDTH; i++)
 476:main.c        **** 	{
 477:main.c        **** 		//i+1 because we don't want to overwrite the white border...
 478:main.c        **** 		rbpix_to_seg(rowBuffer[i], i+1, SEG_STRETCH);
 479:main.c        **** 	}
 480:main.c        **** 
 481:main.c        **** #if (defined(TET_OVERLAY) && TET_OVERLAY)
 482:main.c        **** 	}
 483:main.c        **** 	else
 484:main.c        **** 	{
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 173


 485:main.c        **** 		#define ROWS_PER 64//(V_COUNT/NUM_COLORS)
 486:main.c        **** 
 487:main.c        **** 		uint8_t fbColor;
 488:main.c        **** 
 489:main.c        **** #if (defined(TET_GRADIENT) && TET_GRADIENT)
 490:main.c        **** 		static hfm_t hfmGradient;
 491:main.c        **** 		if(rowNum%ROWS_PER == 0)
 492:main.c        **** 			hfm_setup(&hfmGradient, 0, ROWS_PER/2-4);
 493:main.c        **** 
 494:main.c        **** 		//It's worth it to experiment with changing the range of the 
 495:main.c        **** 		// hfmGradient, ('-4' above and '+4' below).
 496:main.c        **** 		// to try to avoid one or two stray spikes
 497:main.c        **** 		// (e.g. power = 1, maxPower = 15, there'll be one bright row
 498:main.c        **** 		//  and 14 dark, it sticks out like a sore-thumb)
 499:main.c        **** 		//  These values are experimental, and entirely dependent on the
 500:main.c        **** 		//  values used...
 501:main.c        **** 
 502:main.c        **** 		hfm_setPower(&hfmGradient, (rowNum/2)%(ROWS_PER/2)+4);
 503:main.c        **** 
 504:main.c        **** 		if(hfm_nextOutput(&hfmGradient))
 505:main.c        **** 			fbColor = rgbGradient(ROWS_PER-1 - rowNum/(ROWS_PER)+16-1);
 506:main.c        **** 		else
 507:main.c        **** #endif	//TET_GRADIENT
 508:main.c        **** 			fbColor = rgbGradient(ROWS_PER-1 - rowNum/(ROWS_PER)+16);
 509:main.c        **** 
 510:main.c        **** 		addSegfb(RB_WIDTH*SEG_STRETCH, (fbColor));
 511:main.c        **** 		//newSeg(SEG_STRETCH, fb_to_seg((rowNum*64/768)&0x3f));
 512:main.c        **** 
 513:main.c        **** 	}
 514:main.c        **** #endif	//TET_OVERLAY
 515:main.c        **** 	//white...
 516:main.c        **** 	newSeg(3, 0x06, (6<<4) | 3);
 517:main.c        **** 	segTerminate();
 518:main.c        ****  #elif (defined(SEG_GRADIENT) && SEG_GRADIENT)
 519:main.c        **** 	static hfm_t hfmGradient;
 520:main.c        **** #define ROWS_PER	(255)	//(V_COUNT/3) == 256
 521:main.c        **** 
 522:main.c        **** 	if(rowNum%ROWS_PER == 0)
 523:main.c        **** 		hfm_setup(&hfmGradient, 0, ROWS_PER);
 524:main.c        **** 
 525:main.c        **** 	uint8_t color;
 526:main.c        **** 
 527:main.c        **** 	uint16_t power;
 528:main.c        **** 
 529:main.c        **** 	if(rowNum < ROWS_PER/16)
 530:main.c        **** 		rowNum = 0;
 531:main.c        **** 	else
 532:main.c        **** 		rowNum -= ROWS_PER/16;
 533:main.c        **** 
 534:main.c        **** 	//Since there are four shades, there will be three gradients...
 535:main.c        **** 	if(rowNum < ROWS_PER)
 536:main.c        **** 	{
 537:main.c        **** 		//The ROWS_PER/16 stuff is to help alleviate sharp color-spikes
 538:main.c        **** 		// which occur early-on... see the explanation in SEG_TET.
 539:main.c        **** 		color = 0;
 540:main.c        **** 		//hfm_setPower(&hfmGradient, 
 541:main.c        **** 		power = (rowNum); // + ROWS_PER/16);
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 174


 542:main.c        **** 	}
 543:main.c        **** 	else if(rowNum < ROWS_PER*2)
 544:main.c        **** 	{
 545:main.c        **** 		color = 1;
 546:main.c        **** 		//hfm_setPower(&hfmGradient, 
 547:main.c        **** 		power = rowNum-(ROWS_PER); // + ROWS_PER/16;
 548:main.c        **** 	}
 549:main.c        **** 	else
 550:main.c        **** 	{
 551:main.c        **** 		color = 2;
 552:main.c        **** 		//hfm_setPower(&hfmGradient, 
 553:main.c        **** 		power = rowNum-(ROWS_PER*2); // + ROWS_PER/16;
 554:main.c        **** 	}
 555:main.c        **** 
 556:main.c        **** 
 557:main.c        **** 	if(power < ROWS_PER/16)
 558:main.c        **** 		power = 0;
 559:main.c        **** 
 560:main.c        **** 	hfm_setPower(&hfmGradient, (power <= 255) ? power : 255);
 561:main.c        **** 
 562:main.c        **** 	if(hfm_nextOutput(&hfmGradient))
 563:main.c        **** 		color++;
 564:main.c        **** 
 565:main.c        **** 	color |= color<<2 | color<<4;
 566:main.c        **** 
 567:main.c        **** 	segClear();
 568:main.c        **** 	addSegfb(3, _W);
 569:main.c        **** 	addSegfb(NUM_PSEGS-6, color); 
 570:main.c        **** 	addSegfb(3, _W);
 571:main.c        **** 	segTerminate();
 572:main.c        ****  #elif(defined(SEG_GRADIENT2) && SEG_GRADIENT2)
 573:main.c        **** #error "Heh, never did implement this..."
 574:main.c        ****  #else
 575:main.c        **** 	#error "Gotta select a SEG_... option, or create your own"
 576:main.c        ****  #endif //SEG_ selection
 577:main.c        **** #endif //ROW_SEG_BUFFER
 578:main.c        **** }
 579:main.c        **** #endif //LOAD_ROW
 580:main.c        **** 
 581:main.c        **** #include "timer0Stuff.c"
 582:main.c        **** 
 583:main.c        **** 
 584:main.c        **** #if (!defined(EXTERNAL_DRAWPIX) || !EXTERNAL_DRAWPIX)
 585:main.c        **** #if (defined(ROW_SEG_BUFFER) && ROW_SEG_BUFFER)
 586:main.c        **** void drawPix(uint16_t rowNum)
 587:main.c        **** {
 588:main.c        **** 	//Note that rowNum isn't really used here...
 589:main.c        **** 	// and it's only a uint8_t!
 590:main.c        **** 	rsb_drawPix(rowNum);
 591:main.c        **** }
 592:main.c        **** 
 593:main.c        **** #elif (defined(BLUE_ADC) && BLUE_ADC)
 594:main.c        **** //This is pretty much identical to most of the BLUE_TESTING in lcdStuff.c
 595:main.c        **** // with a slight twist...
 596:main.c        **** static __inline__ void drawPix(uint16_t rowNum)
 597:main.c        **** {
 598:main.c        ****       //uint16_t blueCyc = DOTS_TO_CYC(rowNum);
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 175


 599:main.c        ****       //uint16_t notBlueCyc = DOTS_TO_CYC(DE_ACTIVE_DOTS)-blueCyc;
 600:main.c        **** 		adc_startConversion();
 601:main.c        **** 		while(adc_isBusy())
 602:main.c        **** 			asm("nop;");
 603:main.c        **** 
 604:main.c        ****       uint16_t blueDots = adc_getValue();
 605:main.c        ****       uint16_t notBlueDots = DE_ACTIVE_DOTS - blueDots;
 606:main.c        **** 
 607:main.c        ****       DEonly_fromNada();
 608:main.c        ****       //delay_cyc(notBlueCyc);
 609:main.c        ****       //delay_Dots(notBlueDots);
 610:main.c        ****       DE_DotDelay(notBlueDots);
 611:main.c        ****       DEblue_fromDEonly();
 612:main.c        ****       //delay_cyc(blueCyc);
 613:main.c        ****       //delay_Dots(blueDots);
 614:main.c        ****       DE_DotDelay(blueDots);
 615:main.c        ****       Nada_fromDEblue();
 616:main.c        **** }
 617:main.c        **** 
 618:main.c        **** 
 619:main.c        **** #else
 620:main.c        **** //#include "_options/writeColor.c"
 621:main.c        **** //#include "nonRSB_drawPix.c"
 622:main.c        **** void drawPix(uint16_t rowNum)
 623:main.c        **** {
 624:main.c        **** 	//This hasn't been used in quite some time... 
 625:main.c        **** 	// it may not work at all anymore.
 626:main.c        **** 	nonRSB_drawPix(rowNum);
 4021               		.stabn	68,0,626,.LM355-.LFBB16
 4022               	.LM355:
 4023 0ff2 8697      		sbiw r24,38
 4024 0ff4 00D0      		rcall nonRSB_drawPix
 4025               	.L130:
 4026               	.LBE231:
 4027               	.LBE230:
 4028               	.LBE221:
 4029               	.LBE220:
 4030               		.stabs	"_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c",132,0,0,.Ltext58
 4031               	.Ltext58:
1273:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	hsyncCount++;
 4032               		.stabn	68,0,1273,.LM356-.LFBB16
 4033               	.LM356:
 4034 0ff6 8091 0000 		lds r24,hsyncCount
 4035 0ffa 9091 0000 		lds r25,(hsyncCount)+1
 4036 0ffe 0196      		adiw r24,1
 4037 1000 9093 0000 		sts (hsyncCount)+1,r25
 4038 1004 8093 0000 		sts hsyncCount,r24
1275:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 	switch(hsyncCount)
 4039               		.stabn	68,0,1275,.LM357-.LFBB16
 4040               	.LM357:
 4041 1008 8332      		cpi r24,35
 4042 100a 9105      		cpc r25,__zero_reg__
 4043 100c 01F0      		breq .L133
 4044 100e 8432      		cpi r24,36
 4045 1010 9105      		cpc r25,__zero_reg__
 4046 1012 00F4      		brsh .L136
 4047 1014 8330      		cpi r24,3
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 176


 4048 1016 9105      		cpc r25,__zero_reg__
 4049 1018 01F4      		brne .L144
 4050 101a 00C0      		rjmp .L147
 4051               	.L136:
 4052 101c 8632      		cpi r24,38
 4053 101e 9105      		cpc r25,__zero_reg__
 4054 1020 01F0      		breq .L134
 4055 1022 23E0      		ldi r18,hi8(806)
 4056 1024 8632      		cpi r24,lo8(806)
 4057 1026 9207      		cpc r25,r18
 4058 1028 01F4      		brne .L144
 4059 102a 00C0      		rjmp .L148
 4060               	.L147:
1281:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			dataEnable = FALSE;
 4061               		.stabn	68,0,1281,.LM358-.LFBB16
 4062               	.LM358:
 4063 102c 1092 0000 		sts dataEnable,__zero_reg__
1283:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			vSync = TRUE;
 4064               		.stabn	68,0,1283,.LM359-.LFBB16
 4065               	.LM359:
 4066 1030 81E0      		ldi r24,lo8(1)
 4067 1032 8093 0000 		sts vSync,r24
1284:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			Vsync_fromNada();
 4068               		.stabn	68,0,1284,.LM360-.LFBB16
 4069               	.LM360:
 4070 1036 80E4      		ldi r24,lo8(64)
 4071 1038 84BD      		out 68-0x20,r24
 4072 103a 85E0      		ldi r24,lo8(5)
 4073 103c 00C0      		rjmp .L145
 4074               	.L133:
1293:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			vSync = FALSE;
 4075               		.stabn	68,0,1293,.LM361-.LFBB16
 4076               	.LM361:
 4077 103e 1092 0000 		sts vSync,__zero_reg__
1294:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			Nada_fromVsync();
 4078               		.stabn	68,0,1294,.LM362-.LFBB16
 4079               	.LM362:
 4080 1042 80E3      		ldi r24,lo8(48)
 4081 1044 84BD      		out 68-0x20,r24
 4082 1046 84E0      		ldi r24,lo8(4)
 4083               	.L145:
 4084 1048 8DBD      		out 77-0x20,r24
 4085 104a 00C0      		rjmp .L144
 4086               	.L134:
1298:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			dataEnable = TRUE;
 4087               		.stabn	68,0,1298,.LM363-.LFBB16
 4088               	.LM363:
 4089 104c 81E0      		ldi r24,lo8(1)
 4090 104e 8093 0000 		sts dataEnable,r24
 4091               	.L144:
 4092 1052 80E0      		ldi r24,lo8(0)
1299:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			break;
 4093               		.stabn	68,0,1299,.LM364-.LFBB16
 4094               	.LM364:
 4095 1054 0895      		ret
 4096               	.L148:
1303:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			dataEnable = FALSE;
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 177


 4097               		.stabn	68,0,1303,.LM365-.LFBB16
 4098               	.LM365:
 4099 1056 1092 0000 		sts dataEnable,__zero_reg__
1308:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** 			hsyncCount = 0;
 4100               		.stabn	68,0,1308,.LM366-.LFBB16
 4101               	.LM366:
 4102 105a 1092 0000 		sts (hsyncCount)+1,__zero_reg__
 4103 105e 1092 0000 		sts hsyncCount,__zero_reg__
 4104 1062 81E0      		ldi r24,lo8(1)
1349:_commonCode_localized/lcdStuff/0.55ncf/lcdStuff.c **** }
 4105               		.stabn	68,0,1349,.LM367-.LFBB16
 4106               	.LM367:
 4107 1064 0895      		ret
 4108               		.size	updateLCD, .-updateLCD
 4109               		.stabs	"frameComplete:r(3,2)",64,0,1253,24
 4110               		.stabn	192,0,0,.LFBB16-.LFBB16
 4111               		.stabs	"i:r(3,4)",64,0,73,18
 4112               		.stabn	192,0,0,.LBB223-.LFBB16
 4113               		.stabn	224,0,0,.LBE223-.LFBB16
 4114               		.stabs	"i:r(3,4)",64,0,73,18
 4115               		.stabn	192,0,0,.LBB225-.LFBB16
 4116               		.stabn	224,0,0,.LBE225-.LFBB16
 4117               		.stabs	"i:r(3,4)",64,0,73,18
 4118               		.stabn	192,0,0,.LBB227-.LFBB16
 4119               		.stabn	224,0,0,.LBE227-.LFBB16
 4120               		.stabs	"i:r(3,4)",64,0,73,18
 4121               		.stabn	192,0,0,.LBB229-.LFBB16
 4122               		.stabn	224,0,0,.LBE229-.LFBB16
 4123               		.stabn	224,0,0,.Lscope16-.LFBB16
 4124               	.Lscope16:
 4125               		.stabs	"",36,0,0,.Lscope16-.LFBB16
 4126               		.stabd	78,0,0
 4127               		.stabs	"__vector_14:F(0,15)",36,0,285,__vector_14
 4128               	.global	__vector_14
 4129               		.type	__vector_14, @function
 4130               	__vector_14:
 4131               		.stabd	46,0,0
 4132               		.stabs	"main.c",132,0,0,.Ltext59
 4133               	.Ltext59:
 286:main.c        **** {
 4134               		.stabn	68,0,286,.LM368-.LFBB17
 4135               	.LM368:
 4136               	.LFBB17:
 4137 1066 1F92      		push __zero_reg__
 4138 1068 0F92      		push r0
 4139 106a 0FB6      		in r0,__SREG__
 4140 106c 0F92      		push r0
 4141 106e 1124      		clr __zero_reg__
 4142 1070 2F93      		push r18
 4143 1072 3F93      		push r19
 4144 1074 4F93      		push r20
 4145 1076 5F93      		push r21
 4146 1078 6F93      		push r22
 4147 107a 7F93      		push r23
 4148 107c 8F93      		push r24
 4149 107e 9F93      		push r25
 4150 1080 AF93      		push r26
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 178


 4151 1082 BF93      		push r27
 4152 1084 EF93      		push r30
 4153 1086 FF93      		push r31
 4154               	/* prologue: Signal */
 4155               	/* frame size = 0 */
 308:main.c        **** 	if(updateLCD())
 4156               		.stabn	68,0,308,.LM369-.LFBB17
 4157               	.LM369:
 4158 1088 00D0      		rcall updateLCD
 4159 108a 8823      		tst r24
 4160 108c 01F0      		breq .L151
 310:main.c        **** 		frameCount++;
 4161               		.stabn	68,0,310,.LM370-.LFBB17
 4162               	.LM370:
 4163 108e 8091 0000 		lds r24,frameCount
 4164 1092 8F5F      		subi r24,lo8(-(1))
 4165 1094 8093 0000 		sts frameCount,r24
 4166               	.L151:
 4167               	/* epilogue start */
 336:main.c        **** }
 4168               		.stabn	68,0,336,.LM371-.LFBB17
 4169               	.LM371:
 4170 1098 FF91      		pop r31
 4171 109a EF91      		pop r30
 4172 109c BF91      		pop r27
 4173 109e AF91      		pop r26
 4174 10a0 9F91      		pop r25
 4175 10a2 8F91      		pop r24
 4176 10a4 7F91      		pop r23
 4177 10a6 6F91      		pop r22
 4178 10a8 5F91      		pop r21
 4179 10aa 4F91      		pop r20
 4180 10ac 3F91      		pop r19
 4181 10ae 2F91      		pop r18
 4182 10b0 0F90      		pop r0
 4183 10b2 0FBE      		out __SREG__,r0
 4184 10b4 0F90      		pop r0
 4185 10b6 1F90      		pop __zero_reg__
 4186 10b8 1895      		reti
 4187               		.size	__vector_14, .-__vector_14
 4188               	.Lscope17:
 4189               		.stabs	"",36,0,0,.Lscope17-.LFBB17
 4190               		.stabd	78,0,0
 4191               		.stabs	"fbQuestion_hitDetected:F(0,15)",36,0,70,fbQuestion_hitDetected
 4192               	.global	fbQuestion_hitDetected
 4193               		.type	fbQuestion_hitDetected, @function
 4194               	fbQuestion_hitDetected:
 4195               		.stabd	46,0,0
 4196               		.stabs	"fb_question.c",132,0,0,.Ltext60
 4197               	.Ltext60:
  71:fb_question.c **** {
 4198               		.stabn	68,0,71,.LM372-.LFBB18
 4199               	.LM372:
 4200               	.LFBB18:
 4201               	/* prologue: function */
 4202               	/* frame size = 0 */
  72:fb_question.c **** 	if( (p_selectedSprite == &spriteQ)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 179


 4203               		.stabn	68,0,72,.LM373-.LFBB18
 4204               	.LM373:
 4205 10ba 8091 0000 		lds r24,p_selectedSprite
 4206 10be 9091 0000 		lds r25,(p_selectedSprite)+1
 4207 10c2 20E0      		ldi r18,hi8(spriteQ)
 4208 10c4 8030      		cpi r24,lo8(spriteQ)
 4209 10c6 9207      		cpc r25,r18
 4210 10c8 01F0      		breq .+2
 4211 10ca 00C0      		rjmp .L153
 4212 10cc 8091 0000 		lds r24,p_nextSprite
 4213 10d0 9091 0000 		lds r25,(p_nextSprite)+1
 4214 10d4 0097      		sbiw r24,0
 4215 10d6 01F0      		breq .+2
 4216 10d8 00C0      		rjmp .L162
  78:fb_question.c **** 		qCount = 0;
 4217               		.stabn	68,0,78,.LM374-.LFBB18
 4218               	.LM374:
 4219 10da 1092 0000 		sts qCount,__zero_reg__
  81:fb_question.c **** 		switch(((adc_getValue()*3+callCount+qCount))%8)
 4220               		.stabn	68,0,81,.LM375-.LFBB18
 4221               	.LM375:
 4222 10de 00D0      		rcall adc_getValue
 4223 10e0 4091 0000 		lds r20,qCount
 4224 10e4 2091 0000 		lds r18,callCount
 4225 10e8 30E0      		ldi r19,lo8(0)
 4226 10ea 240F      		add r18,r20
 4227 10ec 311D      		adc r19,__zero_reg__
 4228 10ee 63E0      		ldi r22,lo8(3)
 4229 10f0 70E0      		ldi r23,hi8(3)
 4230 10f2 00D0      		rcall __mulhi3
 4231 10f4 280F      		add r18,r24
 4232 10f6 391F      		adc r19,r25
 4233 10f8 2770      		andi r18,lo8(7)
 4234 10fa 3070      		andi r19,hi8(7)
 4235 10fc 2230      		cpi r18,2
 4236 10fe 3105      		cpc r19,__zero_reg__
 4237 1100 01F0      		breq .L158
 4238 1102 2330      		cpi r18,3
 4239 1104 3105      		cpc r19,__zero_reg__
 4240 1106 00F4      		brsh .L161
 4241 1108 2115      		cp r18,__zero_reg__
 4242 110a 3105      		cpc r19,__zero_reg__
 4243 110c 01F0      		breq .L156
 4244 110e 2130      		cpi r18,1
 4245 1110 3105      		cpc r19,__zero_reg__
 4246 1112 01F4      		brne .L155
 4247 1114 00C0      		rjmp .L166
 4248               	.L161:
 4249 1116 2330      		cpi r18,3
 4250 1118 3105      		cpc r19,__zero_reg__
 4251 111a 01F0      		breq .L159
 4252 111c 2430      		cpi r18,4
 4253 111e 3105      		cpc r19,__zero_reg__
 4254 1120 01F4      		brne .L155
 4255 1122 00C0      		rjmp .L167
 4256               	.L156:
  87:fb_question.c **** 				p_nextSprite = &spriteFLOWER;
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 180


 4257               		.stabn	68,0,87,.LM376-.LFBB18
 4258               	.LM376:
 4259 1124 80E0      		ldi r24,lo8(spriteFLOWER)
 4260 1126 90E0      		ldi r25,hi8(spriteFLOWER)
 4261 1128 00C0      		rjmp .L163
 4262               	.L166:
  90:fb_question.c **** 				p_nextSprite = &sprite1UP;
 4263               		.stabn	68,0,90,.LM377-.LFBB18
 4264               	.LM377:
 4265 112a 80E0      		ldi r24,lo8(sprite1UP)
 4266 112c 90E0      		ldi r25,hi8(sprite1UP)
 4267 112e 00C0      		rjmp .L163
 4268               	.L158:
  93:fb_question.c **** 				p_nextSprite = &spriteBIG;
 4269               		.stabn	68,0,93,.LM378-.LFBB18
 4270               	.LM378:
 4271 1130 80E0      		ldi r24,lo8(spriteBIG)
 4272 1132 90E0      		ldi r25,hi8(spriteBIG)
 4273 1134 00C0      		rjmp .L163
 4274               	.L159:
  96:fb_question.c **** 				p_nextSprite = &spriteSTAR;
 4275               		.stabn	68,0,96,.LM379-.LFBB18
 4276               	.LM379:
 4277 1136 80E0      		ldi r24,lo8(spriteSTAR)
 4278 1138 90E0      		ldi r25,hi8(spriteSTAR)
 4279 113a 00C0      		rjmp .L163
 4280               	.L167:
  99:fb_question.c **** 				p_nextSprite = &spriteGOOMBA;
 4281               		.stabn	68,0,99,.LM380-.LFBB18
 4282               	.LM380:
 4283 113c 80E0      		ldi r24,lo8(spriteGOOMBA)
 4284 113e 90E0      		ldi r25,hi8(spriteGOOMBA)
 4285 1140 00C0      		rjmp .L163
 4286               	.L155:
 112:fb_question.c **** 				p_nextSprite = &spriteCOIN;
 4287               		.stabn	68,0,112,.LM381-.LFBB18
 4288               	.LM381:
 4289 1142 80E0      		ldi r24,lo8(spriteCOIN)
 4290 1144 90E0      		ldi r25,hi8(spriteCOIN)
 4291               	.L163:
 4292 1146 9093 0000 		sts (p_nextSprite)+1,r25
 4293 114a 8093 0000 		sts p_nextSprite,r24
 4294 114e 0895      		ret
 4295               	.L153:
 130:fb_question.c **** 	else if( (p_selectedSprite == &spriteGOOMBA)
 4296               		.stabn	68,0,130,.LM382-.LFBB18
 4297               	.LM382:
 4298 1150 20E0      		ldi r18,hi8(spriteGOOMBA)
 4299 1152 8030      		cpi r24,lo8(spriteGOOMBA)
 4300 1154 9207      		cpc r25,r18
 4301 1156 01F4      		brne .L162
 4302 1158 8091 0000 		lds r24,p_nextSprite
 4303 115c 9091 0000 		lds r25,(p_nextSprite)+1
 4304 1160 0097      		sbiw r24,0
 4305 1162 01F4      		brne .L162
 135:fb_question.c **** 		qCount = 0;
 4306               		.stabn	68,0,135,.LM383-.LFBB18
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 181


 4307               	.LM383:
 4308 1164 1092 0000 		sts qCount,__zero_reg__
 136:fb_question.c **** 		p_selectedSprite = &spriteDEADGOOMBA;
 4309               		.stabn	68,0,136,.LM384-.LFBB18
 4310               	.LM384:
 4311 1168 80E0      		ldi r24,lo8(spriteDEADGOOMBA)
 4312 116a 90E0      		ldi r25,hi8(spriteDEADGOOMBA)
 4313 116c 9093 0000 		sts (p_selectedSprite)+1,r25
 4314 1170 8093 0000 		sts p_selectedSprite,r24
 4315               	.L162:
 4316 1174 0895      		ret
 4317               		.size	fbQuestion_hitDetected, .-fbQuestion_hitDetected
 4318               	.Lscope18:
 4319               		.stabs	"",36,0,0,.Lscope18-.LFBB18
 4320               		.stabd	78,0,0
 4321               		.stabs	"init_timer0Hsync:F(0,15)",36,0,6,init_timer0Hsync
 4322               	.global	init_timer0Hsync
 4323               		.type	init_timer0Hsync, @function
 4324               	init_timer0Hsync:
 4325               		.stabd	46,0,0
 4326               		.stabs	"timer0Stuff.c",132,0,0,.Ltext61
 4327               	.Ltext61:
   1:timer0Stuff.c **** #include "timer0Stuff.h"
   2:timer0Stuff.c **** 
   3:timer0Stuff.c **** //Testing with values returned by timer0Calculator
   4:timer0Stuff.c **** //#define TIMER0_OCRVAL	65
   5:timer0Stuff.c **** 
   6:timer0Stuff.c **** void init_timer0Hsync(void)
   7:timer0Stuff.c **** {
 4328               		.stabn	68,0,7,.LM385-.LFBB19
 4329               	.LM385:
 4330               	.LFBB19:
 4331               	/* prologue: function */
 4332               	/* frame size = 0 */
   8:timer0Stuff.c ****    OCR0A = TIMER0_OCRVAL; //T_Hlow_CYC + T_HD_CYC + T_DE_CYC + T_DH_CYC;
 4333               		.stabn	68,0,8,.LM386-.LFBB19
 4334               	.LM386:
 4335 1176 82E2      		ldi r24,lo8(34)
 4336 1178 83BB      		out 51-0x20,r24
   9:timer0Stuff.c ****    timer_setWGM(0, WGM_CLR_ON_COMPARE);
 4337               		.stabn	68,0,9,.LM387-.LFBB19
 4338               	.LM387:
 4339 117a 80E0      		ldi r24,lo8(0)
 4340 117c 62E0      		ldi r22,lo8(2)
 4341 117e 00D0      		rcall timer_setWGM
  10:timer0Stuff.c ****    timer_selectDivisor(0, TIMER0_CLKDIV); //CLKDIV1);
 4342               		.stabn	68,0,10,.LM388-.LFBB19
 4343               	.LM388:
 4344 1180 80E0      		ldi r24,lo8(0)
 4345 1182 66E0      		ldi r22,lo8(6)
 4346 1184 00D0      		rcall timer_selectDivisor
  11:timer0Stuff.c ****    timer_compareMatchIntEnable(0, OUT_CHANNELA);
 4347               		.stabn	68,0,11,.LM389-.LFBB19
 4348               	.LM389:
 4349 1186 80E0      		ldi r24,lo8(0)
 4350 1188 60E0      		ldi r22,lo8(0)
 4351 118a 41E0      		ldi r20,lo8(1)
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 182


 4352 118c 00D0      		rcall timer_compareMatchIntSetup
 4353               	/* epilogue start */
  12:timer0Stuff.c **** }
 4354               		.stabn	68,0,12,.LM390-.LFBB19
 4355               	.LM390:
 4356 118e 0895      		ret
 4357               		.size	init_timer0Hsync, .-init_timer0Hsync
 4358               	.Lscope19:
 4359               		.stabs	"",36,0,0,.Lscope19-.LFBB19
 4360               		.stabd	78,0,0
 4361               		.stabs	"main:F(0,1)",36,0,632,main
 4362               	.global	main
 4363               		.type	main, @function
 4364               	main:
 4365               		.stabd	46,0,0
 4366               		.stabs	"main.c",132,0,0,.Ltext62
 4367               	.Ltext62:
 627:main.c        **** }
 628:main.c        **** #endif
 629:main.c        **** #endif
 630:main.c        **** 
 631:main.c        **** 
 632:main.c        **** int main(void)
 633:main.c        **** {
 4368               		.stabn	68,0,633,.LM391-.LFBB20
 4369               	.LM391:
 4370               	.LFBB20:
 4371 1190 CF92      		push r12
 4372 1192 DF92      		push r13
 4373 1194 EF92      		push r14
 4374 1196 FF92      		push r15
 4375 1198 0F93      		push r16
 4376 119a 1F93      		push r17
 4377               	/* prologue: function */
 4378               	/* frame size = 0 */
 634:main.c        **** 
 635:main.c        **** #if(defined(SEG_RACER) && SEG_RACER)
 636:main.c        **** 	racer_init();
 637:main.c        **** #endif
 638:main.c        **** 
 639:main.c        **** #if ( (defined(BLUE_ADC) && BLUE_ADC) \
 640:main.c        **** 		|| (defined(FB_QUESTION) && FB_QUESTION) )
 641:main.c        **** 	adc_takeInput(6);
 4379               		.stabn	68,0,641,.LM392-.LFBB20
 4380               	.LM392:
 4381 119c 86E0      		ldi r24,lo8(6)
 4382 119e 00D0      		rcall adc_takeInput
 642:main.c        **** 	adc_init();
 4383               		.stabn	68,0,642,.LM393-.LFBB20
 4384               	.LM393:
 4385 11a0 00D0      		rcall adc_init
 643:main.c        **** 	adc_select(6);
 4386               		.stabn	68,0,643,.LM394-.LFBB20
 4387               	.LM394:
 4388 11a2 86E0      		ldi r24,lo8(6)
 4389 11a4 00D0      		rcall adc_select
 644:main.c        **** #endif
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 183


 645:main.c        **** 
 646:main.c        **** #if(defined(SEG_TET) && SEG_TET)
 647:main.c        **** 	tetInit(3);
 648:main.c        **** #endif
 649:main.c        **** 	init_timer0Hsync();
 4390               		.stabn	68,0,649,.LM395-.LFBB20
 4391               	.LM395:
 4392 11a6 00D0      		rcall init_timer0Hsync
 650:main.c        **** 
 651:main.c        **** 
 652:main.c        **** 
 653:main.c        **** #if (defined(FRAMEBUFFER_TESTING) && FRAMEBUFFER_TESTING)
 654:main.c        **** #if(!defined(FB_DONT_USE_UPDATE) || !FB_DONT_USE_UPDATE)
 655:main.c        **** 	frameBufferUpdate();
 656:main.c        **** #endif
 657:main.c        **** #endif
 658:main.c        **** 	//This starts pretty late... watch out for WDT
 659:main.c        **** 	init_heartBeat();
 660:main.c        **** 
 661:main.c        **** 	setHeartRate(0);
 662:main.c        **** 
 663:main.c        **** 	lvds_timerInit();
 4393               		.stabn	68,0,663,.LM396-.LFBB20
 4394               	.LM396:
 4395 11a8 00D0      		rcall lvds_timerInit
 664:main.c        **** 
 665:main.c        **** 
 666:main.c        **** 	// MUCH Of this is outside the screen...
 667:main.c        **** 
 668:main.c        **** 
 669:main.c        **** #if(defined(FB_QUESTION) && FB_QUESTION)
 670:main.c        **** 	adc_startConversion();
 4396               		.stabn	68,0,670,.LM397-.LFBB20
 4397               	.LM397:
 4398 11aa 00D0      		rcall adc_startConversion
 4399               	.LBB232:
 671:main.c        **** #endif
 672:main.c        **** 
 673:main.c        **** 	uint8_t imageNum = 0;
 674:main.c        **** 	uint8_t colorShift = 0;
 675:main.c        **** 	while(1)
 676:main.c        **** 	{
 677:main.c        **** #if(defined(FB_QUESTION) && FB_QUESTION)
 678:main.c        **** 		static int32_t adcAvg = 0;
 679:main.c        **** 		static uint16_t adcVal;
 680:main.c        **** 		static uint8_t avgCount = 100;
 681:main.c        **** 		if(!adc_isBusy())
 682:main.c        **** 		{
 683:main.c        **** 			adcVal = adc_getValue();
 684:main.c        **** 			
 685:main.c        **** 			adc_startConversion();
 686:main.c        **** 
 687:main.c        **** 
 688:main.c        **** 			if(avgCount > 1)
 689:main.c        **** 				avgCount--;
 690:main.c        **** 			else if(avgCount == 1)
 691:main.c        **** 			{
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 184


 692:main.c        **** 				avgCount=0;
 693:main.c        **** 				adcAvg += adcVal;
 694:main.c        **** 			}
 695:main.c        **** 			else if(avgCount == 0)
 696:main.c        **** 			{
 697:main.c        **** 				//After the first case, the average should be somewhere
 698:main.c        **** 				//'round the ADC Val... then after subtracting the current
 699:main.c        **** 				//adcVal, we should be close to zero...
 700:main.c        **** 				adcAvg -= adcVal;
 701:main.c        **** 				{
 702:main.c        **** 					int32_t absDiff = adcAvg;
 703:main.c        **** 					if(absDiff < 0)
 704:main.c        **** 						absDiff = -absDiff;
 705:main.c        **** 
 706:main.c        **** 					// At this point, absDiff is essentially the derivative
 707:main.c        **** 					// of the ADC measurements... (absoluted)
 708:main.c        **** 					// If there's no change, it will be near-zero
 709:main.c        **** 					// If there's a lot of change, it will be positive...
 710:main.c        **** 					// the ADC is ten-bits, so 3.3V/1024 = .003V per LSB
 711:main.c        **** 					// Of course, a spike isn't instantaneous...
 712:main.c        **** 					// .2V is measurable on the 'scope, currently...
 713:main.c        **** #define ADC_DETECTION_THRESHOLD	15 //20 //38 //(1024*125/3300)
 714:main.c        **** 					if(absDiff > ADC_DETECTION_THRESHOLD)
 715:main.c        **** 						fbQuestion_hitDetected();
 716:main.c        **** 				}
 717:main.c        **** 				adcAvg = 0;
 718:main.c        **** 				avgCount=1;
 4400               		.stabn	68,0,718,.LM398-.LFBB20
 4401               	.LM398:
 4402 11ac 11E0      		ldi r17,lo8(1)
 4403               	.L177:
 681:main.c        **** 		if(!adc_isBusy())
 4404               		.stabn	68,0,681,.LM399-.LFBB20
 4405               	.LM399:
 4406 11ae 00D0      		rcall adc_isBusy
 4407 11b0 8823      		tst r24
 4408 11b2 01F0      		breq .+2
 4409 11b4 00C0      		rjmp .L171
 683:main.c        **** 			adcVal = adc_getValue();
 4410               		.stabn	68,0,683,.LM400-.LFBB20
 4411               	.LM400:
 4412 11b6 00D0      		rcall adc_getValue
 4413 11b8 9093 0000 		sts (adcVal.2259)+1,r25
 4414 11bc 8093 0000 		sts adcVal.2259,r24
 685:main.c        **** 			adc_startConversion();
 4415               		.stabn	68,0,685,.LM401-.LFBB20
 4416               	.LM401:
 4417 11c0 00D0      		rcall adc_startConversion
 688:main.c        **** 			if(avgCount > 1)
 4418               		.stabn	68,0,688,.LM402-.LFBB20
 4419               	.LM402:
 4420 11c2 9091 0000 		lds r25,avgCount.2260
 4421 11c6 9230      		cpi r25,lo8(2)
 4422 11c8 00F0      		brlo .L172
 689:main.c        **** 				avgCount--;
 4423               		.stabn	68,0,689,.LM403-.LFBB20
 4424               	.LM403:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 185


 4425 11ca 9150      		subi r25,lo8(-(-1))
 4426 11cc 9093 0000 		sts avgCount.2260,r25
 4427 11d0 00C0      		rjmp .L171
 4428               	.L172:
 4429 11d2 2091 0000 		lds r18,adcVal.2259
 4430 11d6 3091 0000 		lds r19,(adcVal.2259)+1
 4431 11da C090 0000 		lds r12,adcAvg.2258
 4432 11de D090 0000 		lds r13,(adcAvg.2258)+1
 4433 11e2 E090 0000 		lds r14,(adcAvg.2258)+2
 4434 11e6 F090 0000 		lds r15,(adcAvg.2258)+3
 690:main.c        **** 			else if(avgCount == 1)
 4435               		.stabn	68,0,690,.LM404-.LFBB20
 4436               	.LM404:
 4437 11ea 9130      		cpi r25,lo8(1)
 4438 11ec 01F4      		brne .L173
 692:main.c        **** 				avgCount=0;
 4439               		.stabn	68,0,692,.LM405-.LFBB20
 4440               	.LM405:
 4441 11ee 1092 0000 		sts avgCount.2260,__zero_reg__
 693:main.c        **** 				adcAvg += adcVal;
 4442               		.stabn	68,0,693,.LM406-.LFBB20
 4443               	.LM406:
 4444 11f2 40E0      		ldi r20,lo8(0)
 4445 11f4 50E0      		ldi r21,hi8(0)
 4446 11f6 2C0D      		add r18,r12
 4447 11f8 3D1D      		adc r19,r13
 4448 11fa 4E1D      		adc r20,r14
 4449 11fc 5F1D      		adc r21,r15
 4450 11fe 2093 0000 		sts adcAvg.2258,r18
 4451 1202 3093 0000 		sts (adcAvg.2258)+1,r19
 4452 1206 4093 0000 		sts (adcAvg.2258)+2,r20
 4453 120a 5093 0000 		sts (adcAvg.2258)+3,r21
 4454 120e 00C0      		rjmp .L171
 4455               	.L173:
 700:main.c        **** 				adcAvg -= adcVal;
 4456               		.stabn	68,0,700,.LM407-.LFBB20
 4457               	.LM407:
 4458 1210 C901      		movw r24,r18
 4459 1212 A0E0      		ldi r26,lo8(0)
 4460 1214 B0E0      		ldi r27,hi8(0)
 4461 1216 A701      		movw r20,r14
 4462 1218 9601      		movw r18,r12
 4463 121a 281B      		sub r18,r24
 4464 121c 390B      		sbc r19,r25
 4465 121e 4A0B      		sbc r20,r26
 4466 1220 5B0B      		sbc r21,r27
 4467 1222 DA01      		movw r26,r20
 4468 1224 C901      		movw r24,r18
 4469 1226 2093 0000 		sts adcAvg.2258,r18
 4470 122a 3093 0000 		sts (adcAvg.2258)+1,r19
 4471 122e 4093 0000 		sts (adcAvg.2258)+2,r20
 4472 1232 5093 0000 		sts (adcAvg.2258)+3,r21
 4473               	.LBB233:
 714:main.c        **** 					if(absDiff > ADC_DETECTION_THRESHOLD)
 4474               		.stabn	68,0,714,.LM408-.LFBB20
 4475               	.LM408:
 4476 1236 57FF      		sbrs r21,7
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 186


 4477 1238 00C0      		rjmp .L175
 4478 123a B095      		com r27
 4479 123c A095      		com r26
 4480 123e 9095      		com r25
 4481 1240 8195      		neg r24
 4482 1242 9F4F      		sbci r25,lo8(-1)
 4483 1244 AF4F      		sbci r26,lo8(-1)
 4484 1246 BF4F      		sbci r27,lo8(-1)
 4485               	.L175:
 4486 1248 8031      		cpi r24,lo8(16)
 4487 124a 9105      		cpc r25,__zero_reg__
 4488 124c A105      		cpc r26,__zero_reg__
 4489 124e B105      		cpc r27,__zero_reg__
 4490 1250 04F0      		brlt .L174
 715:main.c        **** 						fbQuestion_hitDetected();
 4491               		.stabn	68,0,715,.LM409-.LFBB20
 4492               	.LM409:
 4493 1252 00D0      		rcall fbQuestion_hitDetected
 4494               	.L174:
 4495               	.LBE233:
 717:main.c        **** 				adcAvg = 0;
 4496               		.stabn	68,0,717,.LM410-.LFBB20
 4497               	.LM410:
 4498 1254 1092 0000 		sts adcAvg.2258,__zero_reg__
 4499 1258 1092 0000 		sts (adcAvg.2258)+1,__zero_reg__
 4500 125c 1092 0000 		sts (adcAvg.2258)+2,__zero_reg__
 4501 1260 1092 0000 		sts (adcAvg.2258)+3,__zero_reg__
 4502               		.stabn	68,0,718,.LM411-.LFBB20
 4503               	.LM411:
 4504 1264 1093 0000 		sts avgCount.2260,r17
 4505               	.L171:
 719:main.c        **** 			}
 720:main.c        **** 
 721:main.c        **** 		}
 722:main.c        **** 
 723:main.c        **** 		//static uint32_t count = 0;
 724:main.c        **** 		static uint8_t lastFrameCount = 0;
 725:main.c        **** #define FRAME_COUNT_LIMIT 0x03
 726:main.c        **** 		uint8_t thisFrameCount = frameCount&FRAME_COUNT_LIMIT;
 4506               		.stabn	68,0,726,.LM412-.LFBB20
 4507               	.LM412:
 4508 1268 0091 0000 		lds r16,frameCount
 4509 126c 0370      		andi r16,lo8(3)
 727:main.c        **** 
 728:main.c        **** //		if(( (thisFrameCount==0) && (lastFrameCount==FRAME_COUNT_LIMIT) ))
 729:main.c        **** 		if(thisFrameCount != lastFrameCount)
 4510               		.stabn	68,0,729,.LM413-.LFBB20
 4511               	.LM413:
 4512 126e 8091 0000 		lds r24,lastFrameCount.2262
 4513 1272 0813      		cpse r16,r24
 730:main.c        **** 		{
 731:main.c        **** 			fbQuestion_update();
 4514               		.stabn	68,0,731,.LM414-.LFBB20
 4515               	.LM414:
 4516 1274 00D0      		rcall fbQuestion_update
 4517               	.L176:
 732:main.c        **** 		}
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 187


 733:main.c        **** 
 734:main.c        **** 		lastFrameCount = thisFrameCount;
 4518               		.stabn	68,0,734,.LM415-.LFBB20
 4519               	.LM415:
 4520 1276 0093 0000 		sts lastFrameCount.2262,r16
 4521               	.LBE232:
 735:main.c        **** #endif
 736:main.c        **** 		heartUpdate();
 737:main.c        **** 	}
 4522               		.stabn	68,0,737,.LM416-.LFBB20
 4523               	.LM416:
 4524 127a 00C0      		rjmp .L177
 4525               		.size	main, .-main
 4526               		.stabs	"adcAvg:V(3,5)",38,0,678,adcAvg.2258
 4527               		.stabs	"adcVal:V(3,4)",40,0,679,adcVal.2259
 4528               		.stabs	"avgCount:V(3,2)",38,0,680,avgCount.2260
 4529               		.stabs	"lastFrameCount:V(3,2)",38,0,724,lastFrameCount.2262
 4530               		.stabs	"thisFrameCount:r(3,2)",64,0,726,16
 4531               		.stabn	192,0,0,.LBB232-.LFBB20
 4532               		.stabn	224,0,0,.LBE232-.LFBB20
 4533               	.Lscope20:
 4534               		.stabs	"",36,0,0,.Lscope20-.LFBB20
 4535               		.stabd	78,0,0
 4536               	.global	header
 4537               		.section	.progmem.data,"a",@progbits
 4538               		.type	header, @object
 4539               		.size	header, 36
 4540               	header:
 4541 0000 4C43 4464 		.string	"LCDdirectLVDS65 2014-03-06 14:26:51"
 4541      6972 6563 
 4541      744C 5644 
 4541      5336 3520 
 4541      3230 3134 
 4542               	.global	characters
 4543               		.type	characters, @object
 4544               		.size	characters, 768
 4545               	characters:
 4546 0024 00        		.byte	0
 4547 0025 0C        		.byte	12
 4548 0026 36        		.byte	54
 4549 0027 36        		.byte	54
 4550 0028 0C        		.byte	12
 4551 0029 00        		.byte	0
 4552 002a 1C        		.byte	28
 4553 002b 06        		.byte	6
 4554 002c 18        		.byte	24
 4555 002d 06        		.byte	6
 4556 002e 00        		.byte	0
 4557 002f 00        		.byte	0
 4558 0030 00        		.byte	0
 4559 0031 00        		.byte	0
 4560 0032 00        		.byte	0
 4561 0033 60        		.byte	96
 4562 0034 1E        		.byte	30
 4563 0035 0C        		.byte	12
 4564 0036 1E        		.byte	30
 4565 0037 1E        		.byte	30
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 188


 4566 0038 38        		.byte	56
 4567 0039 3F        		.byte	63
 4568 003a 1C        		.byte	28
 4569 003b 3F        		.byte	63
 4570 003c 1E        		.byte	30
 4571 003d 1E        		.byte	30
 4572 003e 00        		.byte	0
 4573 003f 00        		.byte	0
 4574 0040 18        		.byte	24
 4575 0041 00        		.byte	0
 4576 0042 06        		.byte	6
 4577 0043 1E        		.byte	30
 4578 0044 3E        		.byte	62
 4579 0045 0C        		.byte	12
 4580 0046 3F        		.byte	63
 4581 0047 3C        		.byte	60
 4582 0048 3F        		.byte	63
 4583 0049 7F        		.byte	127
 4584 004a 7F        		.byte	127
 4585 004b 3C        		.byte	60
 4586 004c 33        		.byte	51
 4587 004d 1E        		.byte	30
 4588 004e 78        		.byte	120
 4589 004f 67        		.byte	103
 4590 0050 0F        		.byte	15
 4591 0051 63        		.byte	99
 4592 0052 63        		.byte	99
 4593 0053 1C        		.byte	28
 4594 0054 3F        		.byte	63
 4595 0055 1E        		.byte	30
 4596 0056 3F        		.byte	63
 4597 0057 1E        		.byte	30
 4598 0058 3F        		.byte	63
 4599 0059 33        		.byte	51
 4600 005a 33        		.byte	51
 4601 005b 63        		.byte	99
 4602 005c 63        		.byte	99
 4603 005d 33        		.byte	51
 4604 005e 7F        		.byte	127
 4605 005f 1E        		.byte	30
 4606 0060 03        		.byte	3
 4607 0061 1E        		.byte	30
 4608 0062 08        		.byte	8
 4609 0063 00        		.byte	0
 4610 0064 0C        		.byte	12
 4611 0065 00        		.byte	0
 4612 0066 07        		.byte	7
 4613 0067 00        		.byte	0
 4614 0068 38        		.byte	56
 4615 0069 00        		.byte	0
 4616 006a 1C        		.byte	28
 4617 006b 00        		.byte	0
 4618 006c 07        		.byte	7
 4619 006d 0C        		.byte	12
 4620 006e 18        		.byte	24
 4621 006f 07        		.byte	7
 4622 0070 0E        		.byte	14
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 189


 4623 0071 00        		.byte	0
 4624 0072 00        		.byte	0
 4625 0073 00        		.byte	0
 4626 0074 00        		.byte	0
 4627 0075 00        		.byte	0
 4628 0076 00        		.byte	0
 4629 0077 00        		.byte	0
 4630 0078 08        		.byte	8
 4631 0079 00        		.byte	0
 4632 007a 00        		.byte	0
 4633 007b 00        		.byte	0
 4634 007c 00        		.byte	0
 4635 007d 00        		.byte	0
 4636 007e 00        		.byte	0
 4637 007f 38        		.byte	56
 4638 0080 18        		.byte	24
 4639 0081 07        		.byte	7
 4640 0082 6E        		.byte	110
 4641 0083 0E        		.byte	14
 4642 0084 00        		.byte	0
 4643 0085 1E        		.byte	30
 4644 0086 36        		.byte	54
 4645 0087 36        		.byte	54
 4646 0088 3E        		.byte	62
 4647 0089 63        		.byte	99
 4648 008a 36        		.byte	54
 4649 008b 06        		.byte	6
 4650 008c 0C        		.byte	12
 4651 008d 0C        		.byte	12
 4652 008e 66        		.byte	102
 4653 008f 0C        		.byte	12
 4654 0090 00        		.byte	0
 4655 0091 00        		.byte	0
 4656 0092 00        		.byte	0
 4657 0093 30        		.byte	48
 4658 0094 33        		.byte	51
 4659 0095 0F        		.byte	15
 4660 0096 33        		.byte	51
 4661 0097 33        		.byte	51
 4662 0098 3C        		.byte	60
 4663 0099 03        		.byte	3
 4664 009a 06        		.byte	6
 4665 009b 33        		.byte	51
 4666 009c 33        		.byte	51
 4667 009d 33        		.byte	51
 4668 009e 00        		.byte	0
 4669 009f 00        		.byte	0
 4670 00a0 0C        		.byte	12
 4671 00a1 00        		.byte	0
 4672 00a2 0C        		.byte	12
 4673 00a3 33        		.byte	51
 4674 00a4 63        		.byte	99
 4675 00a5 1E        		.byte	30
 4676 00a6 66        		.byte	102
 4677 00a7 66        		.byte	102
 4678 00a8 36        		.byte	54
 4679 00a9 46        		.byte	70
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 190


 4680 00aa 46        		.byte	70
 4681 00ab 66        		.byte	102
 4682 00ac 33        		.byte	51
 4683 00ad 0C        		.byte	12
 4684 00ae 30        		.byte	48
 4685 00af 66        		.byte	102
 4686 00b0 06        		.byte	6
 4687 00b1 77        		.byte	119
 4688 00b2 67        		.byte	103
 4689 00b3 36        		.byte	54
 4690 00b4 66        		.byte	102
 4691 00b5 33        		.byte	51
 4692 00b6 66        		.byte	102
 4693 00b7 33        		.byte	51
 4694 00b8 2D        		.byte	45
 4695 00b9 33        		.byte	51
 4696 00ba 33        		.byte	51
 4697 00bb 63        		.byte	99
 4698 00bc 63        		.byte	99
 4699 00bd 33        		.byte	51
 4700 00be 33        		.byte	51
 4701 00bf 06        		.byte	6
 4702 00c0 06        		.byte	6
 4703 00c1 18        		.byte	24
 4704 00c2 1C        		.byte	28
 4705 00c3 00        		.byte	0
 4706 00c4 0C        		.byte	12
 4707 00c5 00        		.byte	0
 4708 00c6 06        		.byte	6
 4709 00c7 00        		.byte	0
 4710 00c8 30        		.byte	48
 4711 00c9 00        		.byte	0
 4712 00ca 36        		.byte	54
 4713 00cb 00        		.byte	0
 4714 00cc 06        		.byte	6
 4715 00cd 00        		.byte	0
 4716 00ce 00        		.byte	0
 4717 00cf 06        		.byte	6
 4718 00d0 0C        		.byte	12
 4719 00d1 00        		.byte	0
 4720 00d2 00        		.byte	0
 4721 00d3 00        		.byte	0
 4722 00d4 00        		.byte	0
 4723 00d5 00        		.byte	0
 4724 00d6 00        		.byte	0
 4725 00d7 00        		.byte	0
 4726 00d8 0C        		.byte	12
 4727 00d9 00        		.byte	0
 4728 00da 00        		.byte	0
 4729 00db 00        		.byte	0
 4730 00dc 00        		.byte	0
 4731 00dd 00        		.byte	0
 4732 00de 00        		.byte	0
 4733 00df 0C        		.byte	12
 4734 00e0 18        		.byte	24
 4735 00e1 0C        		.byte	12
 4736 00e2 3B        		.byte	59
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 191


 4737 00e3 13        		.byte	19
 4738 00e4 00        		.byte	0
 4739 00e5 1E        		.byte	30
 4740 00e6 36        		.byte	54
 4741 00e7 7F        		.byte	127
 4742 00e8 03        		.byte	3
 4743 00e9 33        		.byte	51
 4744 00ea 1C        		.byte	28
 4745 00eb 03        		.byte	3
 4746 00ec 06        		.byte	6
 4747 00ed 18        		.byte	24
 4748 00ee 3C        		.byte	60
 4749 00ef 0C        		.byte	12
 4750 00f0 00        		.byte	0
 4751 00f1 00        		.byte	0
 4752 00f2 00        		.byte	0
 4753 00f3 18        		.byte	24
 4754 00f4 3B        		.byte	59
 4755 00f5 0C        		.byte	12
 4756 00f6 30        		.byte	48
 4757 00f7 30        		.byte	48
 4758 00f8 36        		.byte	54
 4759 00f9 1F        		.byte	31
 4760 00fa 03        		.byte	3
 4761 00fb 30        		.byte	48
 4762 00fc 33        		.byte	51
 4763 00fd 33        		.byte	51
 4764 00fe 0C        		.byte	12
 4765 00ff 0C        		.byte	12
 4766 0100 06        		.byte	6
 4767 0101 3F        		.byte	63
 4768 0102 18        		.byte	24
 4769 0103 30        		.byte	48
 4770 0104 7B        		.byte	123
 4771 0105 33        		.byte	51
 4772 0106 66        		.byte	102
 4773 0107 03        		.byte	3
 4774 0108 66        		.byte	102
 4775 0109 16        		.byte	22
 4776 010a 16        		.byte	22
 4777 010b 03        		.byte	3
 4778 010c 33        		.byte	51
 4779 010d 0C        		.byte	12
 4780 010e 30        		.byte	48
 4781 010f 36        		.byte	54
 4782 0110 06        		.byte	6
 4783 0111 7F        		.byte	127
 4784 0112 6F        		.byte	111
 4785 0113 63        		.byte	99
 4786 0114 66        		.byte	102
 4787 0115 33        		.byte	51
 4788 0116 66        		.byte	102
 4789 0117 07        		.byte	7
 4790 0118 0C        		.byte	12
 4791 0119 33        		.byte	51
 4792 011a 33        		.byte	51
 4793 011b 63        		.byte	99
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 192


 4794 011c 36        		.byte	54
 4795 011d 33        		.byte	51
 4796 011e 19        		.byte	25
 4797 011f 06        		.byte	6
 4798 0120 0C        		.byte	12
 4799 0121 18        		.byte	24
 4800 0122 36        		.byte	54
 4801 0123 00        		.byte	0
 4802 0124 18        		.byte	24
 4803 0125 1E        		.byte	30
 4804 0126 3E        		.byte	62
 4805 0127 1E        		.byte	30
 4806 0128 30        		.byte	48
 4807 0129 1E        		.byte	30
 4808 012a 06        		.byte	6
 4809 012b 6E        		.byte	110
 4810 012c 36        		.byte	54
 4811 012d 0E        		.byte	14
 4812 012e 1E        		.byte	30
 4813 012f 66        		.byte	102
 4814 0130 0C        		.byte	12
 4815 0131 37        		.byte	55
 4816 0132 1F        		.byte	31
 4817 0133 1E        		.byte	30
 4818 0134 3B        		.byte	59
 4819 0135 6E        		.byte	110
 4820 0136 1B        		.byte	27
 4821 0137 3E        		.byte	62
 4822 0138 3E        		.byte	62
 4823 0139 33        		.byte	51
 4824 013a 33        		.byte	51
 4825 013b 63        		.byte	99
 4826 013c 63        		.byte	99
 4827 013d 33        		.byte	51
 4828 013e 3F        		.byte	63
 4829 013f 0C        		.byte	12
 4830 0140 18        		.byte	24
 4831 0141 0C        		.byte	12
 4832 0142 00        		.byte	0
 4833 0143 39        		.byte	57
 4834 0144 00        		.byte	0
 4835 0145 0C        		.byte	12
 4836 0146 00        		.byte	0
 4837 0147 36        		.byte	54
 4838 0148 1E        		.byte	30
 4839 0149 18        		.byte	24
 4840 014a 6E        		.byte	110
 4841 014b 00        		.byte	0
 4842 014c 06        		.byte	6
 4843 014d 18        		.byte	24
 4844 014e FF        		.byte	-1
 4845 014f 3F        		.byte	63
 4846 0150 00        		.byte	0
 4847 0151 3F        		.byte	63
 4848 0152 00        		.byte	0
 4849 0153 0C        		.byte	12
 4850 0154 3F        		.byte	63
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 193


 4851 0155 0C        		.byte	12
 4852 0156 1C        		.byte	28
 4853 0157 1C        		.byte	28
 4854 0158 33        		.byte	51
 4855 0159 30        		.byte	48
 4856 015a 1F        		.byte	31
 4857 015b 18        		.byte	24
 4858 015c 1E        		.byte	30
 4859 015d 3E        		.byte	62
 4860 015e 0C        		.byte	12
 4861 015f 0C        		.byte	12
 4862 0160 03        		.byte	3
 4863 0161 00        		.byte	0
 4864 0162 30        		.byte	48
 4865 0163 18        		.byte	24
 4866 0164 7B        		.byte	123
 4867 0165 33        		.byte	51
 4868 0166 3E        		.byte	62
 4869 0167 03        		.byte	3
 4870 0168 66        		.byte	102
 4871 0169 1E        		.byte	30
 4872 016a 1E        		.byte	30
 4873 016b 03        		.byte	3
 4874 016c 3F        		.byte	63
 4875 016d 0C        		.byte	12
 4876 016e 30        		.byte	48
 4877 016f 1E        		.byte	30
 4878 0170 06        		.byte	6
 4879 0171 6B        		.byte	107
 4880 0172 7B        		.byte	123
 4881 0173 63        		.byte	99
 4882 0174 3E        		.byte	62
 4883 0175 33        		.byte	51
 4884 0176 3E        		.byte	62
 4885 0177 1C        		.byte	28
 4886 0178 0C        		.byte	12
 4887 0179 33        		.byte	51
 4888 017a 33        		.byte	51
 4889 017b 6B        		.byte	107
 4890 017c 1C        		.byte	28
 4891 017d 1E        		.byte	30
 4892 017e 0C        		.byte	12
 4893 017f 06        		.byte	6
 4894 0180 18        		.byte	24
 4895 0181 18        		.byte	24
 4896 0182 63        		.byte	99
 4897 0183 00        		.byte	0
 4898 0184 00        		.byte	0
 4899 0185 30        		.byte	48
 4900 0186 66        		.byte	102
 4901 0187 33        		.byte	51
 4902 0188 3E        		.byte	62
 4903 0189 33        		.byte	51
 4904 018a 0F        		.byte	15
 4905 018b 33        		.byte	51
 4906 018c 6E        		.byte	110
 4907 018d 0C        		.byte	12
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 194


 4908 018e 18        		.byte	24
 4909 018f 36        		.byte	54
 4910 0190 0C        		.byte	12
 4911 0191 7F        		.byte	127
 4912 0192 33        		.byte	51
 4913 0193 33        		.byte	51
 4914 0194 66        		.byte	102
 4915 0195 33        		.byte	51
 4916 0196 36        		.byte	54
 4917 0197 03        		.byte	3
 4918 0198 0C        		.byte	12
 4919 0199 33        		.byte	51
 4920 019a 33        		.byte	51
 4921 019b 63        		.byte	99
 4922 019c 36        		.byte	54
 4923 019d 33        		.byte	51
 4924 019e 19        		.byte	25
 4925 019f 07        		.byte	7
 4926 01a0 00        		.byte	0
 4927 01a1 38        		.byte	56
 4928 01a2 00        		.byte	0
 4929 01a3 69        		.byte	105
 4930 01a4 00        		.byte	0
 4931 01a5 0C        		.byte	12
 4932 01a6 00        		.byte	0
 4933 01a7 7F        		.byte	127
 4934 01a8 30        		.byte	48
 4935 01a9 0C        		.byte	12
 4936 01aa 3B        		.byte	59
 4937 01ab 00        		.byte	0
 4938 01ac 06        		.byte	6
 4939 01ad 18        		.byte	24
 4940 01ae 3C        		.byte	60
 4941 01af 0C        		.byte	12
 4942 01b0 00        		.byte	0
 4943 01b1 00        		.byte	0
 4944 01b2 00        		.byte	0
 4945 01b3 06        		.byte	6
 4946 01b4 37        		.byte	55
 4947 01b5 0C        		.byte	12
 4948 01b6 06        		.byte	6
 4949 01b7 30        		.byte	48
 4950 01b8 7F        		.byte	127
 4951 01b9 30        		.byte	48
 4952 01ba 33        		.byte	51
 4953 01bb 0C        		.byte	12
 4954 01bc 33        		.byte	51
 4955 01bd 30        		.byte	48
 4956 01be 00        		.byte	0
 4957 01bf 00        		.byte	0
 4958 01c0 06        		.byte	6
 4959 01c1 3F        		.byte	63
 4960 01c2 18        		.byte	24
 4961 01c3 0C        		.byte	12
 4962 01c4 7B        		.byte	123
 4963 01c5 3F        		.byte	63
 4964 01c6 66        		.byte	102
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 195


 4965 01c7 03        		.byte	3
 4966 01c8 66        		.byte	102
 4967 01c9 16        		.byte	22
 4968 01ca 16        		.byte	22
 4969 01cb 73        		.byte	115
 4970 01cc 33        		.byte	51
 4971 01cd 0C        		.byte	12
 4972 01ce 33        		.byte	51
 4973 01cf 36        		.byte	54
 4974 01d0 46        		.byte	70
 4975 01d1 63        		.byte	99
 4976 01d2 73        		.byte	115
 4977 01d3 63        		.byte	99
 4978 01d4 06        		.byte	6
 4979 01d5 3B        		.byte	59
 4980 01d6 1E        		.byte	30
 4981 01d7 38        		.byte	56
 4982 01d8 0C        		.byte	12
 4983 01d9 33        		.byte	51
 4984 01da 33        		.byte	51
 4985 01db 7F        		.byte	127
 4986 01dc 36        		.byte	54
 4987 01dd 0C        		.byte	12
 4988 01de 46        		.byte	70
 4989 01df 06        		.byte	6
 4990 01e0 30        		.byte	48
 4991 01e1 18        		.byte	24
 4992 01e2 00        		.byte	0
 4993 01e3 00        		.byte	0
 4994 01e4 00        		.byte	0
 4995 01e5 3E        		.byte	62
 4996 01e6 66        		.byte	102
 4997 01e7 03        		.byte	3
 4998 01e8 33        		.byte	51
 4999 01e9 3F        		.byte	63
 5000 01ea 06        		.byte	6
 5001 01eb 33        		.byte	51
 5002 01ec 66        		.byte	102
 5003 01ed 0C        		.byte	12
 5004 01ee 18        		.byte	24
 5005 01ef 1E        		.byte	30
 5006 01f0 0C        		.byte	12
 5007 01f1 6B        		.byte	107
 5008 01f2 33        		.byte	51
 5009 01f3 33        		.byte	51
 5010 01f4 66        		.byte	102
 5011 01f5 33        		.byte	51
 5012 01f6 36        		.byte	54
 5013 01f7 1E        		.byte	30
 5014 01f8 0C        		.byte	12
 5015 01f9 33        		.byte	51
 5016 01fa 33        		.byte	51
 5017 01fb 6B        		.byte	107
 5018 01fc 1C        		.byte	28
 5019 01fd 33        		.byte	51
 5020 01fe 0C        		.byte	12
 5021 01ff 0C        		.byte	12
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 196


 5022 0200 18        		.byte	24
 5023 0201 0C        		.byte	12
 5024 0202 00        		.byte	0
 5025 0203 0E        		.byte	14
 5026 0204 00        		.byte	0
 5027 0205 00        		.byte	0
 5028 0206 00        		.byte	0
 5029 0207 36        		.byte	54
 5030 0208 1F        		.byte	31
 5031 0209 66        		.byte	102
 5032 020a 33        		.byte	51
 5033 020b 00        		.byte	0
 5034 020c 0C        		.byte	12
 5035 020d 0C        		.byte	12
 5036 020e 66        		.byte	102
 5037 020f 0C        		.byte	12
 5038 0210 0E        		.byte	14
 5039 0211 00        		.byte	0
 5040 0212 0C        		.byte	12
 5041 0213 03        		.byte	3
 5042 0214 33        		.byte	51
 5043 0215 0C        		.byte	12
 5044 0216 33        		.byte	51
 5045 0217 33        		.byte	51
 5046 0218 30        		.byte	48
 5047 0219 33        		.byte	51
 5048 021a 33        		.byte	51
 5049 021b 06        		.byte	6
 5050 021c 33        		.byte	51
 5051 021d 18        		.byte	24
 5052 021e 0C        		.byte	12
 5053 021f 0E        		.byte	14
 5054 0220 0C        		.byte	12
 5055 0221 00        		.byte	0
 5056 0222 0C        		.byte	12
 5057 0223 00        		.byte	0
 5058 0224 03        		.byte	3
 5059 0225 33        		.byte	51
 5060 0226 66        		.byte	102
 5061 0227 66        		.byte	102
 5062 0228 36        		.byte	54
 5063 0229 46        		.byte	70
 5064 022a 06        		.byte	6
 5065 022b 66        		.byte	102
 5066 022c 33        		.byte	51
 5067 022d 0C        		.byte	12
 5068 022e 33        		.byte	51
 5069 022f 66        		.byte	102
 5070 0230 66        		.byte	102
 5071 0231 63        		.byte	99
 5072 0232 63        		.byte	99
 5073 0233 36        		.byte	54
 5074 0234 06        		.byte	6
 5075 0235 1E        		.byte	30
 5076 0236 36        		.byte	54
 5077 0237 33        		.byte	51
 5078 0238 0C        		.byte	12
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 197


 5079 0239 33        		.byte	51
 5080 023a 1E        		.byte	30
 5081 023b 77        		.byte	119
 5082 023c 63        		.byte	99
 5083 023d 0C        		.byte	12
 5084 023e 63        		.byte	99
 5085 023f 06        		.byte	6
 5086 0240 60        		.byte	96
 5087 0241 18        		.byte	24
 5088 0242 00        		.byte	0
 5089 0243 00        		.byte	0
 5090 0244 00        		.byte	0
 5091 0245 33        		.byte	51
 5092 0246 66        		.byte	102
 5093 0247 33        		.byte	51
 5094 0248 33        		.byte	51
 5095 0249 03        		.byte	3
 5096 024a 06        		.byte	6
 5097 024b 3E        		.byte	62
 5098 024c 66        		.byte	102
 5099 024d 0C        		.byte	12
 5100 024e 18        		.byte	24
 5101 024f 36        		.byte	54
 5102 0250 0C        		.byte	12
 5103 0251 63        		.byte	99
 5104 0252 33        		.byte	51
 5105 0253 33        		.byte	51
 5106 0254 3E        		.byte	62
 5107 0255 3E        		.byte	62
 5108 0256 06        		.byte	6
 5109 0257 30        		.byte	48
 5110 0258 2C        		.byte	44
 5111 0259 33        		.byte	51
 5112 025a 1E        		.byte	30
 5113 025b 7F        		.byte	127
 5114 025c 36        		.byte	54
 5115 025d 3E        		.byte	62
 5116 025e 26        		.byte	38
 5117 025f 0C        		.byte	12
 5118 0260 18        		.byte	24
 5119 0261 0C        		.byte	12
 5120 0262 00        		.byte	0
 5121 0263 F3        		.byte	-13
 5122 0264 00        		.byte	0
 5123 0265 0C        		.byte	12
 5124 0266 00        		.byte	0
 5125 0267 36        		.byte	54
 5126 0268 0C        		.byte	12
 5127 0269 63        		.byte	99
 5128 026a 6E        		.byte	110
 5129 026b 00        		.byte	0
 5130 026c 18        		.byte	24
 5131 026d 06        		.byte	6
 5132 026e 00        		.byte	0
 5133 026f 00        		.byte	0
 5134 0270 0C        		.byte	12
 5135 0271 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 198


 5136 0272 0C        		.byte	12
 5137 0273 01        		.byte	1
 5138 0274 1E        		.byte	30
 5139 0275 3F        		.byte	63
 5140 0276 3F        		.byte	63
 5141 0277 1E        		.byte	30
 5142 0278 30        		.byte	48
 5143 0279 1E        		.byte	30
 5144 027a 1E        		.byte	30
 5145 027b 06        		.byte	6
 5146 027c 1E        		.byte	30
 5147 027d 0E        		.byte	14
 5148 027e 0C        		.byte	12
 5149 027f 0C        		.byte	12
 5150 0280 18        		.byte	24
 5151 0281 00        		.byte	0
 5152 0282 06        		.byte	6
 5153 0283 0C        		.byte	12
 5154 0284 1E        		.byte	30
 5155 0285 33        		.byte	51
 5156 0286 3F        		.byte	63
 5157 0287 3C        		.byte	60
 5158 0288 3F        		.byte	63
 5159 0289 7F        		.byte	127
 5160 028a 0F        		.byte	15
 5161 028b 7C        		.byte	124
 5162 028c 33        		.byte	51
 5163 028d 1E        		.byte	30
 5164 028e 1E        		.byte	30
 5165 028f 67        		.byte	103
 5166 0290 7F        		.byte	127
 5167 0291 63        		.byte	99
 5168 0292 63        		.byte	99
 5169 0293 1C        		.byte	28
 5170 0294 0F        		.byte	15
 5171 0295 38        		.byte	56
 5172 0296 67        		.byte	103
 5173 0297 1E        		.byte	30
 5174 0298 1E        		.byte	30
 5175 0299 3F        		.byte	63
 5176 029a 0C        		.byte	12
 5177 029b 63        		.byte	99
 5178 029c 63        		.byte	99
 5179 029d 1E        		.byte	30
 5180 029e 7F        		.byte	127
 5181 029f 1E        		.byte	30
 5182 02a0 40        		.byte	64
 5183 02a1 1E        		.byte	30
 5184 02a2 00        		.byte	0
 5185 02a3 00        		.byte	0
 5186 02a4 00        		.byte	0
 5187 02a5 6E        		.byte	110
 5188 02a6 3D        		.byte	61
 5189 02a7 1E        		.byte	30
 5190 02a8 6E        		.byte	110
 5191 02a9 1E        		.byte	30
 5192 02aa 0F        		.byte	15
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 199


 5193 02ab 30        		.byte	48
 5194 02ac 67        		.byte	103
 5195 02ad 1E        		.byte	30
 5196 02ae 1B        		.byte	27
 5197 02af 67        		.byte	103
 5198 02b0 1E        		.byte	30
 5199 02b1 63        		.byte	99
 5200 02b2 33        		.byte	51
 5201 02b3 1E        		.byte	30
 5202 02b4 06        		.byte	6
 5203 02b5 30        		.byte	48
 5204 02b6 0F        		.byte	15
 5205 02b7 1F        		.byte	31
 5206 02b8 18        		.byte	24
 5207 02b9 6E        		.byte	110
 5208 02ba 0C        		.byte	12
 5209 02bb 36        		.byte	54
 5210 02bc 63        		.byte	99
 5211 02bd 30        		.byte	48
 5212 02be 3F        		.byte	63
 5213 02bf 38        		.byte	56
 5214 02c0 18        		.byte	24
 5215 02c1 07        		.byte	7
 5216 02c2 00        		.byte	0
 5217 02c3 46        		.byte	70
 5218 02c4 00        		.byte	0
 5219 02c5 00        		.byte	0
 5220 02c6 00        		.byte	0
 5221 02c7 00        		.byte	0
 5222 02c8 00        		.byte	0
 5223 02c9 00        		.byte	0
 5224 02ca 00        		.byte	0
 5225 02cb 00        		.byte	0
 5226 02cc 00        		.byte	0
 5227 02cd 00        		.byte	0
 5228 02ce 00        		.byte	0
 5229 02cf 00        		.byte	0
 5230 02d0 06        		.byte	6
 5231 02d1 00        		.byte	0
 5232 02d2 00        		.byte	0
 5233 02d3 00        		.byte	0
 5234 02d4 00        		.byte	0
 5235 02d5 00        		.byte	0
 5236 02d6 00        		.byte	0
 5237 02d7 00        		.byte	0
 5238 02d8 00        		.byte	0
 5239 02d9 00        		.byte	0
 5240 02da 00        		.byte	0
 5241 02db 00        		.byte	0
 5242 02dc 00        		.byte	0
 5243 02dd 00        		.byte	0
 5244 02de 00        		.byte	0
 5245 02df 06        		.byte	6
 5246 02e0 00        		.byte	0
 5247 02e1 00        		.byte	0
 5248 02e2 00        		.byte	0
 5249 02e3 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 200


 5250 02e4 00        		.byte	0
 5251 02e5 00        		.byte	0
 5252 02e6 00        		.byte	0
 5253 02e7 00        		.byte	0
 5254 02e8 00        		.byte	0
 5255 02e9 00        		.byte	0
 5256 02ea 00        		.byte	0
 5257 02eb 00        		.byte	0
 5258 02ec 00        		.byte	0
 5259 02ed 00        		.byte	0
 5260 02ee 00        		.byte	0
 5261 02ef 00        		.byte	0
 5262 02f0 00        		.byte	0
 5263 02f1 00        		.byte	0
 5264 02f2 00        		.byte	0
 5265 02f3 00        		.byte	0
 5266 02f4 00        		.byte	0
 5267 02f5 00        		.byte	0
 5268 02f6 00        		.byte	0
 5269 02f7 00        		.byte	0
 5270 02f8 00        		.byte	0
 5271 02f9 00        		.byte	0
 5272 02fa 00        		.byte	0
 5273 02fb 00        		.byte	0
 5274 02fc 00        		.byte	0
 5275 02fd 00        		.byte	0
 5276 02fe 00        		.byte	0
 5277 02ff 00        		.byte	0
 5278 0300 00        		.byte	0
 5279 0301 00        		.byte	0
 5280 0302 00        		.byte	0
 5281 0303 FF        		.byte	-1
 5282 0304 00        		.byte	0
 5283 0305 00        		.byte	0
 5284 0306 00        		.byte	0
 5285 0307 00        		.byte	0
 5286 0308 00        		.byte	0
 5287 0309 00        		.byte	0
 5288 030a 00        		.byte	0
 5289 030b 1F        		.byte	31
 5290 030c 00        		.byte	0
 5291 030d 00        		.byte	0
 5292 030e 0E        		.byte	14
 5293 030f 00        		.byte	0
 5294 0310 00        		.byte	0
 5295 0311 00        		.byte	0
 5296 0312 00        		.byte	0
 5297 0313 00        		.byte	0
 5298 0314 0F        		.byte	15
 5299 0315 78        		.byte	120
 5300 0316 00        		.byte	0
 5301 0317 00        		.byte	0
 5302 0318 00        		.byte	0
 5303 0319 00        		.byte	0
 5304 031a 00        		.byte	0
 5305 031b 00        		.byte	0
 5306 031c 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 201


 5307 031d 1F        		.byte	31
 5308 031e 00        		.byte	0
 5309 031f 00        		.byte	0
 5310 0320 00        		.byte	0
 5311 0321 00        		.byte	0
 5312 0322 00        		.byte	0
 5313 0323 F4        		.byte	-12
 5314               	.global	skyOverrideSprite
 5315               	.global	skyOverrideSprite
 5316               		.section .bss
 5317               		.type	skyOverrideSprite, @object
 5318               		.size	skyOverrideSprite, 2
 5319               	skyOverrideSprite:
 5320 0000 0000      		.skip 2,0
 5321               	.global	callCount
 5322               	.global	callCount
 5323               		.type	callCount, @object
 5324               		.size	callCount, 1
 5325               	callCount:
 5326 0002 00        		.skip 1,0
 5327               	.global	qCount
 5328               	.global	qCount
 5329               		.type	qCount, @object
 5330               		.size	qCount, 1
 5331               	qCount:
 5332 0003 00        		.skip 1,0
 5333               	.global	p_selectedSprite
 5334               		.data
 5335               		.type	p_selectedSprite, @object
 5336               		.size	p_selectedSprite, 2
 5337               	p_selectedSprite:
 5338 0000 0000      		.word	spriteCOIN
 5339               	.global	p_nextSprite
 5340               	.global	p_nextSprite
 5341               		.section .bss
 5342               		.type	p_nextSprite, @object
 5343               		.size	p_nextSprite, 2
 5344               	p_nextSprite:
 5345 0004 0000      		.skip 2,0
 5346               	.global	dataEnable
 5347               	.global	dataEnable
 5348               		.type	dataEnable, @object
 5349               		.size	dataEnable, 1
 5350               	dataEnable:
 5351 0006 00        		.skip 1,0
 5352               	.global	vSync
 5353               	.global	vSync
 5354               		.type	vSync, @object
 5355               		.size	vSync, 1
 5356               	vSync:
 5357 0007 00        		.skip 1,0
 5358               	.global	hsyncCount
 5359               	.global	hsyncCount
 5360               		.type	hsyncCount, @object
 5361               		.size	hsyncCount, 2
 5362               	hsyncCount:
 5363 0008 0000      		.skip 2,0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 202


 5364               	.global	frameCount
 5365               	.global	frameCount
 5366               		.type	frameCount, @object
 5367               		.size	frameCount, 1
 5368               	frameCount:
 5369 000a 00        		.skip 1,0
 5370               		.data
 5371               		.type	spriteCOIN, @object
 5372               		.size	spriteCOIN, 7
 5373               	spriteCOIN:
 5374 0002 0000      		.word	pgm_imageCOIN
 5375 0004 0000      		.word	0
 5376 0006 0000      		.word	pgm_paletteCOIN
 5377 0008 01        		.byte	1
 5378               		.lcomm lastFrameCount.2262,1
 5379               		.type	avgCount.2260, @object
 5380               		.size	avgCount.2260, 1
 5381               	avgCount.2260:
 5382 0009 64        		.byte	100
 5383               		.lcomm adcVal.2259,2
 5384               		.lcomm adcAvg.2258,4
 5385               		.type	spriteGOOMBA, @object
 5386               		.size	spriteGOOMBA, 7
 5387               	spriteGOOMBA:
 5388 000a 0000      		.word	pgm_imageGOOMBA
 5389 000c 0000      		.word	0
 5390 000e 0000      		.word	pgm_paletteGOOMBA
 5391 0010 06        		.byte	6
 5392               		.type	spriteQ, @object
 5393               		.size	spriteQ, 7
 5394               	spriteQ:
 5395 0011 0000      		.word	pgm_imageQ
 5396 0013 0000      		.word	0
 5397 0015 0000      		.word	pgm_paletteQ
 5398 0017 03        		.byte	3
 5399               		.type	spriteFLOWER, @object
 5400               		.size	spriteFLOWER, 7
 5401               	spriteFLOWER:
 5402 0018 0000      		.word	pgm_imageFLOWER
 5403 001a 0000      		.word	0
 5404 001c 0000      		.word	pgm_paletteFLOWER
 5405 001e 04        		.byte	4
 5406               		.type	spriteDEADGOOMBA, @object
 5407               		.size	spriteDEADGOOMBA, 7
 5408               	spriteDEADGOOMBA:
 5409 001f 0000      		.word	pgm_imageDEADGOOMBA
 5410 0021 0000      		.word	0
 5411 0023 0000      		.word	pgm_paletteDEADGOOMBA
 5412 0025 01        		.byte	1
 5413               		.type	spriteSOLID, @object
 5414               		.size	spriteSOLID, 7
 5415               	spriteSOLID:
 5416 0026 0000      		.word	pgm_imageSOLID
 5417 0028 0000      		.word	0
 5418 002a 0000      		.word	pgm_paletteSOLID
 5419 002c 01        		.byte	1
 5420               		.type	sprite1UP, @object
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 203


 5421               		.size	sprite1UP, 7
 5422               	sprite1UP:
 5423 002d 0000      		.word	pgm_imageSHROOM
 5424 002f 0000      		.word	0
 5425 0031 0000      		.word	pgm_palette1UP
 5426 0033 01        		.byte	1
 5427               		.type	spriteBIG, @object
 5428               		.size	spriteBIG, 7
 5429               	spriteBIG:
 5430 0034 0000      		.word	pgm_imageSHROOM
 5431 0036 0000      		.word	0
 5432 0038 0000      		.word	pgm_paletteBIG
 5433 003a 01        		.byte	1
 5434               		.type	spriteSTAR, @object
 5435               		.size	spriteSTAR, 7
 5436               	spriteSTAR:
 5437 003b 0000      		.word	pgm_imageSTAR
 5438 003d 0000      		.word	0
 5439 003f 0000      		.word	pgm_paletteSTAR
 5440 0041 02        		.byte	2
 5441               		.section	.progmem.data
 5442               		.type	pgm_imageCOIN3, @object
 5443               		.size	pgm_imageCOIN3, 64
 5444               	pgm_imageCOIN3:
 5445 0324 00        		.byte	0
 5446 0325 00        		.byte	0
 5447 0326 00        		.byte	0
 5448 0327 00        		.byte	0
 5449 0328 00        		.byte	0
 5450 0329 C0        		.byte	-64
 5451 032a 01        		.byte	1
 5452 032b 00        		.byte	0
 5453 032c 00        		.byte	0
 5454 032d C0        		.byte	-64
 5455 032e 01        		.byte	1
 5456 032f 00        		.byte	0
 5457 0330 00        		.byte	0
 5458 0331 F0        		.byte	-16
 5459 0332 07        		.byte	7
 5460 0333 00        		.byte	0
 5461 0334 00        		.byte	0
 5462 0335 F0        		.byte	-16
 5463 0336 07        		.byte	7
 5464 0337 00        		.byte	0
 5465 0338 00        		.byte	0
 5466 0339 F0        		.byte	-16
 5467 033a 07        		.byte	7
 5468 033b 00        		.byte	0
 5469 033c 00        		.byte	0
 5470 033d F0        		.byte	-16
 5471 033e 07        		.byte	7
 5472 033f 00        		.byte	0
 5473 0340 00        		.byte	0
 5474 0341 F0        		.byte	-16
 5475 0342 07        		.byte	7
 5476 0343 00        		.byte	0
 5477 0344 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 204


 5478 0345 F0        		.byte	-16
 5479 0346 07        		.byte	7
 5480 0347 00        		.byte	0
 5481 0348 00        		.byte	0
 5482 0349 F0        		.byte	-16
 5483 034a 07        		.byte	7
 5484 034b 00        		.byte	0
 5485 034c 00        		.byte	0
 5486 034d F0        		.byte	-16
 5487 034e 07        		.byte	7
 5488 034f 00        		.byte	0
 5489 0350 00        		.byte	0
 5490 0351 F0        		.byte	-16
 5491 0352 07        		.byte	7
 5492 0353 00        		.byte	0
 5493 0354 00        		.byte	0
 5494 0355 F0        		.byte	-16
 5495 0356 07        		.byte	7
 5496 0357 00        		.byte	0
 5497 0358 00        		.byte	0
 5498 0359 C0        		.byte	-64
 5499 035a 01        		.byte	1
 5500 035b 00        		.byte	0
 5501 035c 00        		.byte	0
 5502 035d C0        		.byte	-64
 5503 035e 01        		.byte	1
 5504 035f 00        		.byte	0
 5505 0360 00        		.byte	0
 5506 0361 00        		.byte	0
 5507 0362 00        		.byte	0
 5508 0363 00        		.byte	0
 5509               		.comm frameBuffer,256,1
 5510               		.data
 5511               		.type	CSWTCH.48, @object
 5512               		.size	CSWTCH.48, 12
 5513               	CSWTCH.48:
 5514 0042 0000      		.word	pgm_imageCOIN
 5515 0044 0000      		.word	pgm_imageCOIN
 5516 0046 0000      		.word	pgm_imageCOIN1
 5517 0048 0000      		.word	pgm_imageCOIN1
 5518 004a 0000      		.word	pgm_imageCOIN2
 5519 004c 0000      		.word	pgm_imageCOIN2
 5520               		.type	CSWTCH.51, @object
 5521               		.size	CSWTCH.51, 12
 5522               	CSWTCH.51:
 5523 004e 00        		.byte	0
 5524 004f 00        		.byte	0
 5525 0050 00        		.byte	0
 5526 0051 01        		.byte	1
 5527 0052 01        		.byte	1
 5528 0053 02        		.byte	2
 5529 0054 02        		.byte	2
 5530 0055 01        		.byte	1
 5531 0056 01        		.byte	1
 5532 0057 00        		.byte	0
 5533 0058 00        		.byte	0
 5534 0059 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 205


 5535               		.section	.progmem.data
 5536               		.type	pgm_imageCOIN, @object
 5537               		.size	pgm_imageCOIN, 64
 5538               	pgm_imageCOIN:
 5539 0364 00        		.byte	0
 5540 0365 00        		.byte	0
 5541 0366 00        		.byte	0
 5542 0367 00        		.byte	0
 5543 0368 00        		.byte	0
 5544 0369 80        		.byte	-128
 5545 036a 02        		.byte	2
 5546 036b 00        		.byte	0
 5547 036c 00        		.byte	0
 5548 036d A0        		.byte	-96
 5549 036e 0A        		.byte	10
 5550 036f 00        		.byte	0
 5551 0370 00        		.byte	0
 5552 0371 A8        		.byte	-88
 5553 0372 2A        		.byte	42
 5554 0373 00        		.byte	0
 5555 0374 00        		.byte	0
 5556 0375 E8        		.byte	-24
 5557 0376 29        		.byte	41
 5558 0377 00        		.byte	0
 5559 0378 00        		.byte	0
 5560 0379 BA        		.byte	-70
 5561 037a A6        		.byte	-90
 5562 037b 00        		.byte	0
 5563 037c 00        		.byte	0
 5564 037d BA        		.byte	-70
 5565 037e A6        		.byte	-90
 5566 037f 00        		.byte	0
 5567 0380 00        		.byte	0
 5568 0381 BA        		.byte	-70
 5569 0382 A6        		.byte	-90
 5570 0383 00        		.byte	0
 5571 0384 00        		.byte	0
 5572 0385 BA        		.byte	-70
 5573 0386 A6        		.byte	-90
 5574 0387 00        		.byte	0
 5575 0388 00        		.byte	0
 5576 0389 BA        		.byte	-70
 5577 038a A6        		.byte	-90
 5578 038b 00        		.byte	0
 5579 038c 00        		.byte	0
 5580 038d BA        		.byte	-70
 5581 038e A6        		.byte	-90
 5582 038f 00        		.byte	0
 5583 0390 00        		.byte	0
 5584 0391 E8        		.byte	-24
 5585 0392 29        		.byte	41
 5586 0393 00        		.byte	0
 5587 0394 00        		.byte	0
 5588 0395 A8        		.byte	-88
 5589 0396 2A        		.byte	42
 5590 0397 00        		.byte	0
 5591 0398 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 206


 5592 0399 A0        		.byte	-96
 5593 039a 0A        		.byte	10
 5594 039b 00        		.byte	0
 5595 039c 00        		.byte	0
 5596 039d 80        		.byte	-128
 5597 039e 02        		.byte	2
 5598 039f 00        		.byte	0
 5599 03a0 00        		.byte	0
 5600 03a1 00        		.byte	0
 5601 03a2 00        		.byte	0
 5602 03a3 00        		.byte	0
 5603               		.type	pgm_paletteCOIN, @object
 5604               		.size	pgm_paletteCOIN, 4
 5605               	pgm_paletteCOIN:
 5606 03a4 25        		.byte	37
 5607 03a5 02        		.byte	2
 5608 03a6 07        		.byte	7
 5609 03a7 2F        		.byte	47
 5610               		.type	pgm_imageGOOMBA, @object
 5611               		.size	pgm_imageGOOMBA, 64
 5612               	pgm_imageGOOMBA:
 5613 03a8 00        		.byte	0
 5614 03a9 50        		.byte	80
 5615 03aa 05        		.byte	5
 5616 03ab 00        		.byte	0
 5617 03ac 00        		.byte	0
 5618 03ad 54        		.byte	84
 5619 03ae 15        		.byte	21
 5620 03af 00        		.byte	0
 5621 03b0 00        		.byte	0
 5622 03b1 55        		.byte	85
 5623 03b2 55        		.byte	85
 5624 03b3 00        		.byte	0
 5625 03b4 40        		.byte	64
 5626 03b5 55        		.byte	85
 5627 03b6 55        		.byte	85
 5628 03b7 01        		.byte	1
 5629 03b8 D0        		.byte	-48
 5630 03b9 57        		.byte	87
 5631 03ba D5        		.byte	-43
 5632 03bb 07        		.byte	7
 5633 03bc 54        		.byte	84
 5634 03bd 5E        		.byte	94
 5635 03be B5        		.byte	-75
 5636 03bf 15        		.byte	21
 5637 03c0 54        		.byte	84
 5638 03c1 FE        		.byte	-2
 5639 03c2 BF        		.byte	-65
 5640 03c3 15        		.byte	21
 5641 03c4 55        		.byte	85
 5642 03c5 6E        		.byte	110
 5643 03c6 B9        		.byte	-71
 5644 03c7 55        		.byte	85
 5645 03c8 55        		.byte	85
 5646 03c9 6A        		.byte	106
 5647 03ca A9        		.byte	-87
 5648 03cb 55        		.byte	85
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 207


 5649 03cc 55        		.byte	85
 5650 03cd 55        		.byte	85
 5651 03ce 55        		.byte	85
 5652 03cf 55        		.byte	85
 5653 03d0 54        		.byte	84
 5654 03d1 A9        		.byte	-87
 5655 03d2 6A        		.byte	106
 5656 03d3 15        		.byte	21
 5657 03d4 00        		.byte	0
 5658 03d5 AA        		.byte	-86
 5659 03d6 AA        		.byte	-86
 5660 03d7 00        		.byte	0
 5661 03d8 00        		.byte	0
 5662 03d9 AA        		.byte	-86
 5663 03da AA        		.byte	-86
 5664 03db 0F        		.byte	15
 5665 03dc C0        		.byte	-64
 5666 03dd AB        		.byte	-85
 5667 03de FA        		.byte	-6
 5668 03df 3F        		.byte	63
 5669 03e0 C0        		.byte	-64
 5670 03e1 AF        		.byte	-81
 5671 03e2 FE        		.byte	-2
 5672 03e3 3F        		.byte	63
 5673 03e4 00        		.byte	0
 5674 03e5 BF        		.byte	-65
 5675 03e6 FF        		.byte	-1
 5676 03e7 0F        		.byte	15
 5677               		.type	pgm_paletteGOOMBA, @object
 5678               		.size	pgm_paletteGOOMBA, 24
 5679               	pgm_paletteGOOMBA:
 5680 03e8 04        		.byte	4
 5681 03e9 02        		.byte	2
 5682 03ea 27        		.byte	39
 5683 03eb 00        		.byte	0
 5684 03ec 04        		.byte	4
 5685 03ed 02        		.byte	2
 5686 03ee 27        		.byte	39
 5687 03ef 00        		.byte	0
 5688 03f0 05        		.byte	5
 5689 03f1 02        		.byte	2
 5690 03f2 27        		.byte	39
 5691 03f3 00        		.byte	0
 5692 03f4 07        		.byte	7
 5693 03f5 02        		.byte	2
 5694 03f6 27        		.byte	39
 5695 03f7 00        		.byte	0
 5696 03f8 03        		.byte	3
 5697 03f9 01        		.byte	1
 5698 03fa 26        		.byte	38
 5699 03fb 00        		.byte	0
 5700 03fc 00        		.byte	0
 5701 03fd 20        		.byte	32
 5702 03fe 01        		.byte	1
 5703 03ff 20        		.byte	32
 5704               		.type	pgm_imageQ, @object
 5705               		.size	pgm_imageQ, 64
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 208


 5706               	pgm_imageQ:
 5707 0400 54        		.byte	84
 5708 0401 55        		.byte	85
 5709 0402 55        		.byte	85
 5710 0403 15        		.byte	21
 5711 0404 A9        		.byte	-87
 5712 0405 AA        		.byte	-86
 5713 0406 AA        		.byte	-86
 5714 0407 EA        		.byte	-22
 5715 0408 B9        		.byte	-71
 5716 0409 AA        		.byte	-86
 5717 040a AA        		.byte	-86
 5718 040b EE        		.byte	-18
 5719 040c A9        		.byte	-87
 5720 040d 56        		.byte	86
 5721 040e A5        		.byte	-91
 5722 040f EA        		.byte	-22
 5723 0410 A9        		.byte	-87
 5724 0411 F5        		.byte	-11
 5725 0412 97        		.byte	-105
 5726 0413 EA        		.byte	-22
 5727 0414 A9        		.byte	-87
 5728 0415 B5        		.byte	-75
 5729 0416 D6        		.byte	-42
 5730 0417 EA        		.byte	-22
 5731 0418 A9        		.byte	-87
 5732 0419 B5        		.byte	-75
 5733 041a D6        		.byte	-42
 5734 041b EA        		.byte	-22
 5735 041c A9        		.byte	-87
 5736 041d BE        		.byte	-66
 5737 041e D5        		.byte	-43
 5738 041f EA        		.byte	-22
 5739 0420 A9        		.byte	-87
 5740 0421 6A        		.byte	106
 5741 0422 FD        		.byte	-3
 5742 0423 EA        		.byte	-22
 5743 0424 A9        		.byte	-87
 5744 0425 6A        		.byte	106
 5745 0426 AD        		.byte	-83
 5746 0427 EA        		.byte	-22
 5747 0428 A9        		.byte	-87
 5748 0429 AA        		.byte	-86
 5749 042a AF        		.byte	-81
 5750 042b EA        		.byte	-22
 5751 042c A9        		.byte	-87
 5752 042d 6A        		.byte	106
 5753 042e A9        		.byte	-87
 5754 042f EA        		.byte	-22
 5755 0430 A9        		.byte	-87
 5756 0431 6A        		.byte	106
 5757 0432 AD        		.byte	-83
 5758 0433 EA        		.byte	-22
 5759 0434 B9        		.byte	-71
 5760 0435 AA        		.byte	-86
 5761 0436 AF        		.byte	-81
 5762 0437 EE        		.byte	-18
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 209


 5763 0438 A9        		.byte	-87
 5764 0439 AA        		.byte	-86
 5765 043a AA        		.byte	-86
 5766 043b EA        		.byte	-22
 5767 043c FF        		.byte	-1
 5768 043d FF        		.byte	-1
 5769 043e FF        		.byte	-1
 5770 043f FF        		.byte	-1
 5771               		.type	pgm_paletteQ, @object
 5772               		.size	pgm_paletteQ, 12
 5773               	pgm_paletteQ:
 5774 0440 25        		.byte	37
 5775 0441 02        		.byte	2
 5776 0442 07        		.byte	7
 5777 0443 00        		.byte	0
 5778 0444 25        		.byte	37
 5779 0445 02        		.byte	2
 5780 0446 02        		.byte	2
 5781 0447 00        		.byte	0
 5782 0448 25        		.byte	37
 5783 0449 02        		.byte	2
 5784 044a 01        		.byte	1
 5785 044b 00        		.byte	0
 5786               		.type	pgm_imageFLOWER, @object
 5787               		.size	pgm_imageFLOWER, 64
 5788               	pgm_imageFLOWER:
 5789 044c 00        		.byte	0
 5790 044d 55        		.byte	85
 5791 044e 55        		.byte	85
 5792 044f 00        		.byte	0
 5793 0450 50        		.byte	80
 5794 0451 55        		.byte	85
 5795 0452 55        		.byte	85
 5796 0453 05        		.byte	5
 5797 0454 54        		.byte	84
 5798 0455 AA        		.byte	-86
 5799 0456 AA        		.byte	-86
 5800 0457 15        		.byte	21
 5801 0458 A5        		.byte	-91
 5802 0459 FE        		.byte	-2
 5803 045a BF        		.byte	-65
 5804 045b 5A        		.byte	90
 5805 045c A5        		.byte	-91
 5806 045d FE        		.byte	-2
 5807 045e BF        		.byte	-65
 5808 045f 5A        		.byte	90
 5809 0460 54        		.byte	84
 5810 0461 AA        		.byte	-86
 5811 0462 AA        		.byte	-86
 5812 0463 15        		.byte	21
 5813 0464 50        		.byte	80
 5814 0465 55        		.byte	85
 5815 0466 55        		.byte	85
 5816 0467 05        		.byte	5
 5817 0468 00        		.byte	0
 5818 0469 55        		.byte	85
 5819 046a 55        		.byte	85
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 210


 5820 046b 00        		.byte	0
 5821 046c 00        		.byte	0
 5822 046d 40        		.byte	64
 5823 046e 01        		.byte	1
 5824 046f 00        		.byte	0
 5825 0470 15        		.byte	21
 5826 0471 40        		.byte	64
 5827 0472 01        		.byte	1
 5828 0473 54        		.byte	84
 5829 0474 54        		.byte	84
 5830 0475 40        		.byte	64
 5831 0476 01        		.byte	1
 5832 0477 15        		.byte	21
 5833 0478 54        		.byte	84
 5834 0479 41        		.byte	65
 5835 047a 41        		.byte	65
 5836 047b 15        		.byte	21
 5837 047c 50        		.byte	80
 5838 047d 45        		.byte	69
 5839 047e 51        		.byte	81
 5840 047f 05        		.byte	5
 5841 0480 50        		.byte	80
 5842 0481 45        		.byte	69
 5843 0482 51        		.byte	81
 5844 0483 05        		.byte	5
 5845 0484 40        		.byte	64
 5846 0485 55        		.byte	85
 5847 0486 55        		.byte	85
 5848 0487 01        		.byte	1
 5849 0488 00        		.byte	0
 5850 0489 50        		.byte	80
 5851 048a 05        		.byte	5
 5852 048b 00        		.byte	0
 5853               		.type	pgm_paletteFLOWER, @object
 5854               		.size	pgm_paletteFLOWER, 16
 5855               	pgm_paletteFLOWER:
 5856 048c 25        		.byte	37
 5857 048d 04        		.byte	4
 5858 048e 00        		.byte	0
 5859 048f 00        		.byte	0
 5860 0490 25        		.byte	37
 5861 0491 2F        		.byte	47
 5862 0492 07        		.byte	7
 5863 0493 04        		.byte	4
 5864 0494 25        		.byte	37
 5865 0495 17        		.byte	23
 5866 0496 02        		.byte	2
 5867 0497 00        		.byte	0
 5868 0498 25        		.byte	37
 5869 0499 07        		.byte	7
 5870 049a 05        		.byte	5
 5871 049b 02        		.byte	2
 5872               		.type	pgm_imageDEADGOOMBA, @object
 5873               		.size	pgm_imageDEADGOOMBA, 64
 5874               	pgm_imageDEADGOOMBA:
 5875 049c 00        		.byte	0
 5876 049d 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 211


 5877 049e 00        		.byte	0
 5878 049f 00        		.byte	0
 5879 04a0 00        		.byte	0
 5880 04a1 00        		.byte	0
 5881 04a2 00        		.byte	0
 5882 04a3 00        		.byte	0
 5883 04a4 00        		.byte	0
 5884 04a5 00        		.byte	0
 5885 04a6 00        		.byte	0
 5886 04a7 00        		.byte	0
 5887 04a8 00        		.byte	0
 5888 04a9 00        		.byte	0
 5889 04aa 00        		.byte	0
 5890 04ab 00        		.byte	0
 5891 04ac 00        		.byte	0
 5892 04ad 00        		.byte	0
 5893 04ae 00        		.byte	0
 5894 04af 00        		.byte	0
 5895 04b0 00        		.byte	0
 5896 04b1 00        		.byte	0
 5897 04b2 00        		.byte	0
 5898 04b3 00        		.byte	0
 5899 04b4 00        		.byte	0
 5900 04b5 00        		.byte	0
 5901 04b6 00        		.byte	0
 5902 04b7 00        		.byte	0
 5903 04b8 00        		.byte	0
 5904 04b9 50        		.byte	80
 5905 04ba 05        		.byte	5
 5906 04bb 00        		.byte	0
 5907 04bc 40        		.byte	64
 5908 04bd 55        		.byte	85
 5909 04be 55        		.byte	85
 5910 04bf 01        		.byte	1
 5911 04c0 D4        		.byte	-44
 5912 04c1 5F        		.byte	95
 5913 04c2 F5        		.byte	-11
 5914 04c3 17        		.byte	23
 5915 04c4 A5        		.byte	-91
 5916 04c5 FA        		.byte	-6
 5917 04c6 AF        		.byte	-81
 5918 04c7 5A        		.byte	90
 5919 04c8 55        		.byte	85
 5920 04c9 55        		.byte	85
 5921 04ca 55        		.byte	85
 5922 04cb 55        		.byte	85
 5923 04cc 80        		.byte	-128
 5924 04cd AA        		.byte	-86
 5925 04ce AA        		.byte	-86
 5926 04cf 02        		.byte	2
 5927 04d0 80        		.byte	-128
 5928 04d1 AA        		.byte	-86
 5929 04d2 AA        		.byte	-86
 5930 04d3 02        		.byte	2
 5931 04d4 F0        		.byte	-16
 5932 04d5 0F        		.byte	15
 5933 04d6 F0        		.byte	-16
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 212


 5934 04d7 3F        		.byte	63
 5935 04d8 00        		.byte	0
 5936 04d9 00        		.byte	0
 5937 04da 00        		.byte	0
 5938 04db 00        		.byte	0
 5939               		.type	pgm_paletteDEADGOOMBA, @object
 5940               		.size	pgm_paletteDEADGOOMBA, 4
 5941               	pgm_paletteDEADGOOMBA:
 5942 04dc 25        		.byte	37
 5943 04dd 02        		.byte	2
 5944 04de 27        		.byte	39
 5945 04df 00        		.byte	0
 5946               		.type	pgm_imageSOLID, @object
 5947               		.size	pgm_imageSOLID, 64
 5948               	pgm_imageSOLID:
 5949 04e0 FC        		.byte	-4
 5950 04e1 FF        		.byte	-1
 5951 04e2 FF        		.byte	-1
 5952 04e3 3F        		.byte	63
 5953 04e4 57        		.byte	87
 5954 04e5 55        		.byte	85
 5955 04e6 55        		.byte	85
 5956 04e7 D5        		.byte	-43
 5957 04e8 77        		.byte	119
 5958 04e9 55        		.byte	85
 5959 04ea 55        		.byte	85
 5960 04eb DD        		.byte	-35
 5961 04ec 57        		.byte	87
 5962 04ed 55        		.byte	85
 5963 04ee 55        		.byte	85
 5964 04ef D5        		.byte	-43
 5965 04f0 57        		.byte	87
 5966 04f1 55        		.byte	85
 5967 04f2 55        		.byte	85
 5968 04f3 D5        		.byte	-43
 5969 04f4 57        		.byte	87
 5970 04f5 55        		.byte	85
 5971 04f6 55        		.byte	85
 5972 04f7 D5        		.byte	-43
 5973 04f8 57        		.byte	87
 5974 04f9 55        		.byte	85
 5975 04fa 55        		.byte	85
 5976 04fb D5        		.byte	-43
 5977 04fc 57        		.byte	87
 5978 04fd 55        		.byte	85
 5979 04fe 55        		.byte	85
 5980 04ff D5        		.byte	-43
 5981 0500 57        		.byte	87
 5982 0501 55        		.byte	85
 5983 0502 55        		.byte	85
 5984 0503 D5        		.byte	-43
 5985 0504 57        		.byte	87
 5986 0505 55        		.byte	85
 5987 0506 55        		.byte	85
 5988 0507 D5        		.byte	-43
 5989 0508 57        		.byte	87
 5990 0509 55        		.byte	85
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 213


 5991 050a 55        		.byte	85
 5992 050b D5        		.byte	-43
 5993 050c 57        		.byte	87
 5994 050d 55        		.byte	85
 5995 050e 55        		.byte	85
 5996 050f D5        		.byte	-43
 5997 0510 57        		.byte	87
 5998 0511 55        		.byte	85
 5999 0512 55        		.byte	85
 6000 0513 D5        		.byte	-43
 6001 0514 77        		.byte	119
 6002 0515 55        		.byte	85
 6003 0516 55        		.byte	85
 6004 0517 DD        		.byte	-35
 6005 0518 57        		.byte	87
 6006 0519 55        		.byte	85
 6007 051a 55        		.byte	85
 6008 051b D5        		.byte	-43
 6009 051c FC        		.byte	-4
 6010 051d FF        		.byte	-1
 6011 051e FF        		.byte	-1
 6012 051f 3F        		.byte	63
 6013               		.type	pgm_paletteSOLID, @object
 6014               		.size	pgm_paletteSOLID, 4
 6015               	pgm_paletteSOLID:
 6016 0520 25        		.byte	37
 6017 0521 02        		.byte	2
 6018 0522 00        		.byte	0
 6019 0523 00        		.byte	0
 6020               		.type	pgm_imageSHROOM, @object
 6021               		.size	pgm_imageSHROOM, 64
 6022               	pgm_imageSHROOM:
 6023 0524 00        		.byte	0
 6024 0525 50        		.byte	80
 6025 0526 05        		.byte	5
 6026 0527 00        		.byte	0
 6027 0528 00        		.byte	0
 6028 0529 54        		.byte	84
 6029 052a 29        		.byte	41
 6030 052b 00        		.byte	0
 6031 052c 00        		.byte	0
 6032 052d 55        		.byte	85
 6033 052e AA        		.byte	-86
 6034 052f 00        		.byte	0
 6035 0530 40        		.byte	64
 6036 0531 55        		.byte	85
 6037 0532 AA        		.byte	-86
 6038 0533 02        		.byte	2
 6039 0534 50        		.byte	80
 6040 0535 55        		.byte	85
 6041 0536 A9        		.byte	-87
 6042 0537 05        		.byte	5
 6043 0538 94        		.byte	-108
 6044 0539 5A        		.byte	90
 6045 053a 55        		.byte	85
 6046 053b 15        		.byte	21
 6047 053c A4        		.byte	-92
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 214


 6048 053d 6A        		.byte	106
 6049 053e 55        		.byte	85
 6050 053f 15        		.byte	21
 6051 0540 A5        		.byte	-91
 6052 0541 6A        		.byte	106
 6053 0542 55        		.byte	85
 6054 0543 5A        		.byte	90
 6055 0544 A5        		.byte	-91
 6056 0545 6A        		.byte	106
 6057 0546 55        		.byte	85
 6058 0547 6A        		.byte	106
 6059 0548 95        		.byte	-107
 6060 0549 5A        		.byte	90
 6061 054a 55        		.byte	85
 6062 054b 69        		.byte	105
 6063 054c 55        		.byte	85
 6064 054d 55        		.byte	85
 6065 054e 55        		.byte	85
 6066 054f 55        		.byte	85
 6067 0550 A4        		.byte	-92
 6068 0551 FE        		.byte	-2
 6069 0552 BF        		.byte	-65
 6070 0553 1A        		.byte	26
 6071 0554 00        		.byte	0
 6072 0555 FF        		.byte	-1
 6073 0556 FF        		.byte	-1
 6074 0557 00        		.byte	0
 6075 0558 00        		.byte	0
 6076 0559 FF        		.byte	-1
 6077 055a DF        		.byte	-33
 6078 055b 00        		.byte	0
 6079 055c 00        		.byte	0
 6080 055d FF        		.byte	-1
 6081 055e DF        		.byte	-33
 6082 055f 00        		.byte	0
 6083 0560 00        		.byte	0
 6084 0561 FC        		.byte	-4
 6085 0562 37        		.byte	55
 6086 0563 00        		.byte	0
 6087               		.type	pgm_palette1UP, @object
 6088               		.size	pgm_palette1UP, 4
 6089               	pgm_palette1UP:
 6090 0564 25        		.byte	37
 6091 0565 07        		.byte	7
 6092 0566 04        		.byte	4
 6093 0567 2F        		.byte	47
 6094               		.type	pgm_paletteBIG, @object
 6095               		.size	pgm_paletteBIG, 4
 6096               	pgm_paletteBIG:
 6097 0568 25        		.byte	37
 6098 0569 07        		.byte	7
 6099 056a 02        		.byte	2
 6100 056b 2F        		.byte	47
 6101               		.type	pgm_imageSTAR, @object
 6102               		.size	pgm_imageSTAR, 64
 6103               	pgm_imageSTAR:
 6104 056c 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 215


 6105 056d 40        		.byte	64
 6106 056e 01        		.byte	1
 6107 056f 00        		.byte	0
 6108 0570 00        		.byte	0
 6109 0571 40        		.byte	64
 6110 0572 01        		.byte	1
 6111 0573 00        		.byte	0
 6112 0574 00        		.byte	0
 6113 0575 50        		.byte	80
 6114 0576 05        		.byte	5
 6115 0577 00        		.byte	0
 6116 0578 00        		.byte	0
 6117 0579 50        		.byte	80
 6118 057a 05        		.byte	5
 6119 057b 00        		.byte	0
 6120 057c 00        		.byte	0
 6121 057d 54        		.byte	84
 6122 057e 15        		.byte	21
 6123 057f 00        		.byte	0
 6124 0580 54        		.byte	84
 6125 0581 55        		.byte	85
 6126 0582 55        		.byte	85
 6127 0583 15        		.byte	21
 6128 0584 54        		.byte	84
 6129 0585 65        		.byte	101
 6130 0586 59        		.byte	89
 6131 0587 15        		.byte	21
 6132 0588 50        		.byte	80
 6133 0589 65        		.byte	101
 6134 058a 59        		.byte	89
 6135 058b 05        		.byte	5
 6136 058c 40        		.byte	64
 6137 058d 65        		.byte	101
 6138 058e 59        		.byte	89
 6139 058f 01        		.byte	1
 6140 0590 00        		.byte	0
 6141 0591 55        		.byte	85
 6142 0592 55        		.byte	85
 6143 0593 00        		.byte	0
 6144 0594 00        		.byte	0
 6145 0595 55        		.byte	85
 6146 0596 55        		.byte	85
 6147 0597 00        		.byte	0
 6148 0598 40        		.byte	64
 6149 0599 55        		.byte	85
 6150 059a 55        		.byte	85
 6151 059b 01        		.byte	1
 6152 059c 40        		.byte	64
 6153 059d 55        		.byte	85
 6154 059e 55        		.byte	85
 6155 059f 01        		.byte	1
 6156 05a0 40        		.byte	64
 6157 05a1 15        		.byte	21
 6158 05a2 54        		.byte	84
 6159 05a3 01        		.byte	1
 6160 05a4 50        		.byte	80
 6161 05a5 01        		.byte	1
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 216


 6162 05a6 40        		.byte	64
 6163 05a7 05        		.byte	5
 6164 05a8 50        		.byte	80
 6165 05a9 00        		.byte	0
 6166 05aa 00        		.byte	0
 6167 05ab 05        		.byte	5
 6168               		.type	pgm_paletteSTAR, @object
 6169               		.size	pgm_paletteSTAR, 8
 6170               	pgm_paletteSTAR:
 6171 05ac 25        		.byte	37
 6172 05ad 07        		.byte	7
 6173 05ae 02        		.byte	2
 6174 05af 00        		.byte	0
 6175 05b0 25        		.byte	37
 6176 05b1 02        		.byte	2
 6177 05b2 00        		.byte	0
 6178 05b3 00        		.byte	0
 6179               		.type	pgm_imageCOIN1, @object
 6180               		.size	pgm_imageCOIN1, 64
 6181               	pgm_imageCOIN1:
 6182 05b4 00        		.byte	0
 6183 05b5 00        		.byte	0
 6184 05b6 00        		.byte	0
 6185 05b7 00        		.byte	0
 6186 05b8 00        		.byte	0
 6187 05b9 80        		.byte	-128
 6188 05ba 01        		.byte	1
 6189 05bb 00        		.byte	0
 6190 05bc 00        		.byte	0
 6191 05bd 80        		.byte	-128
 6192 05be 01        		.byte	1
 6193 05bf 00        		.byte	0
 6194 05c0 00        		.byte	0
 6195 05c1 60        		.byte	96
 6196 05c2 05        		.byte	5
 6197 05c3 00        		.byte	0
 6198 05c4 00        		.byte	0
 6199 05c5 60        		.byte	96
 6200 05c6 05        		.byte	5
 6201 05c7 00        		.byte	0
 6202 05c8 00        		.byte	0
 6203 05c9 60        		.byte	96
 6204 05ca 05        		.byte	5
 6205 05cb 00        		.byte	0
 6206 05cc 00        		.byte	0
 6207 05cd 60        		.byte	96
 6208 05ce 05        		.byte	5
 6209 05cf 00        		.byte	0
 6210 05d0 00        		.byte	0
 6211 05d1 70        		.byte	112
 6212 05d2 05        		.byte	5
 6213 05d3 00        		.byte	0
 6214 05d4 00        		.byte	0
 6215 05d5 70        		.byte	112
 6216 05d6 05        		.byte	5
 6217 05d7 00        		.byte	0
 6218 05d8 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 217


 6219 05d9 60        		.byte	96
 6220 05da 05        		.byte	5
 6221 05db 00        		.byte	0
 6222 05dc 00        		.byte	0
 6223 05dd 60        		.byte	96
 6224 05de 05        		.byte	5
 6225 05df 00        		.byte	0
 6226 05e0 00        		.byte	0
 6227 05e1 60        		.byte	96
 6228 05e2 05        		.byte	5
 6229 05e3 00        		.byte	0
 6230 05e4 00        		.byte	0
 6231 05e5 60        		.byte	96
 6232 05e6 05        		.byte	5
 6233 05e7 00        		.byte	0
 6234 05e8 00        		.byte	0
 6235 05e9 80        		.byte	-128
 6236 05ea 01        		.byte	1
 6237 05eb 00        		.byte	0
 6238 05ec 00        		.byte	0
 6239 05ed 80        		.byte	-128
 6240 05ee 01        		.byte	1
 6241 05ef 00        		.byte	0
 6242 05f0 00        		.byte	0
 6243 05f1 00        		.byte	0
 6244 05f2 00        		.byte	0
 6245 05f3 00        		.byte	0
 6246               		.type	pgm_imageCOIN2, @object
 6247               		.size	pgm_imageCOIN2, 64
 6248               	pgm_imageCOIN2:
 6249 05f4 00        		.byte	0
 6250 05f5 00        		.byte	0
 6251 05f6 00        		.byte	0
 6252 05f7 00        		.byte	0
 6253 05f8 00        		.byte	0
 6254 05f9 80        		.byte	-128
 6255 05fa 00        		.byte	0
 6256 05fb 00        		.byte	0
 6257 05fc 00        		.byte	0
 6258 05fd 80        		.byte	-128
 6259 05fe 00        		.byte	0
 6260 05ff 00        		.byte	0
 6261 0600 00        		.byte	0
 6262 0601 80        		.byte	-128
 6263 0602 00        		.byte	0
 6264 0603 00        		.byte	0
 6265 0604 00        		.byte	0
 6266 0605 80        		.byte	-128
 6267 0606 00        		.byte	0
 6268 0607 00        		.byte	0
 6269 0608 00        		.byte	0
 6270 0609 80        		.byte	-128
 6271 060a 00        		.byte	0
 6272 060b 00        		.byte	0
 6273 060c 00        		.byte	0
 6274 060d 80        		.byte	-128
 6275 060e 00        		.byte	0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 218


 6276 060f 00        		.byte	0
 6277 0610 00        		.byte	0
 6278 0611 C0        		.byte	-64
 6279 0612 00        		.byte	0
 6280 0613 00        		.byte	0
 6281 0614 00        		.byte	0
 6282 0615 C0        		.byte	-64
 6283 0616 00        		.byte	0
 6284 0617 00        		.byte	0
 6285 0618 00        		.byte	0
 6286 0619 80        		.byte	-128
 6287 061a 00        		.byte	0
 6288 061b 00        		.byte	0
 6289 061c 00        		.byte	0
 6290 061d 80        		.byte	-128
 6291 061e 00        		.byte	0
 6292 061f 00        		.byte	0
 6293 0620 00        		.byte	0
 6294 0621 80        		.byte	-128
 6295 0622 00        		.byte	0
 6296 0623 00        		.byte	0
 6297 0624 00        		.byte	0
 6298 0625 80        		.byte	-128
 6299 0626 00        		.byte	0
 6300 0627 00        		.byte	0
 6301 0628 00        		.byte	0
 6302 0629 80        		.byte	-128
 6303 062a 00        		.byte	0
 6304 062b 00        		.byte	0
 6305 062c 00        		.byte	0
 6306 062d 80        		.byte	-128
 6307 062e 00        		.byte	0
 6308 062f 00        		.byte	0
 6309 0630 00        		.byte	0
 6310 0631 00        		.byte	0
 6311 0632 00        		.byte	0
 6312 0633 00        		.byte	0
 6313               		.stabs	"pgm_imageQ:S(0,17)=ar(0,18)=r(0,18);0;0177777;;0;63;(3,2)",38,0,25,pgm_imageQ
 6314               		.stabs	"pgm_paletteQ:S(0,19)=ar(0,18);0;11;(3,2)",38,0,37,pgm_paletteQ
 6315               		.stabs	"spriteQ:S(15,3)",38,0,44,spriteQ
 6316               		.stabs	"pgm_imageSOLID:S(0,17)",38,0,22,pgm_imageSOLID
 6317               		.stabs	"pgm_paletteSOLID:S(0,20)=ar(0,18);0;3;(3,2)",38,0,34,pgm_paletteSOLID
 6318               		.stabs	"spriteSOLID:S(15,3)",38,0,37,spriteSOLID
 6319               		.stabs	"pgm_imageDEADGOOMBA:S(0,17)",38,0,20,pgm_imageDEADGOOMBA
 6320               		.stabs	"pgm_paletteDEADGOOMBA:S(0,20)",38,0,32,pgm_paletteDEADGOOMBA
 6321               		.stabs	"spriteDEADGOOMBA:S(15,3)",38,0,42,spriteDEADGOOMBA
 6322               		.stabs	"pgm_imageSHROOM:S(0,17)",38,0,26,pgm_imageSHROOM
 6323               		.stabs	"pgm_palette1UP:S(0,20)",38,0,40,pgm_palette1UP
 6324               		.stabs	"sprite1UP:S(15,3)",38,0,43,sprite1UP
 6325               		.stabs	"pgm_paletteBIG:S(0,20)",38,0,11,pgm_paletteBIG
 6326               		.stabs	"spriteBIG:S(15,3)",38,0,14,spriteBIG
 6327               		.stabs	"pgm_imageSTAR:S(0,17)",38,0,25,pgm_imageSTAR
 6328               		.stabs	"pgm_paletteSTAR:S(0,21)=ar(0,18);0;7;(3,2)",38,0,37,pgm_paletteSTAR
 6329               		.stabs	"spriteSTAR:S(15,3)",38,0,41,spriteSTAR
 6330               		.stabs	"pgm_imageFLOWER:S(0,17)",38,0,26,pgm_imageFLOWER
 6331               		.stabs	"pgm_paletteFLOWER:S(0,22)=ar(0,18);0;15;(3,2)",38,0,46,pgm_paletteFLOWER
 6332               		.stabs	"spriteFLOWER:S(15,3)",38,0,53,spriteFLOWER
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 219


 6333               		.stabs	"pgm_imageGOOMBA:S(0,17)",38,0,23,pgm_imageGOOMBA
 6334               		.stabs	"pgm_paletteGOOMBA:S(0,23)=ar(0,18);0;23;(3,2)",38,0,43,pgm_paletteGOOMBA
 6335               		.stabs	"spriteGOOMBA:S(15,3)",38,0,84,spriteGOOMBA
 6336               		.stabs	"pgm_imageCOIN:S(0,17)",38,0,77,pgm_imageCOIN
 6337               		.stabs	"pgm_imageCOIN1:S(0,17)",38,0,80,pgm_imageCOIN1
 6338               		.stabs	"pgm_imageCOIN2:S(0,17)",38,0,83,pgm_imageCOIN2
 6339               		.stabs	"pgm_imageCOIN3:S(0,17)",38,0,86,pgm_imageCOIN3
 6340               		.stabs	"pgm_paletteCOIN:S(0,20)",38,0,97,pgm_paletteCOIN
 6341               		.stabs	"spriteCOIN:S(15,3)",38,0,105,spriteCOIN
 6342               		.stabs	"header:G(0,24)=ar(0,18);0;35;(3,2)",32,0,12,0
 6343               		.stabs	"characters:G(0,25)=ar(0,18);0;7;(0,26)=ar(0,18);0;95;(3,2)",32,0,30,0
 6344               		.stabs	"frameBuffer:G(0,27)=ar(0,18);0;15;(0,22)",32,0,6,0
 6345               		.stabs	"skyOverrideSprite:G(0,16)",32,0,43,0
 6346               		.stabs	"callCount:G(3,2)",32,0,64,0
 6347               		.stabs	"qCount:G(3,2)",32,0,66,0
 6348               		.stabs	"p_selectedSprite:G(0,16)",32,0,67,0
 6349               		.stabs	"p_nextSprite:G(0,16)",32,0,68,0
 6350               		.stabs	"dataEnable:G(3,2)",32,0,1227,0
 6351               		.stabs	"vSync:G(3,2)",32,0,1228,0
 6352               		.stabs	"hsyncCount:G(3,4)",32,0,1229,0
 6353               		.stabs	"frameCount:G(0,28)=B(3,2)",32,0,279,0
 6354               		.text
 6355               		.stabs	"",100,0,0,.Letext0
 6356               	.Letext0:
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 220


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2      *ABS*:0000003f __SREG__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:3      *ABS*:0000003e __SP_H__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4      *ABS*:0000003d __SP_L__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5      *ABS*:00000000 __tmp_reg__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6      *ABS*:00000001 __zero_reg__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:116    .text:00000000 pll_enable
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:190    .text:00000020 lvds_timerInit
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:287    .text:0000006e setColor
                            *COM*:00000100 frameBuffer
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:344    .text:000000b0 frameBufferInit
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:363    .text:000000b2 nonRSB_drawPix
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:412    .text:000000ea red1tst_161
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:425    .text:00000104 end_161
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:419    .text:000000f8 red23_161
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:423    .text:00000100 red3_161
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:441    .text:0000011a grn4tst_162
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:454    .text:00000134 end_162
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:448    .text:00000128 grn8C_162
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:452    .text:00000130 grn3_162
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:467    .text:00000144 blu1tst_163
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:473    .text:00000150 end_163
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:471    .text:0000014c blu23_163
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:540    .text:00000182 red1tst_187
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:553    .text:0000019c end_187
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:547    .text:00000190 red23_187
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:551    .text:00000198 red3_187
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:569    .text:000001b2 grn4tst_188
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:582    .text:000001cc end_188
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:576    .text:000001c0 grn8C_188
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:580    .text:000001c8 grn3_188
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:595    .text:000001dc blu1tst_189
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:601    .text:000001e8 end_189
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:599    .text:000001e4 blu23_189
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:664    .text:00000216 red1tst_211
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:677    .text:00000230 end_211
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:671    .text:00000224 red23_211
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:675    .text:0000022c red3_211
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:693    .text:00000246 grn4tst_212
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:706    .text:00000260 end_212
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:700    .text:00000254 grn8C_212
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:704    .text:0000025c grn3_212
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:719    .text:00000270 blu1tst_213
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:725    .text:0000027c end_213
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:723    .text:00000278 blu23_213
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:788    .text:000002aa red1tst_235
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:801    .text:000002c4 end_235
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:795    .text:000002b8 red23_235
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:799    .text:000002c0 red3_235
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:817    .text:000002da grn4tst_236
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:830    .text:000002f4 end_236
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:824    .text:000002e8 grn8C_236
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:828    .text:000002f0 grn3_236
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:843    .text:00000304 blu1tst_237
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:849    .text:00000310 end_237
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:847    .text:0000030c blu23_237
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 221


/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:912    .text:0000033e red1tst_259
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:925    .text:00000358 end_259
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:919    .text:0000034c red23_259
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:923    .text:00000354 red3_259
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:941    .text:0000036e grn4tst_260
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:954    .text:00000388 end_260
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:948    .text:0000037c grn8C_260
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:952    .text:00000384 grn3_260
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:967    .text:00000398 blu1tst_261
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:973    .text:000003a4 end_261
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:971    .text:000003a0 blu23_261
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1036   .text:000003d2 red1tst_283
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1049   .text:000003ec end_283
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1043   .text:000003e0 red23_283
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1047   .text:000003e8 red3_283
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1065   .text:00000402 grn4tst_284
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1078   .text:0000041c end_284
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1072   .text:00000410 grn8C_284
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1076   .text:00000418 grn3_284
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1091   .text:0000042c blu1tst_285
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1097   .text:00000438 end_285
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1095   .text:00000434 blu23_285
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1160   .text:00000466 red1tst_307
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1173   .text:00000480 end_307
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1167   .text:00000474 red23_307
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1171   .text:0000047c red3_307
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1189   .text:00000496 grn4tst_308
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1202   .text:000004b0 end_308
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1196   .text:000004a4 grn8C_308
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1200   .text:000004ac grn3_308
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1215   .text:000004c0 blu1tst_309
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1221   .text:000004cc end_309
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1219   .text:000004c8 blu23_309
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1284   .text:000004fa red1tst_331
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1297   .text:00000514 end_331
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1291   .text:00000508 red23_331
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1295   .text:00000510 red3_331
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1313   .text:0000052a grn4tst_332
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1326   .text:00000544 end_332
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1320   .text:00000538 grn8C_332
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1324   .text:00000540 grn3_332
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1339   .text:00000554 blu1tst_333
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1345   .text:00000560 end_333
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1343   .text:0000055c blu23_333
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1408   .text:0000058e red1tst_355
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1421   .text:000005a8 end_355
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1415   .text:0000059c red23_355
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1419   .text:000005a4 red3_355
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1437   .text:000005be grn4tst_356
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1450   .text:000005d8 end_356
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1444   .text:000005cc grn8C_356
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1448   .text:000005d4 grn3_356
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1463   .text:000005e8 blu1tst_357
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1469   .text:000005f4 end_357
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1467   .text:000005f0 blu23_357
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1532   .text:00000622 red1tst_379
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1545   .text:0000063c end_379
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 222


/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1539   .text:00000630 red23_379
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1543   .text:00000638 red3_379
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1561   .text:00000652 grn4tst_380
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1574   .text:0000066c end_380
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1568   .text:00000660 grn8C_380
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1572   .text:00000668 grn3_380
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1587   .text:0000067c blu1tst_381
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1593   .text:00000688 end_381
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1591   .text:00000684 blu23_381
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1656   .text:000006b6 red1tst_403
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1669   .text:000006d0 end_403
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1663   .text:000006c4 red23_403
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1667   .text:000006cc red3_403
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1685   .text:000006e6 grn4tst_404
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1698   .text:00000700 end_404
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1692   .text:000006f4 grn8C_404
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1696   .text:000006fc grn3_404
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1711   .text:00000710 blu1tst_405
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1717   .text:0000071c end_405
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1715   .text:00000718 blu23_405
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1780   .text:0000074a red1tst_427
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1793   .text:00000764 end_427
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1787   .text:00000758 red23_427
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1791   .text:00000760 red3_427
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1809   .text:0000077a grn4tst_428
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1822   .text:00000794 end_428
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1816   .text:00000788 grn8C_428
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1820   .text:00000790 grn3_428
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1835   .text:000007a4 blu1tst_429
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1841   .text:000007b0 end_429
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1839   .text:000007ac blu23_429
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1904   .text:000007de red1tst_451
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1917   .text:000007f8 end_451
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1911   .text:000007ec red23_451
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1915   .text:000007f4 red3_451
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1933   .text:0000080e grn4tst_452
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1946   .text:00000828 end_452
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1940   .text:0000081c grn8C_452
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1944   .text:00000824 grn3_452
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1959   .text:00000838 blu1tst_453
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1965   .text:00000844 end_453
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:1963   .text:00000840 blu23_453
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2028   .text:00000872 red1tst_475
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2041   .text:0000088c end_475
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2035   .text:00000880 red23_475
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2039   .text:00000888 red3_475
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2057   .text:000008a2 grn4tst_476
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2070   .text:000008bc end_476
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2064   .text:000008b0 grn8C_476
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2068   .text:000008b8 grn3_476
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2083   .text:000008cc blu1tst_477
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2089   .text:000008d8 end_477
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2087   .text:000008d4 blu23_477
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2152   .text:00000906 red1tst_499
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2165   .text:00000920 end_499
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2159   .text:00000914 red23_499
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2163   .text:0000091c red3_499
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 223


/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2181   .text:00000936 grn4tst_500
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2194   .text:00000950 end_500
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2188   .text:00000944 grn8C_500
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2192   .text:0000094c grn3_500
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2207   .text:00000960 blu1tst_501
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2213   .text:0000096c end_501
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2211   .text:00000968 blu23_501
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2276   .text:0000099a red1tst_523
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2289   .text:000009b4 end_523
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2283   .text:000009a8 red23_523
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2287   .text:000009b0 red3_523
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2305   .text:000009ca grn4tst_524
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2318   .text:000009e4 end_524
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2312   .text:000009d8 grn8C_524
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2316   .text:000009e0 grn3_524
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2331   .text:000009f4 blu1tst_525
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2337   .text:00000a00 end_525
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2335   .text:000009fc blu23_525
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2398   .text:00000a2e red1tst_547
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2411   .text:00000a48 end_547
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2405   .text:00000a3c red23_547
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2409   .text:00000a44 red3_547
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2427   .text:00000a5e grn4tst_548
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2440   .text:00000a78 end_548
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2434   .text:00000a6c grn8C_548
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2438   .text:00000a74 grn3_548
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2453   .text:00000a88 blu1tst_549
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2459   .text:00000a94 end_549
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2457   .text:00000a90 blu23_549
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2635   .text:00000aac setSpriteSkyColorOverride
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5319   .bss:00000000 skyOverrideSprite
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2662   .text:00000ab6 getRawPixelVal
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2724   .text:00000af2 rawPixValToGimpColorVal
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2773   .text:00000b12 getGimpColorVal
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2848   .text:00000b58 getRawPixelValCOIN
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5444   .progmem.data:00000324 pgm_imageCOIN3
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5513   .data:00000042 CSWTCH.48
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:2933   .text:00000bb0 getSpritePalette
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5401   .data:00000018 spriteFLOWER
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5387   .data:0000000a spriteGOOMBA
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:3055   .text:00000c10 getSpritePhase
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5394   .data:00000011 spriteQ
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5522   .data:0000004e CSWTCH.51
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:3128   .text:00000c52 drawSpriteRow
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5373   .data:00000002 spriteCOIN
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:3386   .text:00000d86 fbQuestion_update
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5325   .bss:00000002 callCount
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5344   .bss:00000004 p_nextSprite
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5337   .data:00000000 p_selectedSprite
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5408   .data:0000001f spriteDEADGOOMBA
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5331   .bss:00000003 qCount
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5415   .data:00000026 spriteSOLID
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:3719   .text:00000f4e lcd_Init
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:3745   .text:00000f58 updateLCD
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5362   .bss:00000008 hsyncCount
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5350   .bss:00000006 dataEnable
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5356   .bss:00000007 vSync
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s 			page 224


/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4130   .text:00001066 __vector_14
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5368   .bss:0000000a frameCount
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4194   .text:000010ba fbQuestion_hitDetected
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5422   .data:0000002d sprite1UP
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5429   .data:00000034 spriteBIG
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5436   .data:0000003b spriteSTAR
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4324   .text:00001176 init_timer0Hsync
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4364   .text:00001190 main
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5378   .bss:0000000c adcVal.2259
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5381   .data:00000009 avgCount.2260
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5383   .bss:0000000e adcAvg.2258
                             .bss:0000000b lastFrameCount.2262
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4540   .progmem.data:00000000 header
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:4545   .progmem.data:00000024 characters
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5538   .progmem.data:00000364 pgm_imageCOIN
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5605   .progmem.data:000003a4 pgm_paletteCOIN
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5612   .progmem.data:000003a8 pgm_imageGOOMBA
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5679   .progmem.data:000003e8 pgm_paletteGOOMBA
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5706   .progmem.data:00000400 pgm_imageQ
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5773   .progmem.data:00000440 pgm_paletteQ
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5788   .progmem.data:0000044c pgm_imageFLOWER
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5855   .progmem.data:0000048c pgm_paletteFLOWER
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5874   .progmem.data:0000049c pgm_imageDEADGOOMBA
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5941   .progmem.data:000004dc pgm_paletteDEADGOOMBA
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:5948   .progmem.data:000004e0 pgm_imageSOLID
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6015   .progmem.data:00000520 pgm_paletteSOLID
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6022   .progmem.data:00000524 pgm_imageSHROOM
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6089   .progmem.data:00000564 pgm_palette1UP
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6096   .progmem.data:00000568 pgm_paletteBIG
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6103   .progmem.data:0000056c pgm_imageSTAR
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6170   .progmem.data:000005ac pgm_paletteSTAR
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6181   .progmem.data:000005b4 pgm_imageCOIN1
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccbXcNhY.s:6248   .progmem.data:000005f4 pgm_imageCOIN2

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
__udivmodhi4
__divmodhi4
__udivmodqi4
adc_getValue
__mulhi3
timer_setWGM
timer_selectDivisor
timer_compareMatchIntSetup
adc_takeInput
adc_init
adc_select
adc_startConversion
adc_isBusy
