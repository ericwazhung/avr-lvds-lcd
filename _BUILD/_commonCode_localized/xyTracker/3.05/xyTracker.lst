GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 1


   1               		.file	"xyTracker.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/Users/meh/_avrProjects/LCDdirectLVDS/68-backToLTN/",100,0,2,.Ltext0
   8               		.stabs	"_commonCode_localized/xyTracker/3.05/xyTracker.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  18               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  19               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  20               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  21               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  22               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  23               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  24               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"short _Fract:t(0,15)=r(0,1);1;0;",128,0,0,0
  27               		.stabs	"_Fract:t(0,16)=r(0,1);2;0;",128,0,0,0
  28               		.stabs	"long _Fract:t(0,17)=r(0,1);4;0;",128,0,0,0
  29               		.stabs	"long long _Fract:t(0,18)=r(0,1);8;0;",128,0,0,0
  30               		.stabs	"unsigned short _Fract:t(0,19)=r(0,1);1;0;",128,0,0,0
  31               		.stabs	"unsigned _Fract:t(0,20)=r(0,1);2;0;",128,0,0,0
  32               		.stabs	"unsigned long _Fract:t(0,21)=r(0,1);4;0;",128,0,0,0
  33               		.stabs	"unsigned long long _Fract:t(0,22)=r(0,1);8;0;",128,0,0,0
  34               		.stabs	"_Sat short _Fract:t(0,23)=r(0,1);1;0;",128,0,0,0
  35               		.stabs	"_Sat _Fract:t(0,24)=r(0,1);2;0;",128,0,0,0
  36               		.stabs	"_Sat long _Fract:t(0,25)=r(0,1);4;0;",128,0,0,0
  37               		.stabs	"_Sat long long _Fract:t(0,26)=r(0,1);8;0;",128,0,0,0
  38               		.stabs	"_Sat unsigned short _Fract:t(0,27)=r(0,1);1;0;",128,0,0,0
  39               		.stabs	"_Sat unsigned _Fract:t(0,28)=r(0,1);2;0;",128,0,0,0
  40               		.stabs	"_Sat unsigned long _Fract:t(0,29)=r(0,1);4;0;",128,0,0,0
  41               		.stabs	"_Sat unsigned long long _Fract:t(0,30)=r(0,1);8;0;",128,0,0,0
  42               		.stabs	"short _Accum:t(0,31)=r(0,1);2;0;",128,0,0,0
  43               		.stabs	"_Accum:t(0,32)=r(0,1);4;0;",128,0,0,0
  44               		.stabs	"long _Accum:t(0,33)=r(0,1);8;0;",128,0,0,0
  45               		.stabs	"long long _Accum:t(0,34)=r(0,1);8;0;",128,0,0,0
  46               		.stabs	"unsigned short _Accum:t(0,35)=r(0,1);2;0;",128,0,0,0
  47               		.stabs	"unsigned _Accum:t(0,36)=r(0,1);4;0;",128,0,0,0
  48               		.stabs	"unsigned long _Accum:t(0,37)=r(0,1);8;0;",128,0,0,0
  49               		.stabs	"unsigned long long _Accum:t(0,38)=r(0,1);8;0;",128,0,0,0
  50               		.stabs	"_Sat short _Accum:t(0,39)=r(0,1);2;0;",128,0,0,0
  51               		.stabs	"_Sat _Accum:t(0,40)=r(0,1);4;0;",128,0,0,0
  52               		.stabs	"_Sat long _Accum:t(0,41)=r(0,1);8;0;",128,0,0,0
  53               		.stabs	"_Sat long long _Accum:t(0,42)=r(0,1);8;0;",128,0,0,0
  54               		.stabs	"_Sat unsigned short _Accum:t(0,43)=r(0,1);2;0;",128,0,0,0
  55               		.stabs	"_Sat unsigned _Accum:t(0,44)=r(0,1);4;0;",128,0,0,0
  56               		.stabs	"_Sat unsigned long _Accum:t(0,45)=r(0,1);8;0;",128,0,0,0
  57               		.stabs	"_Sat unsigned long long _Accum:t(0,46)=r(0,1);8;0;",128,0,0,0
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 2


  58               		.stabs	"void:t(0,47)=(0,47)",128,0,0,0
  59               		.stabs	"_commonCode_localized/xyTracker/3.05/xyTracker.h",130,0,0,0
  60               		.stabs	"/opt/local/avr/include/inttypes.h",130,0,0,0
  61               		.stabs	"/opt/local/lib/gcc/avr/4.8.2/include/stdint.h",130,0,0,0
  62               		.stabs	"/opt/local/avr/include/stdint.h",130,0,0,0
  63               		.stabs	"int8_t:t(4,1)=(0,10)",128,0,121,0
  64               		.stabs	"uint8_t:t(4,2)=(0,11)",128,0,122,0
  65               		.stabs	"int16_t:t(4,3)=(0,1)",128,0,123,0
  66               		.stabs	"uint16_t:t(4,4)=(0,4)",128,0,124,0
  67               		.stabs	"int32_t:t(4,5)=(0,3)",128,0,125,0
  68               		.stabs	"uint32_t:t(4,6)=(0,5)",128,0,126,0
  69               		.stabs	"int64_t:t(4,7)=(0,6)",128,0,128,0
  70               		.stabs	"uint64_t:t(4,8)=(0,7)",128,0,129,0
  71               		.stabs	"intptr_t:t(4,9)=(4,3)",128,0,142,0
  72               		.stabs	"uintptr_t:t(4,10)=(4,4)",128,0,147,0
  73               		.stabs	"int_least8_t:t(4,11)=(4,1)",128,0,159,0
  74               		.stabs	"uint_least8_t:t(4,12)=(4,2)",128,0,164,0
  75               		.stabs	"int_least16_t:t(4,13)=(4,3)",128,0,169,0
  76               		.stabs	"uint_least16_t:t(4,14)=(4,4)",128,0,174,0
  77               		.stabs	"int_least32_t:t(4,15)=(4,5)",128,0,179,0
  78               		.stabs	"uint_least32_t:t(4,16)=(4,6)",128,0,184,0
  79               		.stabs	"int_least64_t:t(4,17)=(4,7)",128,0,192,0
  80               		.stabs	"uint_least64_t:t(4,18)=(4,8)",128,0,199,0
  81               		.stabs	"int_fast8_t:t(4,19)=(4,1)",128,0,213,0
  82               		.stabs	"uint_fast8_t:t(4,20)=(4,2)",128,0,218,0
  83               		.stabs	"int_fast16_t:t(4,21)=(4,3)",128,0,223,0
  84               		.stabs	"uint_fast16_t:t(4,22)=(4,4)",128,0,228,0
  85               		.stabs	"int_fast32_t:t(4,23)=(4,5)",128,0,233,0
  86               		.stabs	"uint_fast32_t:t(4,24)=(4,6)",128,0,238,0
  87               		.stabs	"int_fast64_t:t(4,25)=(4,7)",128,0,246,0
  88               		.stabs	"uint_fast64_t:t(4,26)=(4,8)",128,0,253,0
  89               		.stabs	"intmax_t:t(4,27)=(4,7)",128,0,273,0
  90               		.stabs	"uintmax_t:t(4,28)=(4,8)",128,0,278,0
  91               		.stabn	162,0,0,0
  92               		.stabn	162,0,0,0
  93               		.stabs	"int_farptr_t:t(2,1)=(4,5)",128,0,77,0
  94               		.stabs	"uint_farptr_t:t(2,2)=(4,6)",128,0,81,0
  95               		.stabn	162,0,0,0
  96               		.stabs	"./_commonCode_localized/coordStuff/0.90/coordStuff.h",130,0,0,0
  97               		.stabs	"coord_t:t(5,1)=(4,5)",128,0,31,0
  98               		.stabs	"ucoord_t:t(5,2)=(4,6)",128,0,38,0
  99               		.stabn	162,0,0,0
 100               		.stabs	"_XYTSTRUCTRECORD:T(1,1)=s21runningSum:(5,2),0,32;incrementBase:(5,1),32,32;rise:(5,2),64,3
 101               		.stabs	"xyt_t:t(1,2)=(1,3)=B(1,1)",128,0,171,0
 102               		.stabn	162,0,0,0
 103               		.stabs	"xyt_init:F(4,2)",36,0,23,xyt_init
 104               		.stabs	"line:P(0,48)=*(1,2)",64,0,23,10
 105               		.stabs	"rise:p(5,1)",160,0,23,1
 106               		.stabs	"run:p(5,2)",160,0,23,5
 107               	.global	xyt_init
 108               		.type	xyt_init, @function
 109               	xyt_init:
 110               		.stabd	46,0,0
   1:_commonCode_localized/xyTracker/3.05/xyTracker.c **** /* mehPL:
   2:_commonCode_localized/xyTracker/3.05/xyTracker.c ****  *    This is Open Source, but NOT GPL. I call it mehPL.
   3:_commonCode_localized/xyTracker/3.05/xyTracker.c ****  *    I'm not too fond of long licenses at the top of the file.
   4:_commonCode_localized/xyTracker/3.05/xyTracker.c ****  *    Please see the bottom.
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 3


   5:_commonCode_localized/xyTracker/3.05/xyTracker.c ****  *    Enjoy!
   6:_commonCode_localized/xyTracker/3.05/xyTracker.c ****  */
   7:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
   8:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
   9:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  10:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  11:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //xyTracker 3.00
  12:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  13:_commonCode_localized/xyTracker/3.05/xyTracker.c **** #include "xyTracker.h"
  14:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //#include "../../bithandling/0.93/bithandling.h"
  15:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  16:_commonCode_localized/xyTracker/3.05/xyTracker.c **** // abs(rise) <= XYT_RISE_MAX
  17:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //  1 <= run <= XYT_RUN_MAX
  18:_commonCode_localized/xyTracker/3.05/xyTracker.c **** // Returns:
  19:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //    0 if rise and run values are valid
  20:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //    Or the OR of the following:
  21:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //    0x01 if run was limited
  22:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //    0x02 if rise was limited
  23:_commonCode_localized/xyTracker/3.05/xyTracker.c **** uint8_t xyt_init(xyt_t *line, coord_t rise, ucoord_t run)
  24:_commonCode_localized/xyTracker/3.05/xyTracker.c **** {
 111               		.stabn	68,0,24,.LM0-.LFBB1
 112               	.LM0:
 113               	.LFBB1:
 114 0000 9F92      		push r9
 115 0002 AF92      		push r10
 116 0004 BF92      		push r11
 117 0006 CF92      		push r12
 118 0008 DF92      		push r13
 119 000a EF92      		push r14
 120 000c FF92      		push r15
 121 000e 0F93      		push r16
 122 0010 1F93      		push r17
 123 0012 CF93      		push r28
 124 0014 DF93      		push r29
 125 0016 CDB7      		in r28,__SP_L__
 126 0018 DEB7      		in r29,__SP_H__
 127 001a 2C97      		sbiw r28,12
 128 001c 0FB6      		in __tmp_reg__,__SREG__
 129 001e F894      		cli
 130 0020 DEBF      		out __SP_H__,r29
 131 0022 0FBE      		out __SREG__,__tmp_reg__
 132 0024 CDBF      		out __SP_L__,r28
 133               	/* prologue: function */
 134               	/* frame size = 12 */
 135               	/* stack size = 23 */
 136               	.L__stack_usage = 23
 137 0026 5C01      		movw r10,r24
 138 0028 4983      		std Y+1,r20
 139 002a 5A83      		std Y+2,r21
 140 002c 6B83      		std Y+3,r22
 141 002e 7C83      		std Y+4,r23
 142 0030 0D83      		std Y+5,r16
 143 0032 1E83      		std Y+6,r17
 144 0034 2F83      		std Y+7,r18
 145 0036 3887      		std Y+8,r19
  25:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	uint8_t retVal = 0;
  26:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 4


  27:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//Track the sign of the rise (berfore making it unsigned)
  28:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	if(rise < 0)
 146               		.stabn	68,0,28,.LM1-.LFBB1
 147               	.LM1:
 148 0038 77FF      		sbrs r23,7
 149 003a 00C0      		rjmp .L2
  29:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		line->outSign = -1;
 150               		.stabn	68,0,29,.LM2-.LFBB1
 151               	.LM2:
 152 003c 8FEF      		ldi r24,lo8(-1)
 153 003e 00C0      		rjmp .L10
 154               	.L2:
  30:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	else
  31:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		line->outSign = +1;
 155               		.stabn	68,0,31,.LM3-.LFBB1
 156               	.LM3:
 157 0040 81E0      		ldi r24,lo8(1)
 158               	.L10:
 159 0042 F501      		movw r30,r10
 160 0044 808B      		std Z+16,r24
  32:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  33:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  34:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//Check if the rise is out of range and fit it...
  35:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// (still signed at this point)
  36:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	if(coord_limit(XYT_RISE_MIN, &rise, XYT_RISE_MAX))
 161               		.stabn	68,0,36,.LM4-.LFBB1
 162               	.LM4:
 163 0046 0FEF      		ldi r16,lo8(-1)
 164 0048 1FEF      		ldi r17,lo8(-1)
 165 004a 2FEF      		ldi r18,lo8(-1)
 166 004c 3FE3      		ldi r19,lo8(63)
 167 004e AE01      		movw r20,r28
 168 0050 4F5F      		subi r20,-1
 169 0052 5F4F      		sbci r21,-1
 170 0054 61E0      		ldi r22,lo8(1)
 171 0056 70E0      		ldi r23,0
 172 0058 80E0      		ldi r24,0
 173 005a 90EC      		ldi r25,lo8(-64)
 174 005c 0E94 0000 		call coord_limit
 175 0060 8111      		cpse r24,__zero_reg__
 176 0062 00C0      		rjmp .L6
  25:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
 177               		.stabn	68,0,25,.LM5-.LFBB1
 178               	.LM5:
 179 0064 912C      		mov r9,__zero_reg__
 180 0066 00C0      		rjmp .L4
 181               	.L6:
  37:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		retVal |= 0x02;
 182               		.stabn	68,0,37,.LM6-.LFBB1
 183               	.LM6:
 184 0068 82E0      		ldi r24,lo8(2)
 185 006a 982E      		mov r9,r24
 186               	.L4:
  38:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  39:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//Now make the rise positive (handled later)
  40:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//rise = coord_abs(rise);
  41:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 5


  42:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  43:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// Don't allow run==0, or nextOutput will stall
  44:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// This works well for xyT where y=TIME since infinite incrementing makes
  45:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// no sense... and nor does a zero-change in time.
  46:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// xyT working directly with x and y requires special handling
  47:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// e.g. when drawing lines... 
  48:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// Part of the point of xyT is to traverse every point in between
  49:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//  This is no longer a *requirement* with multiStepping
  50:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//   but it would draw dotted-lines in that case...
  51:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//   IOW for drawing/traversing functions it makes the most sense to have
  52:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//   rise/run <= 1
  53:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//   (for DC Servos where run == TIME, rise/run > 1 is acceptable, 
  54:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//    but it might make more sense to decrease the encoder resolution 
  55:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//    and/or increase time resolution in the calling function...)
  56:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	if (run == 0)
  57:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //		run = 1;
  58:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  59:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	if(ucoord_limit(XYT_RUN_MIN, &run, XYT_RUN_MAX))
 187               		.stabn	68,0,59,.LM7-.LFBB1
 188               	.LM7:
 189 006c 0FEF      		ldi r16,lo8(-1)
 190 006e 1FEF      		ldi r17,lo8(-1)
 191 0070 2FEF      		ldi r18,lo8(-1)
 192 0072 3FE7      		ldi r19,lo8(127)
 193 0074 AE01      		movw r20,r28
 194 0076 4B5F      		subi r20,-5
 195 0078 5F4F      		sbci r21,-1
 196 007a 61E0      		ldi r22,lo8(1)
 197 007c 70E0      		ldi r23,0
 198 007e 80E0      		ldi r24,0
 199 0080 90E0      		ldi r25,0
 200 0082 0E94 0000 		call ucoord_limit
 201 0086 8823      		tst r24
 202 0088 01F0      		breq .L5
  60:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		retVal |= 0x01;
 203               		.stabn	68,0,60,.LM8-.LFBB1
 204               	.LM8:
 205 008a F92D      		mov r31,r9
 206 008c F160      		ori r31,lo8(1)
 207 008e 9F2E      		mov r9,r31
 208               	.L5:
  61:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  62:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	if(coord_abs(rise) >= coord_abs(run))
  63:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	{
  64:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		coord_t incBase = rise/run;
 209               		.stabn	68,0,64,.LM9-.LFBB1
 210               	.LM9:
 211 0090 C980      		ldd r12,Y+1
 212 0092 DA80      		ldd r13,Y+2
 213 0094 EB80      		ldd r14,Y+3
 214 0096 FC80      		ldd r15,Y+4
 215 0098 2D81      		ldd r18,Y+5
 216 009a 3E81      		ldd r19,Y+6
 217 009c 4F81      		ldd r20,Y+7
 218 009e 5885      		ldd r21,Y+8
 219 00a0 C701      		movw r24,r14
 220 00a2 B601      		movw r22,r12
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 6


 221 00a4 0E94 0000 		call __udivmodsi4
  65:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		//signed
  66:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		line->incrementBase = incBase;
 222               		.stabn	68,0,66,.LM10-.LFBB1
 223               	.LM10:
 224 00a8 F501      		movw r30,r10
 225 00aa 2483      		std Z+4,r18
 226 00ac 3583      		std Z+5,r19
 227 00ae 4683      		std Z+6,r20
 228 00b0 5783      		std Z+7,r21
  67:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		//line->additionalRise = line->incrementBase * run;
  68:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		line->rise = coord_abs(rise) - coord_abs(incBase * run);
 229               		.stabn	68,0,68,.LM11-.LFBB1
 230               	.LM11:
 231 00b2 C701      		movw r24,r14
 232 00b4 B601      		movw r22,r12
 233 00b6 2987      		std Y+9,r18
 234 00b8 3A87      		std Y+10,r19
 235 00ba 4B87      		std Y+11,r20
 236 00bc 5C87      		std Y+12,r21
 237 00be 0E94 0000 		call coord_abs
 238 00c2 6B01      		movw r12,r22
 239 00c4 7C01      		movw r14,r24
 240 00c6 6D81      		ldd r22,Y+5
 241 00c8 7E81      		ldd r23,Y+6
 242 00ca 8F81      		ldd r24,Y+7
 243 00cc 9885      		ldd r25,Y+8
 244 00ce 2985      		ldd r18,Y+9
 245 00d0 3A85      		ldd r19,Y+10
 246 00d2 4B85      		ldd r20,Y+11
 247 00d4 5C85      		ldd r21,Y+12
 248 00d6 0E94 0000 		call __mulsi3
 249 00da 0E94 0000 		call coord_abs
 250 00de C61A      		sub r12,r22
 251 00e0 D70A      		sbc r13,r23
 252 00e2 E80A      		sbc r14,r24
 253 00e4 F90A      		sbc r15,r25
 254 00e6 F501      		movw r30,r10
 255 00e8 C086      		std Z+8,r12
 256 00ea D186      		std Z+9,r13
 257 00ec E286      		std Z+10,r14
 258 00ee F386      		std Z+11,r15
  69:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	}
  70:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	else
  71:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	{
  72:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //		line->incrementBase = 0;
  73:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //		line->rise = 
  74:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	}
  75:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	line->run = run;	//unsigned 31bits (32nd used in runningSum!)
 259               		.stabn	68,0,75,.LM12-.LFBB1
 260               	.LM12:
 261 00f0 8D81      		ldd r24,Y+5
 262 00f2 9E81      		ldd r25,Y+6
 263 00f4 AF81      		ldd r26,Y+7
 264 00f6 B885      		ldd r27,Y+8
 265 00f8 8487      		std Z+12,r24
 266 00fa 9587      		std Z+13,r25
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 7


 267 00fc A687      		std Z+14,r26
 268 00fe B787      		std Z+15,r27
  76:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	line->rise = coord_abs(rise); //Also unsigned 30bit
  77:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	line->runningSum = 0;
 269               		.stabn	68,0,77,.LM13-.LFBB1
 270               	.LM13:
 271 0100 1082      		st Z,__zero_reg__
 272 0102 1182      		std Z+1,__zero_reg__
 273 0104 1282      		std Z+2,__zero_reg__
 274 0106 1382      		std Z+3,__zero_reg__
  78:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	line->output = 0;
 275               		.stabn	68,0,78,.LM14-.LFBB1
 276               	.LM14:
 277 0108 118A      		std Z+17,__zero_reg__
 278 010a 128A      		std Z+18,__zero_reg__
 279 010c 138A      		std Z+19,__zero_reg__
 280 010e 148A      		std Z+20,__zero_reg__
  79:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	
  80:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	return retVal;
  81:_commonCode_localized/xyTracker/3.05/xyTracker.c **** }
 281               		.stabn	68,0,81,.LM15-.LFBB1
 282               	.LM15:
 283 0110 892D      		mov r24,r9
 284               	/* epilogue start */
 285 0112 2C96      		adiw r28,12
 286 0114 0FB6      		in __tmp_reg__,__SREG__
 287 0116 F894      		cli
 288 0118 DEBF      		out __SP_H__,r29
 289 011a 0FBE      		out __SREG__,__tmp_reg__
 290 011c CDBF      		out __SP_L__,r28
 291 011e DF91      		pop r29
 292 0120 CF91      		pop r28
 293 0122 1F91      		pop r17
 294 0124 0F91      		pop r16
 295 0126 FF90      		pop r15
 296 0128 EF90      		pop r14
 297 012a DF90      		pop r13
 298 012c CF90      		pop r12
 299 012e BF90      		pop r11
 300 0130 AF90      		pop r10
 301 0132 9F90      		pop r9
 302 0134 0895      		ret
 303               		.size	xyt_init, .-xyt_init
 304               		.stabs	"retVal:r(4,2)",64,0,25,9
 305               		.stabn	192,0,0,.LFBB1-.LFBB1
 306               		.stabn	224,0,0,.Lscope1-.LFBB1
 307               	.Lscope1:
 308               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 309               		.stabd	78,0,0
 310               		.stabs	"xyt_update:F(5,1)",36,0,86,xyt_update
 311               		.stabs	"line:P(0,48)",64,0,86,30
 312               	.global	xyt_update
 313               		.type	xyt_update, @function
 314               	xyt_update:
 315               		.stabd	46,0,0
  82:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  83:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 8


  84:_commonCode_localized/xyTracker/3.05/xyTracker.c **** // Returns the amount of change during this update...
  85:_commonCode_localized/xyTracker/3.05/xyTracker.c **** // the old: coord_t xyt_nextOutput(xyt_t *line) only slightly modified
  86:_commonCode_localized/xyTracker/3.05/xyTracker.c **** coord_t xyt_update(xyt_t *line)
  87:_commonCode_localized/xyTracker/3.05/xyTracker.c **** {
 316               		.stabn	68,0,87,.LM16-.LFBB2
 317               	.LM16:
 318               	.LFBB2:
 319 0136 CF92      		push r12
 320 0138 DF92      		push r13
 321 013a EF92      		push r14
 322 013c FF92      		push r15
 323 013e 0F93      		push r16
 324 0140 1F93      		push r17
 325               	/* prologue: function */
 326               	/* frame size = 0 */
 327               	/* stack size = 6 */
 328               	.L__stack_usage = 6
 329 0142 FC01      		movw r30,r24
  88:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	coord_t thisChange = line->incrementBase; //0
 330               		.stabn	68,0,88,.LM17-.LFBB2
 331               	.LM17:
 332 0144 6481      		ldd r22,Z+4
 333 0146 7581      		ldd r23,Z+5
 334 0148 8681      		ldd r24,Z+6
 335 014a 9781      		ldd r25,Z+7
  89:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//assuming the first time this is called dX = 1 (not 0 since those coords are already known)
  90:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
  91:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//line.runningSum should not overflow, otherwise we'll be stuck in the
  92:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// while loop forever...
  93:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// rise is one bit smaller than run, so worst-case-scenario:
  94:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// run=RUNMAX rise=RISEMAX:
  95:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//  in 8-bit variables:
  96:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//  run=7bit RUNMAX = 127
  97:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//  rise=6bit RISEMAX = 63
  98:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//  runningSum = 0->63->126->189 (thus necessitating riseBits<=varBits-1)
  99:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// In 32bit (unsigned): run is 31bits, rise is 30bits
 100:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// then RISEMAX = 2^30-1 = 1,073,741,823
 101:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// Seems like plenty for most coordinate-systems...
 102:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// There *might* be a way to do this with integer-overflow
 103:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//  but I can't determine how off-hand.
 104:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	line->runningSum += line->rise;
 336               		.stabn	68,0,104,.LM18-.LFBB2
 337               	.LM18:
 338 014c C080      		ld r12,Z
 339 014e D180      		ldd r13,Z+1
 340 0150 E280      		ldd r14,Z+2
 341 0152 F380      		ldd r15,Z+3
 342 0154 0085      		ldd r16,Z+8
 343 0156 1185      		ldd r17,Z+9
 344 0158 2285      		ldd r18,Z+10
 345 015a 3385      		ldd r19,Z+11
 346 015c 0C0D      		add r16,r12
 347 015e 1D1D      		adc r17,r13
 348 0160 2E1D      		adc r18,r14
 349 0162 3F1D      		adc r19,r15
 350 0164 0083      		st Z,r16
 351 0166 1183      		std Z+1,r17
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 9


 352 0168 2283      		std Z+2,r18
 353 016a 3383      		std Z+3,r19
 354               	.L13:
 105:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
 106:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	//This used to be "if" but rise>run requires "while"	
 107:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	// What a SIMPLE change!
 108:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	while(line->runningSum >= line->run)
 355               		.stabn	68,0,108,.LM19-.LFBB2
 356               	.LM19:
 357 016c C080      		ld r12,Z
 358 016e D180      		ldd r13,Z+1
 359 0170 E280      		ldd r14,Z+2
 360 0172 F380      		ldd r15,Z+3
 361 0174 0485      		ldd r16,Z+12
 362 0176 1585      		ldd r17,Z+13
 363 0178 2685      		ldd r18,Z+14
 364 017a 3785      		ldd r19,Z+15
 365 017c C016      		cp r12,r16
 366 017e D106      		cpc r13,r17
 367 0180 E206      		cpc r14,r18
 368 0182 F306      		cpc r15,r19
 369 0184 00F0      		brlo .L15
 109:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	{
 110:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		line->runningSum -= line->run;
 370               		.stabn	68,0,110,.LM20-.LFBB2
 371               	.LM20:
 372 0186 0081      		ld r16,Z
 373 0188 1181      		ldd r17,Z+1
 374 018a 2281      		ldd r18,Z+2
 375 018c 3381      		ldd r19,Z+3
 376 018e C484      		ldd r12,Z+12
 377 0190 D584      		ldd r13,Z+13
 378 0192 E684      		ldd r14,Z+14
 379 0194 F784      		ldd r15,Z+15
 380 0196 0C19      		sub r16,r12
 381 0198 1D09      		sbc r17,r13
 382 019a 2E09      		sbc r18,r14
 383 019c 3F09      		sbc r19,r15
 384 019e 0083      		st Z,r16
 385 01a0 1183      		std Z+1,r17
 386 01a2 2283      		std Z+2,r18
 387 01a4 3383      		std Z+3,r19
 111:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 		//line->output += line->outSign;
 112:_commonCode_localized/xyTracker/3.05/xyTracker.c ****       thisChange += line->outSign;
 388               		.stabn	68,0,112,.LM21-.LFBB2
 389               	.LM21:
 390 01a6 0089      		ldd r16,Z+16
 391 01a8 1127      		clr r17
 392 01aa 07FD      		sbrc r16,7
 393 01ac 1095      		com r17
 394 01ae 212F      		mov r18,r17
 395 01b0 312F      		mov r19,r17
 396 01b2 600F      		add r22,r16
 397 01b4 711F      		adc r23,r17
 398 01b6 821F      		adc r24,r18
 399 01b8 931F      		adc r25,r19
 400 01ba 00C0      		rjmp .L13
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 10


 401               	.L15:
 113:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	}
 114:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
 115:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	line->output += thisChange;
 402               		.stabn	68,0,115,.LM22-.LFBB2
 403               	.LM22:
 404 01bc 0189      		ldd r16,Z+17
 405 01be 1289      		ldd r17,Z+18
 406 01c0 2389      		ldd r18,Z+19
 407 01c2 3489      		ldd r19,Z+20
 408 01c4 060F      		add r16,r22
 409 01c6 171F      		adc r17,r23
 410 01c8 281F      		adc r18,r24
 411 01ca 391F      		adc r19,r25
 412 01cc 018B      		std Z+17,r16
 413 01ce 128B      		std Z+18,r17
 414 01d0 238B      		std Z+19,r18
 415 01d2 348B      		std Z+20,r19
 416               	/* epilogue start */
 116:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	return thisChange;
 117:_commonCode_localized/xyTracker/3.05/xyTracker.c **** //	return line->output;
 118:_commonCode_localized/xyTracker/3.05/xyTracker.c **** }
 417               		.stabn	68,0,118,.LM23-.LFBB2
 418               	.LM23:
 419 01d4 1F91      		pop r17
 420 01d6 0F91      		pop r16
 421 01d8 FF90      		pop r15
 422 01da EF90      		pop r14
 423 01dc DF90      		pop r13
 424 01de CF90      		pop r12
 425 01e0 0895      		ret
 426               		.size	xyt_update, .-xyt_update
 427               		.stabs	"thisChange:r(5,1)",64,0,88,22
 428               		.stabn	192,0,0,.LFBB2-.LFBB2
 429               		.stabn	224,0,0,.Lscope2-.LFBB2
 430               	.Lscope2:
 431               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 432               		.stabd	78,0,0
 433               		.stabs	"xyt_remainder:F(5,1)",36,0,129,xyt_remainder
 434               		.stabs	"line:P(0,48)",64,0,129,24
 435               	.global	xyt_remainder
 436               		.type	xyt_remainder, @function
 437               	xyt_remainder:
 438               		.stabd	46,0,0
 119:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
 120:_commonCode_localized/xyTracker/3.05/xyTracker.c **** /*
 121:_commonCode_localized/xyTracker/3.05/xyTracker.c **** coord_t xyt_nextOutput(xyt_t *line)
 122:_commonCode_localized/xyTracker/3.05/xyTracker.c **** {
 123:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	xyt_update(line);
 124:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	return line->output;
 125:_commonCode_localized/xyTracker/3.05/xyTracker.c **** }
 126:_commonCode_localized/xyTracker/3.05/xyTracker.c **** */
 127:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 
 128:_commonCode_localized/xyTracker/3.05/xyTracker.c **** #if (!defined(XYT_REMAINDER_UNUSED) || !XYT_REMAINDER_UNUSED)
 129:_commonCode_localized/xyTracker/3.05/xyTracker.c **** coord_t xyt_remainder(xyt_t *line)
 130:_commonCode_localized/xyTracker/3.05/xyTracker.c **** {
 439               		.stabn	68,0,130,.LM24-.LFBB3
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 11


 440               	.LM24:
 441               	.LFBB3:
 442               	/* prologue: function */
 443               	/* frame size = 0 */
 444               	/* stack size = 0 */
 445               	.L__stack_usage = 0
 131:_commonCode_localized/xyTracker/3.05/xyTracker.c **** 	return line->runningSum;
 446               		.stabn	68,0,131,.LM25-.LFBB3
 447               	.LM25:
 448 01e2 FC01      		movw r30,r24
 449 01e4 6081      		ld r22,Z
 450 01e6 7181      		ldd r23,Z+1
 451 01e8 8281      		ldd r24,Z+2
 452 01ea 9381      		ldd r25,Z+3
 132:_commonCode_localized/xyTracker/3.05/xyTracker.c **** }
 453               		.stabn	68,0,132,.LM26-.LFBB3
 454               	.LM26:
 455 01ec 0895      		ret
 456               		.size	xyt_remainder, .-xyt_remainder
 457               	.Lscope3:
 458               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 459               		.stabd	78,0,0
 460               		.stabs	"",100,0,0,.Letext0
 461               	.Letext0:
 462               		.ident	"GCC: (GNU) 4.8.2"
GAS LISTING /var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 xyTracker.c
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:2      *ABS*:0000003e __SP_H__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:3      *ABS*:0000003d __SP_L__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:4      *ABS*:0000003f __SREG__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:5      *ABS*:00000000 __tmp_reg__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:6      *ABS*:00000001 __zero_reg__
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:109    .text:00000000 xyt_init
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:314    .text:00000136 xyt_update
/var/folders/yG/yGnXnnFGGj4hKA71DL26EU+++TI/-Tmp-//ccVGyBy5.s:437    .text:000001e2 xyt_remainder

UNDEFINED SYMBOLS
coord_limit
ucoord_limit
__udivmodsi4
coord_abs
__mulsi3
